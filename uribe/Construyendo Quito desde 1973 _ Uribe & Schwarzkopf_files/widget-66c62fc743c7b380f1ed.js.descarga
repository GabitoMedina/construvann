!function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,_=[];d<s.length;d++)i=s[d],a[i]&&_.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);_.length;)_.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={2:0};var o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=a[e]=[t,r]});t.push(n[2]=r);var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(e){return i.p+"assets/"+({}[e]||e)+"-"+{0:"fcf81b230a7a9e0a3fda"}[e]+".js"}(e);var c=setTimeout(function(){u({type:"timeout",target:s})},12e4);function u(t){s.onerror=s.onload=null,clearTimeout(c);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+o+")");i.type=r,i.request=o,n[1](i)}a[e]=void 0}}s.onerror=s.onload=u,o.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/deploy/assets/",i.oe=function(e){throw console.error(e),e};var s=window.driftWebpackJsonp=window.driftWebpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([1541,1]),n()}([,,,function(e,t,n){"use strict";n.d(t,"Da",function(){return r}),n.d(t,"z",function(){return a}),n.d(t,"B",function(){return o}),n.d(t,"A",function(){return i}),n.d(t,"J",function(){return s}),n.d(t,"K",function(){return c}),n.d(t,"I",function(){return u}),n.d(t,"Na",function(){return l}),n.d(t,"C",function(){return d}),n.d(t,"E",function(){return _}),n.d(t,"D",function(){return p}),n.d(t,"S",function(){return f}),n.d(t,"R",function(){return m}),n.d(t,"U",function(){return b}),n.d(t,"T",function(){return g}),n.d(t,"Qa",function(){return h}),n.d(t,"F",function(){return v}),n.d(t,"H",function(){return E}),n.d(t,"G",function(){return y}),n.d(t,"a",function(){return O}),n.d(t,"c",function(){return C}),n.d(t,"b",function(){return T}),n.d(t,"P",function(){return M}),n.d(t,"Q",function(){return I}),n.d(t,"O",function(){return P}),n.d(t,"M",function(){return A}),n.d(t,"N",function(){return S}),n.d(t,"L",function(){return D}),n.d(t,"Wa",function(){return k}),n.d(t,"w",function(){return w}),n.d(t,"x",function(){return j}),n.d(t,"v",function(){return R}),n.d(t,"Ma",function(){return B}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return U}),n.d(t,"Sa",function(){return L}),n.d(t,"Z",function(){return W}),n.d(t,"y",function(){return x}),n.d(t,"g",function(){return H}),n.d(t,"Ca",function(){return K}),n.d(t,"Ba",function(){return F}),n.d(t,"Aa",function(){return q}),n.d(t,"Ra",function(){return z}),n.d(t,"Ka",function(){return G}),n.d(t,"d",function(){return V}),n.d(t,"Fa",function(){return Y}),n.d(t,"h",function(){return Z}),n.d(t,"Ha",function(){return J}),n.d(t,"Ia",function(){return Q}),n.d(t,"Ja",function(){return X}),n.d(t,"Pa",function(){return $}),n.d(t,"Ga",function(){return ee}),n.d(t,"La",function(){return te}),n.d(t,"Ea",function(){return ne}),n.d(t,"V",function(){return re}),n.d(t,"Y",function(){return ae}),n.d(t,"X",function(){return oe}),n.d(t,"W",function(){return ie}),n.d(t,"Oa",function(){return se}),n.d(t,"Ta",function(){return ce}),n.d(t,"Va",function(){return ue}),n.d(t,"Ua",function(){return le}),n.d(t,"o",function(){return de}),n.d(t,"m",function(){return _e}),n.d(t,"n",function(){return pe}),n.d(t,"l",function(){return fe}),n.d(t,"q",function(){return me}),n.d(t,"r",function(){return be}),n.d(t,"p",function(){return ge}),n.d(t,"j",function(){return he}),n.d(t,"k",function(){return ve}),n.d(t,"i",function(){return Ee}),n.d(t,"u",function(){return ye}),n.d(t,"t",function(){return Oe}),n.d(t,"s",function(){return Ce});var r="INITIALIZE_API",a="FETCH_BOOTSTRAP",o="FETCH_BOOTSTRAP_SUCCESS",i="FETCH_BOOTSTRAP_FAIL",s="FETCH_EMBED_CONFIGURATION_PENDING",c="FETCH_EMBED_CONFIGURATION_SUCCESS",u="FETCH_EMBED_CONFIGURATION_FAILURE",l="OVERRIDE_EMBED_CONFIGURATION",d="FETCH_DRIFTT_ORG",_="FETCH_DRIFTT_ORG_SUCCESS",p="FETCH_DRIFTT_ORG_FAIL",f="GO_TO_NEW_CONVERSATION",m="GO_TO_LIST",b="GO_TO_SELECTED_CONVERSATION",g="GO_TO_OFFLINE_FEEDBACK",h="SET_SIDERBAR_VIEW",v="FETCH_DRIFTT_USERS",E="FETCH_DRIFTT_USERS_SUCCESS",y="FETCH_DRIFTT_USERS_FAIL",O="AUTHENTICATE_END_USER",C="AUTHENTICATE_END_USER_SUCCESS",T="AUTHENTICATE_END_USER_FAIL",M="FETCH_SEGMENT_MEMBERSHIP_PENDING",I="FETCH_SEGMENT_MEMBERSHIP_SUCCESS",P="FETCH_SEGMENT_MEMBERSHIP_FAILURE",A="FETCH_GEOLOCATION_PENDING",S="FETCH_GEOLOCATION_SUCCESS",D="FETCH_GEOLOCATION_FAILURE",k="UPDATE_ACTIVE_CAMPAIGNS",w="ENROLL_IN_CAMPAIGN_PENDING",j="ENROLL_IN_CAMPAIGN_SUCCESS",R="ENROLL_IN_CAMPAIGN_FAILURE",B="OPEN_SIDEBAR",N="CLOSE_SIDEBAR",U="CLOSE_SIDEBAR_WITH_TWEEN",L="SHOW_WIDGET",W="HIDE_WIDGET",x="EXPAND_WIDGET",H="COLLAPSE_WIDGET",K="IFRAME_RESIZE_DONE",F="IFRAME_RESIZE",q="IFRAME_OVERRIDE_SIZE",z="SHOW_TYPING_INDICATOR_BUTTON_ICON",G="OPEN_ACTIVATION_TAKEOVER",V="CLOSE_ACTIVATION_TAKEOVER",Y="LIST",Z="CONVERSATION",J="NEW_CONVERSATION",Q="NEW_CONVERSATION_AWAY",X="NEW_CONVERSATION_CAMPAIGN",$="SET_IDENTIFIED_CONVERSATION",ee="LOADING",te="OPEN_CONSENT_TAKEOVER",ne="LAZY_CAMPAIGN_EVALUATION",re="HANDLE_POST_MESSAGE",ae="HANDLE_WINDOW_SCROLL",oe="HANDLE_WINDOW_MOUSE_LEAVE",ie="HANDLE_WINDOW_MOUSE_ENTER",se="REFRESH_TARGETING",ce="SUBMIT_OFFLINE_FEEDBACK",ue="SUBMIT_OFFLINE_FEEDBACK_SUCCESS",le="SUBMIT_OFFLINE_FEEDBACK_FAIL",de="DRIFT_ENQUEUE_MESSAGE",_e="DRIFT_CREATE_MESSAGE_PENDING",pe="DRIFT_CREATE_MESSAGE_SUCCESS",fe="DRIFT_CREATE_MESSAGE_FAILURE",me="DRIFT_SEND_READ_RECEIPT_PENDING",be="DRIFT_SEND_READ_RECEIPT_SUCCESS",ge="DRIFT_SEND_READ_RECEIPT_FAILURE",he="DRIFT_CREATE_CONVERSATION_PENDING",ve="DRIFT_CREATE_CONVERSATION_SUCCESS",Ee="DRIFT_CREATE_CONVERSATION_FAILURE",ye="EMAIL_CAPTURE_SLIDER_SUBMITTED",Oe="EMAIL_CAPTURE_SLIDER_DISMISSED",Ce="EMAIL_CAPTURE_SLIDER_CLEARED"},function(e,t,n){"use strict";n.d(t,"i",function(){return p}),n.d(t,"F",function(){return f}),n.d(t,"l",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"w",function(){return h}),n.d(t,"u",function(){return v}),n.d(t,"J",function(){return E}),n.d(t,"k",function(){return y}),n.d(t,"o",function(){return O}),n.d(t,"n",function(){return C}),n.d(t,"I",function(){return T}),n.d(t,"A",function(){return M}),n.d(t,"C",function(){return I}),n.d(t,"z",function(){return P}),n.d(t,"E",function(){return A}),n.d(t,"e",function(){return S}),n.d(t,"B",function(){return D}),n.d(t,"f",function(){return k}),n.d(t,"g",function(){return w}),n.d(t,"t",function(){return j}),n.d(t,"D",function(){return R}),n.d(t,"p",function(){return B}),n.d(t,"s",function(){return N}),n.d(t,"a",function(){return U}),n.d(t,"h",function(){return L}),n.d(t,"G",function(){return W}),n.d(t,"H",function(){return x}),n.d(t,"L",function(){return H}),n.d(t,"K",function(){return K}),n.d(t,"v",function(){return F}),n.d(t,"y",function(){return q}),n.d(t,"x",function(){return z}),n.d(t,"r",function(){return G}),n.d(t,"m",function(){return V}),n.d(t,"b",function(){return Y}),n.d(t,"q",function(){return Z}),n.d(t,"d",function(){return J});var r=n(89),a=n.n(r),o=n(8),i=n(20),s=n(390),c=n(132),u=(n(222),n(86)),l=n(30),d=n(3),_=n(52),p=function(e){return e.EndUser.currentEndUser},f=Object(o.createSelector)(p,function(e){return e&&e.type===c.a}),m=Object(o.createSelector)(p,function(e){return e&&e.email}),b=(Object(o.createSelector)(p,function(e){return e&&e.type===c.b}),function(e){return e.DriftUser.driftUsersById}),g=b,h=(Object(o.createSelector)(g,function(e){return Object(s.a)(e,function(e){return e&&e.status===u.a})}),function(e){return e.Targeting}),v=function(e){return e.EndUser.segmentMembership},E=function(e){return!!e.EndUser.segmentMembershipFetched},y=function(e){return e.Bootstrap.embedConfiguration},O=function(e){return y(e).gates},C=function(e){return function(t){return!!O(t)[e]}},T=function(e){return function(t){return!!function(e){return y(e).integrations.connections}(t)[e]}},M=C("CENTRALIZED_ROUTING"),I=C("geolocation_disabled"),P=C("ABM"),A=function(e){return e.Bootstrap.embedConfiguration.chatEnabled},S=function(e){return e.Bootstrap.embedConfiguration.theme.audience},D=function(e){return e.Bootstrap.embedConfiguration.theme.enableChatIfConversationHistory},k=function(e){return e.Bootstrap.embedConfiguration.theme.conditions},w=function(e){return e.Bootstrap.embedConfiguration.theme.userListIds},j=Object(o.createSelector)(l.e,l.d,l.f,function(e,t,n){if(e)return{type:"RECENT_MESSAGE_PREVIEW",message:e.toJS()};if(t)switch(t.type){case"EMAIL_CAPTURE":return{type:_.d,message:t};case _.e:return{type:"NPS_PREVIEW",message:t,attributes:t.attributes};case _.b:return{type:"ANNOUNCEMENT_PREVIEW",message:t,attributes:t.attributes}}if(n)switch(n.type){case _.b:return{type:"ANNOUNCEMENT_PREVIEW",message:n,attributes:n.attributes}}return{type:"NO_PREVIEW"}}),R=function(e){return e.Event.hasPreviouslyIdentified},B=function(e){return e.UI.identifiedConversationId},N=Object(o.createSelector)(h,function(e){return{userAgent:e.userAgent,locale:e.locale,os:e.os,campaign:e.ad,page:e.page,timezone:e.timezone,influencingCampaignId:e.influencingCampaignId,influencingSignatureId:e.influencingSignatureId,influencingAgentId:e.influencingAgentId}});function U(e){var t=e.Bootstrap,n=t.isBootstrapping,r=t.hasBootstrapped,a=t.externalId;return!n&&!r&&!!a}function L(e){var t=e.Bootstrap,n=t.hasBootstrapped,r=t.isBootstrapping;return n?"success":r?"pending":"failure"}var W=function(e){var t=Object(i.a)(e,"Targeting.geo.status");return t===d.N||t===d.L},x=function(e){return Object(i.a)(e,"Targeting.geo.status")===d.M},H=function(e,t){var n=e.Bootstrap,r=n.hasBootstrapped,a=n.isBootstrapping,o=n.externalId,i=n.anonymousId,s=t.Bootstrap,c=s.externalId,u=s.anonymousId;return!r&&!a||(c?c!==o:!!u&&u!==i)},K=function(e){return Object(i.a)(e,"Targeting.visits.currentSessionStartedAt")||Object(i.a)(e,"Targeting.visits.last",0)},F=function(e){return!1},q=function(e){return e.Bootstrap.embedConfiguration.theme.userListMode},z=function(e){return e.Bootstrap.embedConfiguration.theme.userList},G=function(e){return e.Bootstrap.embedConfiguration.locale||"en"},V=(Object(o.createSelector)(G,function(e){var t=e.split("-");return a()(t,1)[0]}),function(e){return e.EndUser}),Y=Object(o.createSelector)(V,function(e){return e.authToken}),Z=Object(o.createSelector)(V,function(e){return e.leadEmail}),J=Object(o.createSelector)(Y,function(e){return e?{Authorization:"bearer "+e}:{}})},,,,,,,,,,,function(e,t,n){"use strict";var r=n(8),a=n(26),o=n.n(a),i=n(95),s=n.n(i),c=s()({ON:"ON",OFF:"OFF",AWAY:"AWAY"}),u=s()({AUTO:"AUTO",MANUAL:"MANUAL"}),l=n(417),d=n(141),_=n(170),p=n(695),f=n(831);n.d(t,"k",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"l",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"q",function(){return C}),n.d(t,"p",function(){return T}),n.d(t,"j",function(){return M}),n.d(t,"s",function(){return S}),n.d(t,"o",function(){return D}),n.d(t,"d",function(){return k}),n.d(t,"n",function(){return w}),n.d(t,"m",function(){return R}),n.d(t,"c",function(){return B}),n.d(t,"b",function(){return N}),n.d(t,"i",function(){return U}),n.d(t,"r",function(){return H}),n.d(t,"h",function(){return F});var m=function(e){return e.Bootstrap.orgId},b=function(e){return e.Bootstrap.anonymousId},g=function(e){return e.Bootstrap.externalId},h=function(e){return e.Bootstrap.sessionId},v=function(e){return e.Bootstrap.embedConfiguration},E=function(e){return v(e).theme},y=function(e){return e.Bootstrap.embedId},O=function(e){return v(e).gates||{}},C=function(e){return O(e).has_bot_landing_pages||!1},T=function(e){return O(e).has_consolidated_welcome_msg||!1},M=function(e){return O(e).has_new_callout},I=function(e){return E(e).foregroundColor},P=function(e){return E(e).backgroundColor},A=function(e){return v(e).team||[]},S=function(e){return!!v(e).showBranding},D=function(e){return!!E(e).showWelcomeMessage},k=function(e){return E(e).captureEmail},w=function(e){var t=E(e).welcomeMessageDelay;return Object(_.a)(t)?5e3:t},j=Object(r.createSelector)([function(e){return E(e).textColor},I,P],function(e,t,n){return e?Object(d.b)(e):/ffffff|000000/i.test(t)?Object(d.b)(t):Object(d.c)(n)}),R=Object(r.createStructuredSelector)({foregroundColor:o()(d.b,I),backgroundColor:o()(d.b,P),activeColor:o()(d.b,function(e){return E(e).activeColor}),textColor:o()(d.b,j)}),B=function(e){return v(e).autoAssigneeId},N=function(e){return v(e).autoAssignee},U=function(e){return!!v(e).profileMode},L=function(e){return v(e).doNotDisturbUsers||[]},W=function(e){var t=e.team,n=e.doNotDisturbUserIds,r=t.filter(function(e){return"ENABLED"===e.status}).filter(function(e){return!e.bot}).map(function(e){return e.id});return Object(p.a)(r,n).length>0},x=Object(r.createSelector)([A,L],function(e,t){return W({team:e,doNotDisturbUserIds:t})}),H=function(e){return Object(r.createSelector)([A,L],function(t,n){var r=Object(f.a)(t,e,function(e,t){return e.id===t});return W({team:r,doNotDisturbUserIds:n})})},K=Object(r.createSelector)(E,function(e){var t=e.timezone,n=e.openHours;return Object(l.a)(t,n)}),F=Object(r.createSelector)([K,function(e){return v(e).widgetStatus},function(e){return v(e).widgetMode},x,function(e){return E(e).availabilityBasedOnline}],function(e,t,n,r,a){return function(e){var t=e.widgetStatus,n=void 0===t?c.ON:t,r=e.widgetMode,a=e.isOpenForBusiness,o=void 0===a||a,i=e.areAgentsAvailable,s=void 0===i||i,l=e.availabilityBasedOnline,d=void 0!==l&&l;return r===u.MANUAL?n===c.ON:r===u.AUTO?!!o&&(!d||s):n===c.ON&&o}({isOpenForBusiness:e,widgetStatus:t,widgetMode:n,areAgentsAvailable:r,availabilityBasedOnline:a})})},,,function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return g});var r=n(239),a=n.n(r),o=n(106),i=n.n(o),s=n(76),c=n(33),u=n(91),l=n(36),d=function(e){return u.a.apply(null,[{}].concat(i()(a()(e))))},_=function(){return{"Content-Type":"application/json"}},p=function(){return{"Content-Type":"application/x-www-form-urlencoded"}},f=function(e){var t=[];for(var n in e){var r=e[n];Object(c.a)(r)?Object(s.a)(r,function(e){return t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):null!=r&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")},m=function(e){return 200<=e.status&&e.status<300?e:e.json().then(function(t){var n=new Error(e.statusText);throw n.response=e,n.responseData=t,n})},b=function(e){switch(e.status){case 101:case 204:case 205:case 304:return;default:return e.json()}},g=function(e,t){return fetch(e,t).then(m).then(b).catch(function(n){throw l.a.error(n,{request:{url:e,options:t},response:n.response}),n.responseData||n})}},function(e,t,n){"use strict";n.d(t,"G",function(){return a}),n.d(t,"s",function(){return o}),n.d(t,"m",function(){return i}),n.d(t,"o",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"j",function(){return _}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"p",function(){return m}),n.d(t,"r",function(){return b}),n.d(t,"q",function(){return g}),n.d(t,"y",function(){return h}),n.d(t,"b",function(){return v}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return y}),n.d(t,"c",function(){return O}),n.d(t,"x",function(){return C}),n.d(t,"A",function(){return T}),n.d(t,"B",function(){return M}),n.d(t,"z",function(){return I}),n.d(t,"C",function(){return P}),n.d(t,"E",function(){return A}),n.d(t,"F",function(){return S}),n.d(t,"D",function(){return D}),n.d(t,"t",function(){return k}),n.d(t,"f",function(){return w}),n.d(t,"a",function(){return j}),n.d(t,"u",function(){return R}),n.d(t,"w",function(){return B}),n.d(t,"v",function(){return N}),n.d(t,"H",function(){return U}),n.d(t,"K",function(){return L}),n.d(t,"J",function(){return W}),n.d(t,"I",function(){return x});var r=function(e){return"@@widget/message/"+e},a=r("SELECT_CONVERSATION"),o=r("MARK_AS_READ"),i=r("FETCH_CONVERSATIONS"),s=r("FETCH_CONVERSATIONS_SUCCESS"),c=r("FETCH_CONVERSATIONS_FAILURE"),u=r("FETCH_CAMPAIGN_CONVERSATIONS"),l=r("FETCH_CAMPAIGN_CONVERSATIONS_SUCCESS"),d=r("FETCH_CAMPAIGN_CONVERSATIONS_FAILURE"),_=r("FETCH_CAMPAIGN_ENROLLMENT"),p=r("FETCH_CAMPAIGN_ENROLLMENT_SUCCESS"),f=r("FETCH_CAMPAIGN_ENROLLMENT_FAILURE"),m=r("FETCH_MESSAGES"),b=r("FETCH_MESSAGES_SUCCESS"),g=r("FETCH_MESSAGES_FAILURE"),h=r("REQUEST_CREATE_CONVERSATION_EVENT"),v=r("CREATE_CONVERSATION_EVENT"),E=r("CREATE_CONVERSATION_EVENT_PENDING"),y=r("CREATE_CONVERSATION_EVENT_SUCCESS"),O=r("CREATE_CONVERSATION_EVENT_FAILURE"),C=r("REQUEST_CREATE_CONVERSATION"),T=r("REQUEST_CREATE_CONVERSATION_PENDING"),M=r("REQUEST_CREATE_CONVERSATION_SUCCESS"),I=r("REQUEST_CREATE_CONVERSATION_FAILURE"),P=r("REQUEST_CREATE_MESSAGE"),A=r("REQUEST_CREATE_MESSAGE_PENDING"),S=r("REQUEST_CREATE_MESSAGE_SUCCESS"),D=r("REQUEST_CREATE_MESSAGE_FAILURE"),k=r("RECEIVE_MESSAGE"),w=r("CREATE_MESSAGE"),j=r("CREATE_CONVERSATION"),R=r("RECORD_RTT"),B=r("RECORD_RTT_SUCCESS"),N=r("RECORD_RTT_FAILURE"),U=r("SLIDER_MESSAGE_DISMISSED"),L=r("UPDATE_UNREAD_CAMPAIGNS"),W=r("UPDATE_MOST_RECENTLY_READ_CAMPAIGN_CONVERSATION"),x=r("UNSET_MOST_RECENTLY_READ_CAMPAIGN_CONVERSATION")},,,function(e,t,n){"use strict";n.d(t,"v",function(){return d}),n.d(t,"t",function(){return _}),n.d(t,"o",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return h}),n.d(t,"f",function(){return v}),n.d(t,"l",function(){return E}),n.d(t,"m",function(){return y}),n.d(t,"k",function(){return O}),n.d(t,"n",function(){return C}),n.d(t,"u",function(){return M}),n.d(t,"r",function(){return I}),n.d(t,"w",function(){return P}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return D}),n.d(t,"i",function(){return k}),n.d(t,"e",function(){return w}),n.d(t,"h",function(){return j}),n.d(t,"j",function(){return R}),n.d(t,"a",function(){return B}),n.d(t,"s",function(){return N});var r=n(8),a=n(88),o=n(134),i=n(392),s=n(20),c=n(149),u=n(78),l=function(e){return e.Bootstrap},d=function(e){return function(e){return l(e).hasPreviouslyBootstrapped}(e)||!!k(e)||!!R(e)||m(e)},_=function(e){return l(e).isBootstrapping},p=function(e){return l(e).hasBootstrapped},f=function(e){return l(e).embedConfiguration},m=function(e){return!!f(e).profileMode},b=Object(r.createSelector)(f,function(e){return e.gates||{}}),g=function(e){return b(e).has_consolidated_welcome_msg||!1},h=function(e){return b(e).has_widget_customization||!1},v=Object(r.createSelector)([function(e){return!1!==f(e).campaignsEnabled},function(e){return f(e).campaigns}],function(e,t){return e?t:[]}),E=Object(r.createSelector)(v,function(e){return Object(i.a)(e,"priority")}),y=function(e){return!!f(e).showBranding},O=function(e){return f(e).organizationName},C=function(e){return f(e).theme},T=function(e){return C(e).audience},M=Object(r.createSelector)([T,function(e){return C(e).userListIds},v],function(e,t,n){return e===o.c&&!Object(c.a)(t)||Object(u.a)(n,function(e){return!Object(c.a)(e.userListIds)||!Object(c.a)(Object(s.a)(e,"attributes.excludedUserListIds"))})}),I=Object(r.createSelector)([T,v],function(e,t){var n=Object(u.a)(t,function(e){return!Object(c.a)(Object(s.a)(e,"attributes.accountListIds"))});return!(e!==o.c||!n)||Object(u.a)(t,function(e){return!Object(c.a)(Object(s.a)(e,"attributes.excludedAccountListIds"))})}),P=function(e){return C(e).showUnfurl},A=function(e){return C(e).allowEndUserFileUpload},S=function(e){return!C(e).disableNewConversations},D=function(e){return!C(e).disableSidebarClose},k=function(e){return l(e).externalId},w=function(e){return l(e).anonymousId},j=function(e){return l(e).endUserEmail},R=function(e){return l(e).oneshotToken},B=function(e){return!_(e)&&!p(e)&&function(e){return!(!k(e)&&!w(e))}(e)},N=function(e){return Object(a.i)(e)}},,function(e,t,n){"use strict";n(830);var r=n(95),a=n.n(r)()({PROD:"PRODUCTION",QA:"MASTER",DEV:"dev"});n.d(t,"n",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return _}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return h}),n.d(t,"q",function(){return v}),n.d(t,"s",function(){return E}),n.d(t,"p",function(){return y}),n.d(t,"r",function(){return O}),n.d(t,"t",function(){return C}),n.d(t,"u",function(){return T}),n.d(t,"o",function(){return M}),n.d(t,"k",function(){return I});var o=void 0,i="https://816fa28dc7cf492ba8ffa277d90f0345@app.getsentry.com/61707",s=(o=__ENV__===a.PROD?{ATTACHMENTS_API_BASE:"https://attachments.drift-files.com",AUTH_API_BASE:"https://customer.api.drift.com",CUSTOMER_API_BASE:"https://customer.api.drift.com",CONVERSATION_API_BASE:"https://conversation.api.drift.com",EVENT_API_BASE:"https://event.api.drift.com",IDENTIFY_API_BASE:"https://identify.api.drift.com",EMBED_API_BASE:"https://js.driftt.com",ENRICHMENT_API_BASE:"https://enrichment.api.drift.com",CLIENT_ID:"f6zuizdyhxrm7r",PRESENCE_API_BASE:"https://ws.api.drift.com",PRESENCE_WSS_BASE:"wss://ws.api.drift.com",MESSAGES_API_BASE:"https://chat.api.drift.com",MESSAGES_WSS_BASE:"wss://chat.api.drift.com",WS_CHAT_USE_SHARDS:!0,WS_LIVE_USE_SHARDS:!0,WS_CHAT_BASE:"chat.api.drift.com",WS_LIVE_BASE:"live.api.drift.com",WS_NUM_SHARDS:50,WS_WSS_PROTOCOL:"wss",WS_API_PROTOCOL:"https",METRICS_API_BASE:"https://metrics.api.drift.com"}:{ATTACHMENTS_API_BASE:"https://attachments.driftqa-files.com",AUTH_API_BASE:"https://customer2.api.driftqa.com",CUSTOMER_API_BASE:"https://customer2.api.driftqa.com",CONVERSATION_API_BASE:"https://conversation2.api.driftqa.com",EVENT_API_BASE:"https://event2.api.driftqa.com",IDENTIFY_API_BASE:"https://identify.api.driftqa.com",EMBED_API_BASE:"https://js.driftt.com",ENRICHMENT_API_BASE:"https://enrichment.api.driftqa.com",CLIENT_ID:"5su4735sxsu7tx",PRESENCE_API_BASE:"https://ws.api.driftqa.com",PRESENCE_WSS_BASE:"wss://ws.api.driftqa.com",MESSAGES_API_BASE:"https://ws.api.driftqa.com",MESSAGES_WSS_BASE:"wss://ws.api.driftqa.com",WS_CHAT_USE_SHARDS:!0,WS_LIVE_USE_SHARDS:!0,WS_CHAT_BASE:"chat.api.driftqa.com",WS_LIVE_BASE:"live.api.driftqa.com",WS_NUM_SHARDS:50,WS_WSS_PROTOCOL:"wss",WS_API_PROTOCOL:"https",METRICS_API_BASE:"https://metrics.api.driftqa.com"}).ATTACHMENTS_API_BASE,c=o.AUTH_API_BASE,u=o.CUSTOMER_API_BASE,l=o.CONVERSATION_API_BASE,d=o.EVENT_API_BASE,_=o.IDENTIFY_API_BASE,p=o.EMBED_API_BASE,f=(o.ENRICHMENT_API_BASE,o.CLIENT_ID),m=o.PRESENCE_API_BASE,b=o.PRESENCE_WSS_BASE,g=o.MESSAGES_API_BASE,h=o.MESSAGES_WSS_BASE,v=o.WS_CHAT_USE_SHARDS,E=o.WS_LIVE_USE_SHARDS,y=o.WS_CHAT_BASE,O=o.WS_LIVE_BASE,C=o.WS_NUM_SHARDS,T=o.WS_WSS_PROTOCOL,M=o.WS_API_PROTOCOL,I=o.METRICS_API_BASE},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return _}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return g});var r=n(95),a=n.n(r),o=function(e){return"@@widget/socket/"+e},i=o("AUTHENTICATE"),s=o("AUTHENTICATE_PENDING"),c=o("AUTHENTICATE_SUCCESS"),u=o("AUTHENTICATE_FAILURE"),l=o("CONNECT"),d=o("DISCONNECT"),_=o("JOIN_CHANNEL"),p=o("JOIN_CHANNEL_PENDING"),f=o("JOIN_CHANNEL_SUCCESS"),m=o("JOIN_CHANNEL_FAILURE"),b=a()({PRESENCE:"PRESENCE",MESSAGES:"MESSAGES"}),g=a()({USER:"USER",ORG_PUBLIC:"ORG_PUBLIC",ORG_PRIVATE:"ORG_PRIVATE"})},,function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return p}),n.d(t,"n",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"m",function(){return h}),n.d(t,"g",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"j",function(){return O});var r=n(20),a=n(4),o=n(8),i=n(829),s=function(e){return function(e){return e.Bootstrap}(e).embedConfiguration},c=function(e){return Object(r.a)(e,["UI","currentSidebarView"])},u=function(e){return Object(r.a)(e,["UI","sidebarOpen"],!1)},l=function(e){return Object(r.a)(e,["UI","showConsentTakeover"],!1)},d=function(e){return Object(r.a)(e,["UI","activationTakeoverOpen"],!1)},_=function(e){return Object(r.a)(e,["UI","iframeRepositionPending"],!1)},p=function(e){return Object(r.a)(e,["UI","iframeSize"],!1)},f=function(e){return Object(r.a)(e,["UI","widgetVisible"],!1)},m=function(e){return Object(r.a)(e,["UI","emailCaptureSliderSubmitted"])},b=function(e){return Object(r.a)(e,["UI","emailCaptureSliderDismissed"])},g=function(e){return Object(r.a)(e,["UI","avatarUrl"])},h=function(e){return function(e){return s(e).theme}(e).widgetHalfHeight},v=function(e){return function(e){return s(e).embeddedMode}(e)&&function(e){return Object(a.n)("has_bot_landing_pages")(e)}(e)},E=function(e){return Object(r.a)(s(e),"landingPageConfig",{})},y=Object(o.createSelector)([function(e){return Object(r.a)(E(e),"firstGradientColor","#F55C5C")},function(e){return Object(r.a)(E(e),"secondGradientColor","#C755D5")}],function(e,t){return Object(i.css)({backgroundImage:"linear-gradient(135deg, "+e+", "+t+")","backgroundSize:":"cover",backgroundPosition:"center",backgroundAttachment:"fixed"})}),O=function(e){return Object(r.a)(E(e),"isHypergrowthPage",!1)}},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"i",function(){return _});var r=function(e){return"@@metrics/"+e},a=r("TRACK_IMPRESSION"),o=r("TRACK_IMPRESSION_SUCCESS"),i=r("TRACK_IMPRESSION_PENDING"),s=r("TRACK_IMPRESSION_FAILED"),c=r("TRACK_CLICK"),u=r("TRACK_CLICK_SUCCESS"),l=r("TRACK_CLICK_PENDING"),d=r("TRACK_CLICK_FAILED"),_={CONVERSATION_COMPOSER:"conversation-composer",TAKEOVER:"takeover",WELCOME_MESSAGE_COMPOSER:"welcome-message-composer",AWAY_MESSAGE_COMPOSER:"away-message-composer",NEW_CONVERSATION_EMAIL_CAPTURE:"new-conversation-email-capture",NEW_CONVERSATION_AWAY_COMPOSER:"new-conversation-away-composer",NEW_CONVERSATION_COMPOSER:"new-conversation-composer",MESSAGE_CALLOUT_BOT:"message-callout-bot",MESSAGE_CALLOUT_USER:"message-callout-user",SLIDER_CALLOUT:"slider-callout",SLIDER_EXPANDED:"slider-expanded",CONVERSATION_LIST:"conversation-list",CONVERSATION_LIST_EMPTY:"conversation-list-empty",EMAIL_CAPTURE_UNSUBMITTED:"email-capture-unsubmitted",EMAIL_CAPTURE_SUBMITTED:"email-capture-submitted",CONSENT_MODAL:"consent-modal",SCHEDULING_CARD:"scheduling-card"}},function(e,t,n){"use strict";n.r(t),n.d(t,"openSidebar",function(){return x}),n.d(t,"closeSidebar",function(){return H}),n.d(t,"closeSidebarWithTween",function(){return K}),n.d(t,"closeSidebarAnimated",function(){return F}),n.d(t,"toggleSidebar",function(){return q}),n.d(t,"showWidget",function(){return z}),n.d(t,"hideWidget",function(){return G}),n.d(t,"expandWidget",function(){return V}),n.d(t,"collapseWidget",function(){return Y}),n.d(t,"setSidebarView",function(){return Z}),n.d(t,"goToNewConversation",function(){return J}),n.d(t,"goToConversationList",function(){return Q}),n.d(t,"goToSelectedConversation",function(){return X}),n.d(t,"goToNewConversationOnline",function(){return $}),n.d(t,"goToNewConversationOffline",function(){return ee}),n.d(t,"goToNewConversationForCampaign",function(){return te}),n.d(t,"displayActivationTakeover",function(){return ne}),n.d(t,"closeActivationTakeover",function(){return re}),n.d(t,"displayConsentTakeover",function(){return ae}),n.d(t,"emailCaptureSliderSubmitted",function(){return oe}),n.d(t,"emailCaptureSliderDismissed",function(){return ie}),n.d(t,"emailCaptureSliderCleared",function(){return se}),n.d(t,"showTypingIndicatorButtonIcon",function(){return ce}),n.d(t,"clearTypingIndicatorButtonIcon",function(){return ue}),n.d(t,"setIdentifiedConversation",function(){return le}),n.d(t,"iframeResizeDone",function(){return de}),n.d(t,"iframeResize",function(){return _e}),n.d(t,"iframeOverrideSize",function(){return pe}),n.d(t,"openChat",function(){return fe}),n.d(t,"hideChat",function(){return me}),n.d(t,"showWelcomeOrAwayMessage",function(){return be});var r=n(59),a=n.n(r),o=n(2),i=n(3),s=n(15),c=n(52),u=n(30),l=n(42),d=n(85),_=n(128),p=n(34),f=n(159),m=n(53),b=i.Ma,g=i.e,h=i.f,v=i.Sa,E=i.Z,y=i.y,O=i.g,C=i.S,T=i.R,M=i.U,I=i.Qa,P=i.Ia,A=i.Ja,S=i.Pa,D=i.Ca,k=i.Ba,w=i.Aa,j=i.Ka,R=i.d,B=i.La,N=i.Ra,U=i.u,L=i.t,W=i.s,x=function(){return{type:b}},H=function(){return{type:g}},K=function(){return{type:h}},F=function(){return function(e,t){return t().UI.sidebarOpen?e(K()).then(function(){return new a.a(function(t){setTimeout(function(){e(H()),t()},200)})}):a.a.resolve()}},q=function(){return function(e,t){return t().UI.sidebarOpen?e(H()):e(x())}},z=function(){return{type:v}},G=function(){return{type:E}},V=function(){return{type:y}},Y=function(){return{type:O}},Z=function(e){return{type:I,payload:{view:e}}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n(),a=Object(s.h)(r);if(Object(p.b)()){var o={avatarUrl:e.avatarUrl||r.WelcomeMessage.avatarUrl,message:e.message||r.WelcomeMessage.message,sender:e.sender||r.WelcomeMessage.sender};return t(Object(f.b)(o)),t($(e))}return t(F()).then(function(){return t(a?Object(d.showWelcomeMessage)(e):Object(_.showAwayMessage)())})}},Q=function(){return{type:T}},X=function(){return{type:M}},$=function(e){return{type:C,payload:e}},ee=function(){return function(e){return e(Z(P)).then(function(){return e(x())})}},te=function(e){return function(t){return t(Object(f.a)(e)).then(function(){return t(Z(A))}).then(function(){return t(x())})}},ne=function(){return{type:j}},re=function(){return{type:R}},ae=function(){return{type:B}},oe=function(){return{type:U}},ie=function(){return{type:L}},se=function(){return{type:W}},ce=function(){return{type:N,payload:{showTypingIndicatorButtonIcon:!0}}},ue=function(){return{type:N,payload:{showTypingIndicatorButtonIcon:!1}}},le=function(e){return{type:S,payload:{conversationId:e}}},de=function(e,t){return{type:D,payload:{width:e,height:t}}},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:k,payload:{size:e,repositionPending:t}}},pe=function(e){return{type:w,payload:{overrides:e}}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r=n(),a=e.inboxId||Object(m.e)(r),i=Object(u.c)(r),p=Object(s.h)(r),f=i.get(a,Object(o.List)());if(!f.isEmpty()){var b=f.first(),g=f.filter(function(e){return e.get("type")===c.c}).first();if(g)return t(Object(l.f)(g.get("id")));if(b.get("type")===c.b&&Object(u.a)(r,b))return t(Object(l.h)(b))}return t(p?Object(d.showWelcomeMessage)(e):Object(_.showAwayMessage)(e))}},me=function(){return function(e,t){var n=t();return n.UI.sidebarOpen?e(F()):n.WelcomeMessage.active?e(Object(d.hideWelcomeMessage)()):n.AwayMessage.active?e(Object(_.hideAwayMessage)()):a.a.resolve()}},be=function(e){return function(t,n){return Object(s.h)(n())?t(Object(d.showWelcomeMessage)(e)):t(Object(_.showAwayMessage)(e))}}},function(e,t,n){"use strict";n.d(t,"g",function(){return b}),n.d(t,"p",function(){return h}),n.d(t,"d",function(){return A}),n.d(t,"f",function(){return S}),n.d(t,"a",function(){return D}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return B}),n.d(t,"e",function(){return L}),n.d(t,"h",function(){return W}),n.d(t,"i",function(){return H}),n.d(t,"j",function(){return K}),n.d(t,"q",function(){return F}),n.d(t,"k",function(){return q}),n.d(t,"n",function(){return z}),n.d(t,"r",function(){return G}),n.d(t,"o",function(){return V}),n.d(t,"l",function(){return Y}),n.d(t,"m",function(){return Z});var r=n(2),a=n(8),o=n(45),i=n(22),s=n(52),c=n(222),u=n(15),l=n(56),d=n(80),_=n(27),p=function(e){return function(e){return function(e){return e.Targeting}(e).visits}(e).currentSessionStartedAt},f=function(e){return e.Message.get("conversationsById")},m=function(e){return e.Message.get("conversationFetchStatusById")},b=function(e){return e.Message.get("conversationId")},g=function(e){return e.Message.get("messagesById")},h=function(){return Object(a.createSelector)([g,function(e,t){return t.messageId}],function(e,t){return e.get(t)})},v=function(e){return e.Message.get("messageStatusById")},E=function(e){return e.Message.get("messageIdsByConversationId")},y=function(e){return e.DriftUser.driftUsersById},O=function(e){return e.EndUser.currentEndUser},C=function(e){return e.Campaign.activeCampaignsById},T=function(e){return e.Campaign.activeCampaignsNoAudienceById},M=function(e,t,n){var r=e.getIn(["attributes","origin"]),a=e.getIn(["attributes","campaignId"]);return r===c.a.SERVER||(r===c.a.BROWSER?t.has(a):r!==c.a.BROWSER_NO_AUDIENCE||n.has(a))},I=function(e){return e===s.e||e===s.b||e===s.d},P=Object(a.createSelector)(f,g,E,function(e,t,n){return e.toList().filter(function(e){return I(e.get("type"))}).map(function(e){return n.get(e.get("id"),Object(r.List)()).map(function(e){return t.get(e)}).filter(function(e){return I(e.get("type"))})}).filter(function(e){return!e.isEmpty()}).map(function(e){return e.first()})}),A=Object(a.createSelector)(P,v,C,T,i.f,function(e,t,n,r,a){var o=a.map(function(e){return e.id});return e.filter(function(e){return M(e,n,r)}).filter(function(e){return t.getIn([e.get("id"),"unread"],!0)}).sortBy(function(e){var t=o.indexOf(e.getIn(["attributes","campaignId"]));return-1===t?1/0:t}).take(1).map(function(e){return e.toJS()}).first()}),S=Object(a.createSelector)([P,function(e){return e.Message.get("mostRecentlyReadCampaignConversationId")},p],function(e,t,n){return e.filter(function(e){return t===e.get("conversationId")}).filter(function(e){return e.get("createdAt")>=1e3*n}).sortBy(function(e){return e.get("createdAt")}).take(1).map(function(e){return e.toJS()}).first()}),D=Object(a.createSelector)([g,C,T,p,function(e,t){return t}],function(e,t,n,r,a){return e.filter(function(e){return e.get("conversationId")===a.get("id")}).filter(function(e){return M(e,t,n)}).filter(function(e){return e.get("createdAt")>=1e3*r}).some(function(e){return d.b.includes(e.getIn(["attributes","campaignDisplayType"]))})}),k=(Object(a.createSelector)(g,function(e){return e.valueSeq().filter(function(e){return e.hasIn(["attributes","campaignId"])}).map(function(e){return e.getIn(["attributes","campaignId"])}).toSet()}),Object(a.createSelector)([f,g,p,v],function(e,t,n,a){return(t.filter(function(t){return!!t&&e.get(t.get("conversationId")).get("type")===s.c}).filter(function(e){return e.get("createdAt")>=1e3*n}).filter(function(e){return!1===a.getIn([e.get("id"),"unread"])}).sortBy(function(e){return e.get("createdAt")}).last()||Object(r.Map)()).get("conversationId")})),w=Object(a.createSelector)([f,g,E,v,C,T,k],function(e,t,n,a,i,c,u){return e.toList().filter(function(e){return!e.get("local")}).filter(function(e){return e.get("type")===s.c}).filter(function(e){var s=n.get(e.get("id"),Object(r.List)()).map(function(e){return t.get(e)}).sortBy(function(e){return e.get("id")}).filter(function(e){return!!e});if(s.isEmpty())return!1;var u=s.first();return!!u.getIn(["attributes","campaignId"])&&(!s.find(function(e){var t=e.get("authorType");return t===o.a.END_USER||t===o.a.LEAD})&&(!M(u,i,c)||!a.getIn([u.get("id"),"unread"],!1)))}).filter(function(e){return e.get("id")!==u}).map(function(e){return e.get("id")}).toSet()}),j=Object(a.createSelector)(f,g,E,w,function(e,t,n,a){return e.toList().filter(function(e){return!e.get("local")}).filter(function(e){return s.a.includes(e.get("type"))}).filter(function(e){return!a.has(e.get("id"))}).sortBy(function(e){return n.get(e.get("id"),Object(r.Set)()).map(function(e){return t.get(e)}).map(function(e){return e.get("createdAt")}).max()}).reverse()}),R=Object(a.createSelector)(j,function(e){return e.filter(function(e){return e.get("type")===s.c})}),B=Object(a.createSelector)(j,g,E,function(e,t,n){return e.reduce(function(e,a){var o=n.get(a.get("id"),Object(r.Set)()).map(function(e){return t.get(e)}).filter(function(e){return 0!==e.get("inboxId")}).toList().getIn([0,"inboxId"],0);return e.set(o,e.get(o,Object(r.List)()).push(a))},Object(r.Map)())}),N=Object(a.createSelector)(g,f,function(e,t){return e.filter(function(e){return e.get("type")===s.c}).filter(function(e){return e.get("authorType")===o.a.USER}).filter(function(e){return e.get("body")||!e.get("attachments").isEmpty()}).filter(function(e){return t.has(e.get("conversationId"))})}),U=Object(a.createSelector)(N,v,w,function(e,t,n){return e.filter(function(e){return t.getIn([e.get("id"),"unread"],!0)}).filter(function(e){return!n.has(e.get("conversationId"))})}),L=Object(a.createSelector)(U,function(e){return e.sortBy(function(e){return e.get("createdAt")}).last()}),W=Object(a.createSelector)(U,function(e){return e.size}),x=function(e,t){return t.conversationId||e.Message.get("conversationId")},H=function(){return Object(a.createSelector)(f,x,function(e,t){return e.get(t)})},K=function(){return Object(a.createSelector)(m,x,function(e,t){return e.get(t,!1)})},F=function(){return Object(a.createSelector)(E,g,x,function(e,t,n){return e.get(n,Object(r.List)()).map(function(e){return t.get(e)}).filter(function(e){return e.get("type")!==s.h}).sortBy(function(e){return e.get("createdAt")}).sortBy(function(e){return!!e.get("local")}).flatMap(function(e){return e.getIn(["attributes","preMessages"],Object(r.List)()).map(function(t,n){return e.delete("id").set("attributes",Object(r.Map)({widgetGuid:e.getIn(["attributes","widgetGuid"])+"-"+n,senders:t.get("senders",Object(r.List)()).map(r.Map)})).set("body",t.get("body")).set("sender",t.get("sender")).set("authorId",t.getIn(["sender","id"],0)).set("authorType",o.a.USER).set("context",Object(r.Map)()).set("attachments",Object(r.List)()).set("isPreMessage",!0)}).push(e)})})},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return Object(a.createSelector)(e,y,u.c,l.b,_.g,function(e,t,n,r,a){var i=e.reverse().filter(function(e){return e.get("authorType")===o.a.USER}).map(function(e){return t[e.get("authorId")]}).toList();return a?i.filter(function(e){return e}).first():i.push(t[n||r]).filter(function(e){return e}).first()})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return Object(a.createSelector)(e,function(e){return e.last()})},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return Object(a.createSelector)(e,g,v,m,function(e,t,n,r){var a=e.get("id");return r.get(a,!1)?t.filter(function(e){return e.get("conversationId")===a}).filter(function(e){return n.getIn([e.get("id"),"unread"],!1)}).filter(function(e){return e.get("body")||!e.get("attachments").isEmpty()}).size:e.get("unreadMessages")||0})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z();return Object(a.createSelector)(e,y,O,function(e,t,n){var r=e.get("authorId");return e.get("authorType")===o.a.USER?t[r]:n})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return Object(a.createSelector)(e,function(e){return e.toIndexedSeq().reduce(function(e,t,n,a){var o=t.get("createdAt"),i=t.get("authorId"),s=t.get("authorType"),c=n>0&&a.get(n-1);if(c){var u=i===c.get("authorId")&&s===c.get("authorType"),l=Math.abs(c.get("createdAt",0)-o)<3e5,d=c.getIn(["attributes","scheduleMeetingFlow"],!1)||c.getIn(["attributes","presentSchedule"],!1)||c.getIn(["attributes","offerSchedule"],!1);if(!u||!l||d)return e.push(r.List.of(t))}return e.update(-1,Object(r.List)(),function(e){return e.push(t)})},Object(r.List)())})},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F();return Object(a.createSelector)(e,function(e){var t=e.filter(function(e){return e.get("authorType")===o.a.USER}).filter(function(e){return!e.get("isPreMessage")}).sortBy(function(e){return e.get("createdAt")}).last();return t?t.get("createdAt"):0})}},function(e,t,n){"use strict";n.d(t,"p",function(){return _}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"i",function(){return h}),n.d(t,"m",function(){return v}),n.d(t,"o",function(){return E}),n.d(t,"n",function(){return y}),n.d(t,"v",function(){return O}),n.d(t,"b",function(){return C}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return M}),n.d(t,"c",function(){return I}),n.d(t,"u",function(){return P}),n.d(t,"w",function(){return A}),n.d(t,"q",function(){return S}),n.d(t,"f",function(){return D}),n.d(t,"a",function(){return k}),n.d(t,"r",function(){return w}),n.d(t,"t",function(){return j}),n.d(t,"s",function(){return R}),n.d(t,"x",function(){return B}),n.d(t,"y",function(){return N}),n.d(t,"B",function(){return U}),n.d(t,"A",function(){return L}),n.d(t,"z",function(){return W});var r=n(5),a=n(19),o=n(18),i=n(4),s=n(24),c=n(3),u=c.q,l=c.r,d=c.p,_=Object(r.b)(a.s),p=(Object(r.b)(a.m),Object(r.b)(a.o)),f=Object(r.b)(a.n),m=(Object(r.b)(a.g),Object(r.b)(a.i)),b=Object(r.b)(a.h),g=(Object(r.b)(a.j),Object(r.b)(a.l)),h=Object(r.b)(a.k),v=Object(r.b)(a.p),E=Object(r.b)(a.r),y=Object(r.b)(a.q),O=Object(r.b)(a.y),C=Object(r.b)(a.b),T=Object(r.b)(a.d),M=Object(r.b)(a.e),I=Object(r.b)(a.c),P=Object(r.b)(a.x),A=(Object(r.b)(a.A),Object(r.b)(a.B),Object(r.b)(a.z),Object(r.b)(a.C)),S=(Object(r.b)(a.E),Object(r.b)(a.F),Object(r.b)(a.D),Object(r.b)(a.t)),D=Object(r.b)(a.f),k=Object(r.b)(a.a),w=Object(r.b)(a.u),j=Object(r.b)(a.w),R=Object(r.b)(a.v),B=function(e){return function(t,n){var r={method:"POST",headers:Object(o.a)([Object(o.e)(),Object(i.d)(n())])},a=s.d+"/messages/"+e+"/read";return t({types:[u,l,d],promise:Object(o.b)(a,r),metadata:{messageId:e}})}},N=Object(r.b)(a.H),U=Object(r.b)(a.K),L=Object(r.b)(a.J),W=Object(r.b)(a.I)},,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c});var r=n(73),a=n.n(r),o=function(){return a.a&&/Android|iOS|Windows Phone/i.test(a.a.os.family)},i=function(){return a.a&&/iOS/i.test(a.a.os.family)&&parseInt(a.a.version)<9.3},s=function(){return screen.width<768},c=function(){return a.a&&/iOS|OS X/i.test(a.a.os.family)}},function(e,t,n){"use strict";var r,a,o=n(7),i=n.n(o),s=n(91),c=n(95),u=n.n(c)()({buttonOffset:"24px",buttonDimension:"52px",buttonContainerDimension:"62px",minimizedHeight:"76px",minimizedWithPreviewWidth:"360px",minimizedWithExpandedPreviewWidth:"384px",minimizedWithExpandedPreviewHeight:"100%",buttonRecentMessageWidth:"288px",buttonRecentMessageHeight:"64px",buttonNPSHeight:"176px",buttonNPSWidth:"304px",sidebarWidth:"360px",sidebarHeight:"100%",sidebarHalfHeight:"80%",sidebarHalfHeightWidth:"400px",sliderMaxWidth:"456px",sliderMaxHeight:"33vh"});n.d(t,"i",function(){return p}),n.d(t,"n",function(){return m}),n.d(t,"j",function(){return g}),n.d(t,"k",function(){return v}),n.d(t,"q",function(){return y}),n.d(t,"r",function(){return C}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return P}),n.d(t,"h",function(){return S}),n.d(t,"l",function(){return k}),n.d(t,"e",function(){return j}),n.d(t,"m",function(){return B}),n.d(t,"p",function(){return U}),n.d(t,"a",function(){return W}),n.d(t,"b",function(){return H}),n.d(t,"c",function(){return F}),n.d(t,"d",function(){return z}),n.d(t,"o",function(){return V});var l={default:{display:"block",position:"fixed",top:"auto",left:"auto",bottom:0,right:0,width:0,height:0,visibility:"visible",border:"none","z-index":2147483647,"max-height":"100vh","max-width":"100vw",transition:"none",background:"none transparent",opacity:1}},d={default:{display:"block",width:"100%",height:"100%",visibility:"visible",border:"none","z-index":2147483647,transition:"none",background:"none transparent",opacity:1,position:"unset"}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return Object(s.a)({},t,e)},p="hidden",f=_({default:{top:"auto",left:"auto",bottom:0,right:0,width:0,height:0,visibility:"hidden"}}),m="slider",b=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:u.sliderMaxWidth,height:u.sliderMaxHeight,"max-width":"100%",border:"none"},mobile:{bottom:0,right:0,width:"100%","max-width":"320px"}}),g="sidebar-closed",h=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:u.minimizedHeight,height:u.minimizedHeight,border:"none"},mobile:{bottom:0,right:0}}),v="sidebar-closed-with-preview",E=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:u.minimizedWithExpandedPreviewWidth,height:u.minimizedHeight},mobile:{bottom:0,right:0,width:"100%"}}),y="sidebar-closed-with-welcome-message",O=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:u.minimizedHeight,height:u.minimizedHeight},mobile:{bottom:0,right:0}}),C="sidebar-closed-with-welcome-message-expanded",T=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:"420px",height:u.minimizedHeight},mobile:{bottom:0,right:0,width:"100%"}}),M="sidebar-closed-with-away-message",I=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:u.minimizedHeight,height:u.minimizedHeight},mobile:{bottom:0,right:0}}),P="sidebar-closed-with-away-message-expanded",A=_({default:{top:"auto",left:"auto",bottom:u.buttonOffset,right:u.buttonOffset,width:"420px",height:u.minimizedHeight},mobile:{bottom:0,right:0,width:"100%"}}),S="sidebar-closed-with-email-capture-slider",D=_({default:{top:"auto",left:"auto",bottom:0,right:0,width:"450px",height:0},mobile:{bottom:0,right:0,width:"100%"}}),k="sidebar-opened",w=_({default:{bottom:0,right:0,top:0,left:"auto",width:u.sidebarWidth,height:"100%"},mobile:{width:"100%"}}),j="embedded-messenger",R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return Object(s.a)({},t,e)}({default:{},mobile:{width:"100%"}}),B="sidebar-opened-half-height",N=_({default:{bottom:0,right:0,width:u.sidebarHalfHeightWidth,height:u.sidebarHalfHeight},mobile:{width:"100%",height:"100%"}}),U="iframe-takeover",L=_({default:{top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"}}),W="activation-takeover",x=_({default:{top:0,right:0,"background-color":"rgba(255, 255, 255, 0.8)",width:"100%",height:"100%"}}),H="consent-takeover-large",K=_({default:{bottom:0,right:0,top:0,left:"auto",width:u.sidebarWidth,height:"100%"},mobile:{bottom:0,right:0,width:"100%"}}),F="consent-takeover-large-half-height",q=_({default:{bottom:0,right:0,left:"auto",width:u.sidebarWidth,height:u.sidebarHalfHeight},mobile:{bottom:0,right:0,width:"100%",height:"100%"}}),z="consent-takeover-small",G=_({default:{bottom:0,right:0,left:"auto",width:"430px",height:"50%","min-height":"300px"},mobile:{bottom:0,right:0,width:"100%"}}),V=(r={},i()(r,p,f),i()(r,U,L),i()(r,k,w),i()(r,B,N),i()(r,j,R),i()(r,y,O),i()(r,C,T),i()(r,M,I),i()(r,P,A),i()(r,m,b),i()(r,g,h),i()(r,v,E),i()(r,W,x),i()(r,H,K),i()(r,F,q),i()(r,z,G),i()(r,S,D),r);a={},i()(a,p,"drift-widget-hidden"),i()(a,U,"drift-widget-takeover"),i()(a,k,"drift-widget-sidebar"),i()(a,B,"drift-widget-sidebar-half-height"),i()(a,j,"drift-widget-embedded-messenger"),i()(a,y,"drift-widget-welcome-online"),i()(a,C,"drift-widget-welcome-expanded-online"),i()(a,M,"drift-widget-welcome-away"),i()(a,P,"drift-widget-welcome-expanded-away"),i()(a,m,"drift-widget-slider"),i()(a,g,"drift-widget-nps"),i()(a,v,"drift-widget-nps-preview"),i()(a,W,"drift-widget-activation-takeover"),i()(a,H,"drift-widget-consent-large-takeover"),i()(a,F,"drift-widget-consent-large-half-height-takeover"),i()(a,z,"drift-widget-consent-small-takeover"),i()(a,S,"drift-widget-email-capture")},function(e,t,n){"use strict";var r=null;r=n(244);var a={info:function(){if(window.__DRIFTT_DEBUG__){var e=Array.prototype.slice.call(arguments);return e.unshift("Drift - "),console.info.apply(console,e)}},log:function(){if(window.__DRIFTT_DEBUG__){var e=Array.prototype.slice.call(arguments);return e.unshift("Drift - "),console.log.apply(console,e)}},warn:function(){if(window.__DRIFTT_DEBUG__){var e=Array.prototype.slice.call(arguments);return e.unshift("Drift - "),console.warn.apply(console,e)}},error:function(e,t){return null==t&&(t={}),function(e,t){if(null==t&&(t={}),(null!=r?r.isSetup():void 0)&&!window.Raven&&!window.RavenConfig)r.captureException(e,t)}(e,t),console.error("Drift - ",e)}};t.a=a},,,,,,function(e,t,n){"use strict";n.d(t,"f",function(){return F}),n.d(t,"h",function(){return q}),n.d(t,"i",function(){return z}),n.d(t,"g",function(){return V}),n.d(t,"c",function(){return Y}),n.d(t,"d",function(){return Z}),n.d(t,"b",function(){return J}),n.d(t,"a",function(){return Q});var r=n(47),a=n.n(r),o=n(7),i=n.n(o),s=n(1),c=n.n(s),u=n(59),l=n.n(u),d=n(89),_=n.n(d),p=n(2),f=n.n(p),m=n(110),b=n(18),g=n(24),h=n(4),v=n(53),E=n(15),y=n(56),O=n(88),C=n(193),T=n(31),M=n(19),I=n(52),P=n(3),A=n(29),S=P.o,D=P.m,k=P.n,w=P.l,j=P.j,R=P.k,B=P.i,N=P.h,U=P.q,L=Object(p.Map)({conversationId:-1,conversationsById:Object(p.Map)(),conversationFetchStatusById:Object(p.Map)(),messageIdsByConversationId:Object(p.Map)(),messagesById:Object(p.Map)(),messageStatusById:Object(p.Map)(),receivedMessageIds:Object(p.Set)(),enrolledCampaignsById:Object(p.Map)(),unreadCampaignIds:Object(p.Set)(),conversationsFetchStatus:void 0,campaignConversationsFetchStatus:void 0,campaignEnrollmentFetchStatus:void 0,mostRecentlyReadCampaignConversationId:void 0}),W=function(e){var t=e.id,n=e.type,r=void 0===n?I.c:n,a=e.createdAt,o=void 0===a?Date.now():a,i=e.local,s=void 0!==i&&i;return f.a.Map().set("id",t).set("type",r).set("participants",f.a.List()).set("createdAt",o).set("local",s).set("unreadMessages",0).set("participantIds",f.a.List())},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.map(function(e){return function(e){return f.a.Map({id:e.get("id"),unread:"Read"!==e.get("viewerRecipientStatus"),statusByUser:f.a.Map()})}(e)}).reduce(function(e,t){var n=!e.getIn([t.get("id"),"unread"],!0)||!t.get("unread");return e.set(t.get("id"),t.set("unread",!n))},e.get("messageStatusById"));return e=e.mergeIn(["messageStatusById"],r),e=H(e,t,n)},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(t=t.map(function(e){return e.set("local",e.get("local",!1))})).reduce(function(e,t){return e.set(t.get("id"),t)},f.a.Map()),a=t.reduce(function(e,t){var n=t.get("conversationId"),r=t.get("id");if(e.has(n)){var a=t.getIn(["attributes","widgetGuid"]),o=e.get(n);return t.get("id")!==a&&o.has(a)?e.set(n,o.delete(a).add(t.get("id"))):e.set(n,o.add(t.get("id")))}return e.set(n,f.a.Set([r]))},e.get("messageIdsByConversationId"));e=(e=e.mergeIn(["messagesById"],r)).mergeIn(["messageIdsByConversationId"],a);var o=t.filter(function(e){return e.get("conversationId")}).filter(function(t){return!e.hasIn(["conversationsById",t.get("conversationId")])}).groupBy(function(e){return e.get("conversationId")}).mapEntries(function(e){var t=_()(e,2),n=t[0],r=t[1].get(0);return[n,W({id:r.get("conversationId"),type:r.get("type"),createdAt:r.get("createdAt")})]});if(e=e.mergeIn(["conversationsById"],o),n){var i=t.filter(function(e){return e.get("conversationId")}).groupBy(function(e){return e.get("conversationId")}).keySeq().reduce(function(e,t){return e.set(t,!0)},e.get("conversationFetchStatusById"));e=e.mergeIn(["conversationFetchStatusById"],i)}return e},K=function(e,t){var n=t.map(function(e){var t=e.getIn(["attributes","widgetGuid"]);return e.set("createdAt",e.get("localCreatedAt",Date.now())).set("conversationId",e.get("conversationId",t)).set("id",t).set("local",!0).setIn(["attributes","preview"],e.get("body",""))}),r=n.reduce(function(e,t){return e.set(t.get("id"),t)},f.a.Map()),a=n.groupBy(function(e){return e.get("conversationId")}),o=a.reduce(function(e,t,n){var r=t.map(function(e){return e.get("id")}).toSet().union(e.get(n,f.a.Set()));return e.set(n,r)},e.get("messageIdsByConversationId")),i=a.filter(function(e,t){return t===e.getIn([0,"id"])}).map(function(e,t){return W({id:t,type:e.getIn([0,"type"]),createdAt:e.getIn([0,"createdAt"]),local:!0})}).reduce(function(e,t){return e.set(t.get("id"),t)},f.a.Map());return e=(e=(e=e.mergeIn(["messagesById"],r)).mergeIn(["messageIdsByConversationId"],o)).mergeIn(["conversationsById"],i)},F=function(e){return function(t){t(z(e)),t(Object(A.goToSelectedConversation)())}},q=function(e){return function(t){t(T.A(e.get("id")))}},z=function(e){return function(t){t({type:M.G,payload:{id:e}}),t(G(e)),t(Object(A.setSidebarView)(N))}},G=function(e){return function(t,n){var r=n();if(r.Message.getIn(["conversationFetchStatusById",e],!1))return l.a.resolve();var a=r.Message.getIn(["conversationsById",e]);a&&!a.get("local")&&t(T.m({conversationId:e}))}},V=function(e){return function(t,n){n().Message.getIn(["messageIdsByConversationId",e],f.a.List()).forEach(function(e){t(T.p({messageId:e}))})}},Y=function(e){var t=e.conversationId,n=e.body,r=e.type,o=void 0===r?I.c:r,s=e.attachments,u=void 0===s?[]:s,l=e.attributes,d=void 0===l?{}:l,_=e.createdAt,p=void 0===_?Date.now():_,f=e.localId,v=void 0===f?Object(m.a)():f;return function(e,r){var s,l=r(),_=Object(h.i)(l),f=Object(C.a)(l),m=Object(C.c)(l),M=Object(E.i)(l),P=Object(O.d)(l,{conversationId:t}),A=Object(E.c)(l)||Object(y.b)(l),j=Object(y.a)(l),R={conversationId:t,body:n,type:o,authorId:_.id,authorType:_.type,attributes:c()((s={},i()(s,I.f,!Object(E.h)(l)),i()(s,"clientTimestamp",Date.now()),i()(s,"widgetGuid",v),i()(s,"integrations",l.Integration),i()(s,"autoAssigneeId",A),i()(s,"accountId",j),s),d),context:Object(h.s)(l),localCreatedAt:p,attachments:u};if(f&&f.id&&(R.attributes.targetingRuleId=f.id),m&&m.length>0&&(R.attributes.targetingRuleIds=m.map(function(e){return e.id})),P&&!R.attributes.questionId&&(R.attributes.questionId=P),M&&(R.attributes.profileMode=!0),l.Message.getIn(["conversationsById",t,"local"]))return e({type:S,metadata:{conversationId:t,message:R}});var B={method:"POST",headers:Object(b.a)([Object(b.e)(),Object(h.d)(l)]),body:a()(R)},N=g.d+"/conversations/"+t+"/messages";return e(T.f(R)),e({types:[D,k,w],promise:Object(b.b)(N,B),metadata:{conversationId:t,message:R}})}},Z=function(e){return function(t,n){t(T.w(e))}},J=function(e){var t=e.body,n=e.attachments,r=void 0===n?[]:n,o=e.attributes,s=void 0===o?{}:o,u=e.inboxId,l=e.options,d=void 0===l?{goToConversation:!0}:l,_=e.to,p=void 0===_?null:_,f=e.status;return function(e,n){var o,l=n(),_=Object(h.i)(l),M=null!==p?{to:p}:Object(O.b)(l),P=Object(E.i)(l),A=Object(C.a)(l),S=Object(C.c)(l),D=Object(E.c)(l)||Object(y.b)(l),k=Object(y.a)(l),w=c()({body:t,inboxId:u||Object(v.e)(l),type:I.c,authorId:_.id,authorType:_.type,attributes:c()((o={},i()(o,I.f,!Object(E.h)(l)),i()(o,"clientTimestamp",Date.now()),i()(o,"widgetGuid",Object(m.a)()),i()(o,"integrations",l.Integration),i()(o,"autoAssigneeId",D),i()(o,"accountId",k),o),Object(v.c)(l),s)},M,{context:Object(h.s)(l),attachments:r,status:f});A&&A.id&&(w.attributes.targetingRuleId=A.id),S&&S.length>0&&(w.attributes.targetingRuleIds=S.map(function(e){return e.id})),P&&(w.attributes.profileMode=!0);var N={method:"POST",headers:Object(b.a)([Object(b.e)(),Object(h.d)(l)]),body:a()(w)},U=g.d+"/messages";return e(T.a(w)),e({types:[j,R,B],promise:Object(b.b)(U,N),metadata:{localConversationId:w.attributes.widgetGuid,message:w,options:d}})}},Q=function(e){return function(t,n){t(T.u(e))}};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments[1];switch(t.type){case M.G:return e.set("conversationId",t.payload.id);case S:return K(e,Object(p.fromJS)([t.metadata.message]));case D:case j:return K(e,Object(p.fromJS)([t.metadata.message]));case k:case R:case M.e:return x(e,Object(p.fromJS)([t.payload]),!0);case M.t:return function(e,t){var n=e.get("receivedMessageIds");return e=e.set("receivedMessageIds",n.add(t.id)),x(e,Object(p.fromJS)([t]))}(e,t.payload);case U:return function(e,t){return e.setIn(["messageStatusById",t,"unread"],!1)}(e,t.metadata.messageId);case M.i:return function(e,t){var n=t.flatMap(function(e){return e.get("messages")}),r=t.map(function(e){return e.get("conversation").set("unreadMessages",e.get("unreadMessages"))}).reduce(function(e,t){return e.set(t.get("id"),t)},f.a.Map()),a=r.reduce(function(e,t){return e.set(t.get("id"),e.get(t.get("id"),!1))},e.get("conversationFetchStatusById"));return e=(e=(e=(e=x(e,n)).mergeIn(["conversationsById"],r)).mergeIn(["conversationFetchStatusById"],a)).set("campaignConversationsFetchStatus","success")}(e,t.payload);case M.o:return function(e,t){var n=t.flatMap(function(e){return[e.get("lastMessage"),e.get("lastAgentMessage")]}).filter(function(e){return!!e}),r=t.map(function(e){return e.get("conversation").set("unreadMessages",e.get("unreadMessages"))}).reduce(function(e,t){return e.set(t.get("id"),t)},f.a.Map()),a=r.reduce(function(e,t){return e.set(t.get("id"),e.get(t.get("id"),!1))},e.get("conversationFetchStatusById"));return e=(e=(e=e.mergeIn(["conversationsById"],r)).mergeIn(["conversationFetchStatusById"],a)).set("conversationsFetchStatus","success"),e=x(e,n)}(e,t.payload);case M.l:return e.set("enrolledCampaignsById",t.payload).set("campaignEnrollmentFetchStatus","success");case M.n:return e.set("conversationsFetchStatus","failure");case M.h:return e.set("campaignConversationsFetchStatus","failure");case M.k:return e.set("campaignEnrollmentFetchStatus","failure");case M.r:return x(e,t.payload,!0);case M.K:return e.set("unreadCampaignIds",t.payload);case M.J:return e.set("mostRecentlyReadCampaignConversationId",t.payload);case M.I:return e.set("mostRecentlyReadCampaignConversationId",void 0);default:return e}}},function(e,t,n){e.exports={"button-reset":"_2FYNTm1he93yxXavAmGSuD",BaseButton:"_3wbrM6B-FEHqjoJgQ3sZ2M _2FYNTm1he93yxXavAmGSuD",BaseButtonLabel:"_1BJ1zCiuMmvEBx24-GjHo7",Container:"KNiqR1D4pHbWvb1gcOaxw",SchedulingFlowCard:"_3CuSuV0l0jA1xjAwUL65A8",CardHeader:"eTx_QRq78PccaIR9Cf-CH",CardHeaderTitle:"_1hJ46q0Bxqjirp1JeKAEZH",CalendarCheckIcon:"pclK60G2ZEULbZxLJj9P-",CardContent:"Z3Cm-ndvHJf4tJS8hNN5f",SectionHeader:"wFa8vHxi8N8VcoWv4y6gB",SectionHeaderMenu:"_3DvtU_sonkCxCrqGWxhxsC",BackButton:"_1R5tjbilpsecEwNiBB_gNO _2FYNTm1he93yxXavAmGSuD",BackButtonIcon:"_26xa8GPdZLVhbAwpNi6Ciy",SectionHeading:"_3AleUkoeabC9s-0qvJN1c6",AgentInfo:"_388HevgIVi69q-9pJ6XPIp",AgentName:"_2fbBVSwfOn2UQExPYIvdfy",OptionLabel:"_2HLst1pamWQ_9Iaa-Ve1Vl",DateOption:"_3KlCUOWsR464QIwle5RsUB",DateOptionWeekday:"_1mWK2j4t7h7u5ikG6bPSbE",DateOptionDate:"_24PWN1UsHY7MBI3hbyQPGl",DateOptionRadio:"_3kRO6QbyyeB3YspHif6Fty",DateOptionsList:"EY32GEl3vcoJNsyyguYfR",TimeOption:"_2MjbhMh2ot65gxFxE1FgE8",TimeOptionLabel:"_1EwXaNT1EKVEQ0i_CiAToO",TimeOptionsList:"_2gHjjqQFSEIfXRaZSpirI-",FilterableTZList:"_2B1rSiN-dw6hMJCsIWOwhA",TZSearch:"_3VGuxLe8fZyUe5l4LIIUGG",TZOption:"_17PQ9PktK7AqkFknSkS_By",TZRegion:"_1zjuNo7eyVUlVweKqMvnbX",TZSearchInput:"_116jV85r_49oOQ_qKQogUx",TZRadio:"_2x4Ooy3t2zkV0yOA28Uiqm",AppointmentInfo:"_1GfHwsqwsANjckn37HXiVM",ConfirmButton:"_3JnI9mq0rR9B2qf-gTdsIk _2FYNTm1he93yxXavAmGSuD",ConfirmButtonLabel:"_2KPlMhPrZXytUF9ebHZ8m9",LinkButton:"_1fTRNlhVdsIjJmcNEUJcGZ _2FYNTm1he93yxXavAmGSuD",BaseOption:"_3CIlGanzxWLpVgvoyKWocv",BaseOptionLabel:"_2V6pNWZzvW4whjwx38l_8R",BaseOptionRadioInput:"_2ekK1dav7U2y3JZHx85nca",ThemedBaseOption:"g1OWcwCWtPoJAUrQq49bP",LoadingMessage:"_1lL-WeQqg3DcdWo5Pgomdv",ErrorMessage:"_1F_PE7aNWV7PvOwulDcCLK",ErrorMessageCopy:"-W7I80NIsu3pEzupF1don",ErrorRetryButton:"_16ZNqjZpsJQj1UoWw2Gnss",PaginationControls:"_1JVVGfXZfGQWjvCoYloTV9"}},function(e,t,n){"use strict";var r=n(16),a=n(26),o=n.n(a),i=n(386),s=n(15);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["foregroundColor","backgroundColor","activeColor","textColor"];return Object(r.connect)(o()(function(e){return function(t){return Object(i.a)(t,e)}}(e),s.m),function(){return{}})}},function(e,t,n){"use strict";var r=n(171),a=n.n(r);t.a=a()({USER:null,LEAD:null,END_USER:null})},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return _}),n.d(t,"j",function(){return p});var r=function(e){return"@@widget/consent/"+e},a=r("RECORD_CONSENT"),o=r("RECORD_CONSENT_PENDING"),i=r("RECORD_CONSENT_SUCCESS"),s=r("RECORD_CONSENT_FAILURE"),c=r("ACTIVATE_PRIVACY_POLICY_FLOW"),u=r("COMPLETE_PRIVACY_POLICY_FLOW"),l=r("CANCEL_PRIVACY_POLICY_FLOW"),d={NONE:"NONE",ALL:"ALL",EU:"EU"},_="has_consent",p="test_drift_consent_form"},,function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"f",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return _}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return f});var r="REQUEST_IDENTIFY_LEAD",a="IDENTIFY_LEAD",o="IDENTIFY_LEAD_SUCCESS",i="IDENTIFY_LEAD_FAIL",s="EMAIL_CAPTURE_SUCCESS",c="REQUEST_IDENTIFY_END_USER",u="IDENTIFY_END_USER",l="IDENTIFY_END_USER_SUCCESS",d="IDENTIFY_END_USER_FAIL",_="BOOSTRAP_END_USER_SUCCESS",p="UPDATE_PRIMARY_ID",f="UPDATE_AUTH_IDENTITY"},,,function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return _});var r=n(5),a=n(28),o=Object(r.b)(a.e),i=Object(r.b)(a.h),s=Object(r.b)(a.g),c=Object(r.b)(a.f),u=Object(r.b)(a.a),l=Object(r.b)(a.d),d=Object(r.b)(a.c),_=Object(r.b)(a.b)},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"a",function(){return _});var r=n(2),a="CHAT",o="ANNOUNCEMENT",i="NPS_QUESTION",s="EMAIL_CAPTURE",c="NPS_RESPONSE",u="CHAT_RATING",l="sentOfflineHours",d="sentWelcomeMessage",_=Object(r.Set)([a,o])},function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return E}),n.d(t,"e",function(){return S}),n.d(t,"j",function(){return j}),n.d(t,"a",function(){return R}),n.d(t,"i",function(){return B}),n.d(t,"k",function(){return L}),n.d(t,"f",function(){return K}),n.d(t,"h",function(){return F}),n.d(t,"l",function(){return q}),n.d(t,"g",function(){return z}),n.d(t,"c",function(){return V}),n.d(t,"b",function(){return Y});var r=n(106),a=n.n(r),o=n(1),i=n.n(o),s=n(8),c=n(4),u=n(17),l=n(2),d=n(450),_=n(38),p=(n(30),n(15)),f=n(56),m=n(823),b=n(193),g=n(86),h=function(e){return e.ConversationUI},v=function(e){return e.Bootstrap.embedConfiguration.theme},E=function(e){return e.Bootstrap.embedConfiguration.inboxId},y=Object(s.createSelector)([function(e){return e.Bootstrap.embedConfiguration.onCallUsers},c.K],function(e,t){return Object(d.a)(e,t)}),O=Object(s.createSelector)([c.j,c.K],function(e,t){var n=Object(l.Map)(e).valueSeq().filter(function(e){return e.status===g.a}).filter(function(e){return!e.bot}).toArray();return Object(d.a)(n,t)}),C=Object(s.createSelector)([b.d,c.K],function(e,t){return Object(d.a)(e,t)}),T=function(e){return Object(l.Set)(e.Bootstrap.embedConfiguration.doNotDisturbUsers||[])},M=Object(s.createSelector)(h,function(e){return e.message}),I=Object(s.createSelector)(h,function(e){return e.thankYouMessage}),P=Object(s.createSelector)(h,function(e){return e.sender}),A=Object(s.createSelector)(h,function(e){return e.inboxId}),S=Object(s.createSelector)(A,E,function(e,t){return e||t}),D=Object(s.createSelector)(v,function(e){return e.welcomeMessage}),k=Object(s.createSelector)(v,function(e){return e.awayMessage}),w=Object(s.createSelector)(v,function(e){return e.confirmationMessage}),j=Object(s.createSelector)(M,D,function(t,n){return t||n||e.createElement(u.b,_.a.welcomeMessage)}),R=Object(s.createSelector)(M,k,function(t,n){return t||n||e.createElement(u.b,_.a.defaultAwayMessageCopy)}),B=Object(s.createSelector)(I,w,function(e,t){return e||t}),N=Object(s.createSelector)([c.y,c.x,c.j],function(e,t,n){return e!==m.a.CUSTOM?Object(l.List)():Object(l.List)(t).map(function(e){return n[e]}).filter(function(e){return!!e}).filter(function(e){return e.status===g.a})}),U=Object(s.createSelector)([O,T],function(e,t){if((e=Object(l.List)(e)).isEmpty())return Object(l.List)();if(!t.isEmpty()){var n=e.filter(function(e){return!t.has(e.id)});n.isEmpty()||(e=n)}var r=e.filter(function(e){return!!e.avatarUrl});return r.isEmpty()?e.take(3):r.take(3)}),L=Object(s.createSelector)([P,c.j,p.c,p.b,f.b],function(e,t,n,r,a){if(e)return e.id&&t[e.id]?i()({},t[e.id],e):e;var o=n||a;return o&&t[o]?t[o]:r}),W=Object(s.createSelector)([c.j,y,C,T],function(e,t,n,r){var o=l.List.of.apply(l.List,a()(n)).map(function(t){return e[parseInt(t,10)]}).filter(function(e){return!!e}).filter(function(e){return"ENABLED"===e.status}).filter(function(e){return!r.has(e.id)}).toList();return o.isEmpty()?l.List.of.apply(l.List,a()(t)).map(function(t){return e[parseInt(t,10)]}).filter(function(e){return!!e}).filter(function(e){return"ENABLED"===e.status}).filter(function(e){return!r.has(e.id)}).toList():o}),x=Object(s.createSelector)([c.j,y,C],function(e,t,n){return l.OrderedSet.of.apply(l.OrderedSet,a()(n).concat(a()(t))).map(function(t){return e[parseInt(t,10)]}).filter(function(e){return e&&"ENABLED"===e.status}).toList()}),H=Object(s.createSelector)([W,x,c.A],function(e,t,n){var r=n?e:t;if(r.count()>1){var a=r.filter(function(e){return!!e.name});if(!a.isEmpty())return a.take(3)}return r.take(3)}),K=Object(s.createSelector)([H,U],function(e,t){return e.isEmpty()?t.isEmpty()?Object(l.List)():t:e}),F=(Object(s.createSelector)([N,K],function(e,t){return e.isEmpty()?t:e}),Object(s.createSelector)([c.j,L,H,N,U],function(e,t,n,r,a){return t?l.List.of(t):r.isEmpty()?n.isEmpty()?a.isEmpty()?Object(l.List)():a:n:r})),q=function(e){return!!L(e)},z=Object(s.createSelector)(F,function(e){return e.first()}),G=Object(l.Set)(["isLiveWelcomeMessage","isLiveConversation"]),V=Object(s.createSelector)(h,function(e){return Object(l.Map)(e.attributes).filter(function(e,t){return G.has(t)}).toObject()}),Y=function(e){return h(e).campaign}}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return s});var r="DISMISSED",a="OPENED",o="CLICKED",i="SUBMITTED",s="LEAD_CAPTURED"},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return l});var r="START_SCHEDULE_MEETING_FLOW",a="FETCH_AGENT_AVAILABILITY",o="FETCH_AGENT_AVAILABILITY_SUCCESS",i="FETCH_AGENT_AVAILABILITY_FAILURE",s="SCHEDULE_APPOINTMENT",c="SCHEDULE_APPOINTMENT_SUCCESS",u="SCHEDULE_APPOINTMENT_FAILURE",l="SCHEDULE_APPOINTMENT_RESET"},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return l});var r=n(2),a=function(e){return e.Accounts},o=function(e){return a(e).account},i=function(e){return(a(e).accountSegments||Object(r.List)()).toArray()},s=function(e){return a(e).fetched},c=function(e){return o(e).get("accountId")},u=function(e){return o(e).get("ownerId")},l=function(e){return o(e).get("targeted")}},,,,,,,,,,,function(e,t,n){"use strict";var r=n(205);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d})},,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(9),c=n.n(s),u=n(17),l=n(41),d=n.n(l),_=n(16),p=n(21),f=n(33),m=n(76),b=n(336),g=n.n(b),h=n(26),v=n.n(h),E=n(51),y=n(27),O=n(38),C=n(354),T=n.n(C),M=n(1220);t.a=v()(Object(_.connect)(function(e){return{utmSource:e.Targeting.page.hostname,isEmbeddedMessenger:Object(y.g)(e)}},function(e){return{actions:Object(p.bindActionCreators)({trackClick:E.a},e)}}),g()({onClick:function(e){return function(t){t.stopPropagation(),e.actions.trackClick({view:e.utmContent,ctaType:"branding"})}}}))(function(t){var n=t.className,r=t.message,o=void 0===r?O.a.poweredBy:r,s=t.utmContent,l=t.utmSource,_=void 0===l?"widget":l,p=t.onClick,b=t.isEmbeddedMessenger,g=i()(t,["className","message","utmContent","utmSource","onClick","isEmbeddedMessenger"]),h={utm_source:_,utm_medium:"web-widget",utm_campaign:"widget-referral",utm_content:s},v=e.createElement(d.a,{className:T.a.BoltIcon,src:M}),E=e.createElement("div",{className:T.a.Drift},e.createElement("span",{className:T.a.Drift},"Drift")),y=e.createElement(u.b,a()({},o,{values:{bolt:v,drift:E}}));return e.createElement("a",a()({className:c()("flex",T.a.Branding,n,{floating:b}),href:"https://www.drift.com/powered-by/?"+function(e){var t=[];for(var n in e){var r=e[n];Object(f.a)(r)?Object(m.a)(r,function(e){return t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):null!=r&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")}(h),tabIndex:"1000",target:"_blank",onClick:p},g),y)})}).call(this,n(0))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(154),a=n.n(r),o=n(7),i=n.n(o),s=n(0),c=n(41),u=n.n(c),l=n(9),d=n.n(l),_=n(171),p=n.n(_),f=n(136),m=n(285),b=n(348),g=n.n(b),h=p()({SOLID1:null,SOLID2:null,OUTLINE1:null,OUTLINE2:null}),v=p()({NPS:null,CHAT:null,SURVEY:null,FEEDBACK:null,ANNOUNCEMENT:null,TYPING_INDICATOR:null,IMAGE:null,DISMISS:null}),E=n(553),y={SOLID1:{ANNOUNCEMENT:n(1018),CHAT:n(1017),FEEDBACK:n(1016),NPS:n(1015),SURVEY:n(1014),DISMISS:E},SOLID2:{ANNOUNCEMENT:n(1013),CHAT:n(1012),FEEDBACK:n(1011),NPS:n(1010),SURVEY:n(1009),DISMISS:E},OUTLINE1:{ANNOUNCEMENT:n(1008),CHAT:n(1007),FEEDBACK:n(1006),NPS:n(1005),SURVEY:n(1004),DISMISS:E},OUTLINE2:{ANNOUNCEMENT:n(1003),CHAT:n(1002),FEEDBACK:n(1001),NPS:n(1e3),SURVEY:n(999),DISMISS:E}},O=function(t){var n=t.className,r=t.backgroundColor,a=t.foregroundColor,o=t.iconStyle,s=t.iconType,c=t.avatarUrl,l=t.bot,_=t.onClick,p=t.onMouseEnter,b=t.onMouseLeave,h=t.ariaMessage,E=(y[o]||y.SOLID1)[s],O=null;return s!==v.IMAGE&&(O=s===v.TYPING_INDICATOR?e.createElement(f.a,{color:"#FFF",size:"small"}):l?e.createElement(m.a,{className:"Avatar",color:r,type:"rect"}):e.createElement(u.a,{className:g.a.svgIcon,src:E})),e.createElement("button",{className:d()(g.a.WidgetButton,"flex-center",s,i()({},g.a.avatar,s===v.IMAGE),i()({},g.a.clickable,_),n),"aria-label":h,style:{backgroundColor:r,backgroundImage:s===v.IMAGE&&c?"url("+c+")":void 0,fill:a},onClick:_,onMouseEnter:p,onMouseLeave:b},O)};O.displayName="WidgetButton",O.propTypes={className:s.PropTypes.string,backgroundColor:s.PropTypes.string,foregroundColor:s.PropTypes.string,iconStyle:s.PropTypes.oneOf(a()(h)),iconType:s.PropTypes.oneOf(a()(v)),avatarUrl:s.PropTypes.string,bot:s.PropTypes.bool,onClick:s.PropTypes.func,onMouseEnter:s.PropTypes.func,onMouseLeave:s.PropTypes.func},O.defaultProps={iconStyle:h.SOLID1,iconType:v.CHAT,foregroundColor:"#FFFFFF"},t.b=O}).call(this,n(0))},,function(e,t,n){e.exports={EmailCaptureSlider__Bubble__Copy:"_2Ej7ht9o4AZE9uomjoYcM4",EmailCaptureSlider:"hlkxMak8Yvpp7V519uudV",slideIn:"_2SEavUeJqz6PR_rJ-IPDON",slideOut:"_25uAckjayZunvaVUvA5W5e",EmailCaptureSlider__Dismiss:"_3inhtsIN78nmA6N8jOPVLo",EmailCaptureSlider__Bubble:"Q4qmwGdkW-OAZ0fdaN_km",EmailCaptureSlider__Bubble__Title:"_29vw7TuPr8BvnPmQim9SyX",EmailCaptureSlider__Bubble__Composer:"_3NF-ok9QLIxL_8hJP-wqln",EmailCaptureSlider__Bubble__Footer:"_3me6Qx7Oc-d8q01pJiZkW-",EmailCaptureSlider__Bubble__Branding:"_30acjYOY3KpZb6rcrQtycV",EmailCaptureSlider__Bubble__EnterPrompt:"_3E3EblP2v3zR0EF0iqybmm",EmailCaptureSlider__Bubble__Avatar:"TSuRK-6Q45wskduuptJBi"}},function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n(2),a=function(e){return"@@widget/targeting/"+e},o=a("DISABLE_ENROLLMENT"),i=a("BULK_ENROLL"),s=a("BULK_ENROLL_SUCCESS"),c=a("BULK_ENROLL_PENDING"),u=a("BULK_ENROLL_FAILED"),l=a("ADD_ENROLLED_CAMPAIGN_IDS"),d=Object(r.Set)(["WELCOME_MESSAGE"])},,function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return v}),n.d(t,"g",function(){return E}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return O}),n.d(t,"h",function(){return C});var r=n(59),a=n.n(r),o=n(1),i=n.n(o),s=n(47),c=n.n(s),u=n(5),l=n(48),d=n(18),_=n(24),p=function(e){var t=e.orgId,n=e.userId,r=e.email,a=e.attributes,o=void 0===a?{}:a,s=e.options,u=void 0===s?{}:s,p=e.context,f=void 0===p?{}:p,m=Object(d.b)(_.g+"/identify",{method:"post",headers:Object(d.e)(),body:c()({orgId:t,userId:n,attributes:i()({},o,{email:r}),options:u,context:f})});return{types:[l.c,l.e,l.d],promise:m}},f=function(e){var t=e.orgId,n=e.anonymousId,r=e.email,o=e.attributes,s=void 0===o?{}:o,u=e.options,p=void 0===u?{}:u,f=e.context,m=void 0===f?{}:f,b=Object(d.b)(_.g+"/identify",{method:"post",headers:Object(d.e)(),body:c()({orgId:t,anonymousId:n,attributes:i()({},s,{email:r}),options:p,context:m})}).then(function(e){return a.a.resolve(e)});return{types:[l.f,l.h,l.g],promise:b,metadata:{orgId:t,anonymousId:n,email:r}}},m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return function(i,s){return i(g({orgId:e,userId:t,email:n,attributes:r,options:a,context:o}))}},b=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return function(i,s){return i(h({orgId:e,anonymousId:t,email:n,attributes:r,options:a,context:o}))}},g=Object(u.b)(l.i),h=Object(u.b)(l.j),v=Object(u.b)(l.b),E=Object(u.b)(l.h),y=Object(u.b)(l.a),O=Object(u.b)(l.l),C=Object(u.b)(l.k)},,function(e,t,n){"use strict";n.d(t,"h",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return _});var r=n(5),a=n(55);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.campaignMessage,r=t.meetingType,o=t.widgetApiTriggered;return{type:a.h,payload:{agentId:e,campaignMessage:n,meetingType:r,widgetApiTriggered:o}}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.meetingType,r=t.start;return{type:a.a,payload:{agentId:e,meetingType:n,start:r}}}var s=Object(r.b)(a.c),c=Object(r.b)(a.b);function u(e){var t=e.conversationId,n=e.agentId,r=e.bookingAgentId,o=e.availabilitySlot,i=e.slotDuration,s=e.endUserTimeZone,c=e.agentTimeZone,u=e.meetingType;return{type:a.d,payload:{agentId:n,bookingAgentId:r,conversationId:t,availabilitySlot:o,slotDuration:i,endUserTimeZone:s,agentTimeZone:c,meetingType:u}}}var l=Object(r.b)(a.g),d=Object(r.b)(a.e),_=Object(r.b)(a.f)},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(171),i=n.n(o),s=n(87),c=i()({FADE:null,SLIDE:null}),u=i()({NONE:null,USER:null}),l={hideOnStartup:!!window.__DRIFTT_WELCOME_MESSAGE_DISMISSED__,active:!1,hovered:!1,dismissed:!1,transitionStyle:c.FADE,avatarStyle:u.NONE,avatarUrl:void 0,sender:void 0,message:void 0,msgFromFirstPopup:!1,triggeredFromWidgetAPI:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case s.c:return a()({},e,{active:!0,hovered:!1,dismissed:!1,autoFocus:t.payload.autoFocus,transitionStyle:t.payload.transitionStyle,avatarStyle:t.payload.avatarStyle,message:t.payload.message,sender:t.payload.sender,avatarUrl:t.payload.avatarUrl,msgFromFirstPopup:t.payload.msgFromFirstPopup,triggeredFromWidgetAPI:t.payload.triggeredFromWidgetAPI});case s.a:return a()({},e,{active:!1,hovered:!1,dismissed:!0,avatarStyle:u.NONE,message:void 0,sender:void 0,avatarUrl:void 0});case s.b:return a()({},e,{dismissed:!1,transitionStyle:c.FADE});case s.f:return a()({},e,{hovered:!0});case s.g:return a()({},e,{hovered:!1});case s.e:return a()({},e,{hideOnStartup:!0});default:return e}},_=n(273);n.d(t,"default",function(){return d}),n.d(t,"showWelcomeMessage",function(){return _.d}),n.d(t,"hideWelcomeMessage",function(){return _.c}),n.d(t,"welcomeMessageMouseEnter",function(){return _.e}),n.d(t,"welcomeMessageMouseLeave",function(){return _.f}),n.d(t,"hideOnStartup",function(){return _.b}),n.d(t,"dismissWelcomeMessage",function(){return _.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r="ENABLED",a={ON_CALL:"ON_CALL",AVAILABLE:"AVAILABLE",OFFLINE:"OFFLINE"}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return u});var r="SHOW_WELCOME_MESSAGE",a="SHOW_WELCOME_MESSAGE_DONE",o="HIDE_WELCOME_MESSAGE",i="HIDE_WELCOME_MESSAGE_DONE",s="WELCOME_MESSAGE_MOUSE_ENTER",c="WELCOME_MESSAGE_MOUSE_LEAVE",u="WELCOME_MESSAGE_HIDE_ON_STARTUP"},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"d",function(){return _}),n.d(t,"k",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"h",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"e",function(){return E}),n.d(t,"i",function(){return y});var r=n(8),a=n(2),o=n(15),i=n(30),s=n(56),c=n(250),u=n(25),l=n(45),d=Object(r.createSelector)(o.c,o.b,s.b,function(e,t,n){var r=e||n;return r?{to:{id:r,type:l.a.USER}}:t&&t.email?{to:{email:t.email}}:void 0}),_=function(e,t){var n=t.conversationId,r=Object(i.n)()(e,{conversationId:n});if(r&&r.get("authorType")===l.a.USER)return r.getIn(["attributes","questionId"])},p=function(){var e=Object(i.n)();return function(t,n){var r=n.conversationId,a=e(t,{conversationId:r});return!!(a&&a.get("authorType")===l.a.USER&&a.getIn(["attributes","questionId"])&&a.getIn(["attributes","isButtonOnly"])&&a.getIn(["attributes","buttons"])&&a.getIn(["attributes","buttons"]).size>0)}},f=function(e,t){var n=t.messageId;return e.Message.hasIn(["messagesById",n])&&e.Message.getIn(["messageStatusById",n,"unread"],!0)},m=function(e){return"success"===e.Message.get("conversationsFetchStatus")},b=function(e){return"success"===e.Message.get("campaignConversationsFetchStatus")},g=function(e){return"success"===e.Message.get("campaignEnrollmentFetchStatus")},h=function(e){return e.Message.get("enrolledCampaignsById")},v=function(e,t){var n=t.conversationId;return function(e){return e.Message.get("conversationsById",Object(a.Map)())}(e).get(n,Object(a.Map)())},E=function(e){return e.Message.get("unreadCampaignIds")},y=function(e){return Object(c.e)(e,{clusterName:u.l.MESSAGES})||function(e){return"failure"===e.Message.get("conversationsFetchStatus")}(e)}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i});var r=n(2),a=Object(r.Record)({slots:Object(r.Set)(),slotDuration:"",agentTimeZone:null,nextRequestStartFrom:null}),o=Object(r.Record)({id:null,url:null,availabilitySlot:null,slotDuration:0,agentId:null,bookingAgentId:null,conversationId:null,endUserTimeZone:null,agentTimeZone:null}),i=Object(r.Record)({pending:!1,error:!1,success:!1,message:null,lastFetched:null})},,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c});var r="FETCH_ATTACHMENT_PENDING",a="FETCH_ATTACHMENT_SUCCESS",o="FETCH_ATTACHMENT_FAILURE",i="UPLOAD_ATTACHMENT_PENDING",s="UPLOAD_ATTACHMENT_SUCCESS",c="UPLOAD_ATTACHMENT_FAILURE"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),a=n.n(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()({},e,t)}},,,,function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l});var r=n(5),a=n(46),o=Object(r.b)(a.f),i=(Object(r.b)(a.h),Object(r.b)(a.i)),s=Object(r.b)(a.g),c=Object(r.b)(a.a),u=Object(r.b)(a.c),l=Object(r.b)(a.b)},,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n(698),a=n(248),o=function(e){return e.DriftUser.driftUsersById},i=function(e,t){return o(e)[t.agentId]},s=function(e,t){var n=t.agentId;return function(e){return e.DriftUser.agentStatusById}(e).get(n,new a.a({agentId:n}))},c=function(e){return Object(r.a)(o(e),function(e){return e.bot&&"ENABLED"===e.status})}},,,,,,function(e,t,n){"use strict";var r=n(36),a=function(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";e.length<t;)e=n+e;return e}(e.toString(16),4,"0")};t.a=function(){var e=window.crypto||window.msCrypto;if(e&&e.getRandomValues)try{return function(e){var t=new window.Uint16Array(8);return e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768,[a(t[0])+a(t[1]),a(t[2]),a(t[3]),a(t[4]),a(t[5])+a(t[6])+a(t[7])].join("-")}(e)}catch(e){r.a.log("Couldn't generate uuid from Crypto",e)}"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=function(e){return"@@widget/typing/"+e},a=r("TYPING"),o=r("TYPING_FINISHED"),i=r("END_USER_TYPING"),s=r("END_USER_TYPING_FINISHED")},,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),react_hotkeys__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(405),react_hotkeys__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(527),react_textarea_autosize__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_10__),shared_web_src_components_Loading__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(136),utils_linkify__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(801),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(109),react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_13__),_BrandingCopy__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(75),_ComposerMenu__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(800),_Drawer__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(799),_EmojiPicker__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(797),_ConnectionStatus__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(794),_SendMessageButton__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(793),recompose_compose__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(26),recompose_compose__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(recompose_compose__WEBPACK_IMPORTED_MODULE_20__),Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(44),Widget_modules_Bootstrap__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(67),Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(22),Widget_modules_Consent_selectors__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(130),Widget_selectors__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(4),Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(15),Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(204),Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(27),utils_color__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(141),react_dropzone__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(791),react_dropzone__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(react_dropzone__WEBPACK_IMPORTED_MODULE_30__),_messages__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(242),_AttachmentUploadProgress__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(694),utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(34),lodash_es_get__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(20),_style_styl__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(255),_style_styl__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_35__),svg_inline_react__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(41),svg_inline_react__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(svg_inline_react__WEBPACK_IMPORTED_MODULE_36__),_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(526),_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_37__),_React=React,Component=_React.Component,dom=_React.DOM,component=_React.createElement,PropTypes=_React.PropTypes,Composer=function(_Component){function Composer(props){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,Composer);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.getShouldRenderEnterPrompt=_this.getShouldRenderEnterPrompt.bind(_this),_this.handleInputChange=_this.handleInputChange.bind(_this),_this.handleFocus=_this.handleFocus.bind(_this),_this.handleBlur=_this.handleBlur.bind(_this),_this.handleComposerMouseDown=_this.handleComposerMouseDown.bind(_this),_this.handleAttachmentIconClick=_this.handleAttachmentIconClick.bind(_this),_this.handleEmojiMenuButtonClick=_this.handleEmojiMenuButtonClick.bind(_this),_this.handleEmojiSelect=_this.handleEmojiSelect.bind(_this),_this.handleSubmit=_this.handleSubmit.bind(_this);var _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,(Composer.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default()(Composer)).call(this,props));return _this.shouldRenderNewComposer=function(){var e=_this.props,t=e.conversation,n=e.hasConversationRatingGate;return e.isEmbeddedMessenger||n&&t&&t.get("id")},_this.shouldRenderNewEnterPrompt=function(){var e=_this.props,t=e.conversation,n=e.hasConversationRatingGate;return e.isEmbeddedMessenger||n&&t&&t.get("id")},_this.getTextAreaClassName=function(){return _this.shouldRenderNewComposer()?_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a["Composer-textarea"]:""+classnames__WEBPACK_IMPORTED_MODULE_8___default()(_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a["Composer-textarea"],_this.props.size)},_this.state={input:"",focus:!1,emojiDrawerActive:!1},babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(_this)}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Composer,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Composer,null,[{key:"initClass",value:function(){this.propTypes={onSubmit:PropTypes.func,onChange:PropTypes.func,onFocus:PropTypes.func,onInputMouseDown:PropTypes.func,onUploadAttachment:PropTypes.func,conversation:PropTypes.object,conversationLastDriftUser:PropTypes.object,placeholder:PropTypes.string,activeColor:PropTypes.string,showBranding:PropTypes.bool,hasActiveBorderOnFocus:PropTypes.bool,isAway:PropTypes.bool,size:PropTypes.oneOf(["medium","large"]),variant:PropTypes.oneOf(["regular","minimal"]),minRows:PropTypes.number,maxRows:PropTypes.number,autoFocus:PropTypes.bool,disabled:PropTypes.bool,disabledPrompt:PropTypes.bool,connectionStatus:PropTypes.oneOf(["pending","failure","success"]).isRequired,actions:PropTypes.shape({bootstrapEndUser:PropTypes.func.isRequired}).isRequired},this.defaultProps={showBranding:!0,isAway:!1,size:"large",variant:"regular",autoFocus:!0,disabled:!1,disabledPrompt:!1,minRows:1,maxRows:5,hasActiveBorderOnFocus:!0}}}]),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(Composer,[{key:"renderBranding",value:function(){return dom.div({key:"branding",className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("flex",this.props.variant,_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a.Branding)},component(_BrandingCopy__WEBPACK_IMPORTED_MODULE_14__.a,{utmContent:this.props.utmContent}))}},{key:"renderEnterPrompt",value:function(){var e=this.props,t=e.connectionStatus,n=e.activeColor,r=e.isAway;return"success"===t&&this.shouldRenderNewEnterPrompt()?React.createElement("div",{key:"enter-prompt",className:"new-enter-prompt"},React.createElement("button",{className:"send-button",onClick:this.handleSubmit,tabIndex:"1000"},React.createElement(svg_inline_react__WEBPACK_IMPORTED_MODULE_36___default.a,{src:_svg_inline_removeTags_true_removeSVGTagAttrs_false_images_paper_plane_solid_svg__WEBPACK_IMPORTED_MODULE_37___default.a}))):dom.div({key:"enter-prompt",className:"enter-prompt"},"success"===t?component(_SendMessageButton__WEBPACK_IMPORTED_MODULE_19__.a,{color:n,isAway:r,onClick:this.handleSubmit}):component(_ConnectionStatus__WEBPACK_IMPORTED_MODULE_18__.a,{style:{marginTop:"2px"}}))}},{key:"getShouldRenderEnterPrompt",value:function(){return this.state.input.trim().length>0}},{key:"composerStyle",value:function(){return this.props.isEmbeddedMessenger?"floating":this.shouldRenderNewComposer()?"compact":"default"}},{key:"shouldRenderActiveComposerBorderColor",value:function(){return this.props.hasActiveBorderOnFocus&&this.state.focus&&!this.props.disabled&&!this.shouldRenderNewComposer()&&!this.props.isEmbeddedMessenger}},{key:"renderComposer",value:function(){var e,t=this,n=this.composerStyle();return dom.div({className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("Composer",this.props.variant,n,(e={},babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a.hasActiveBorderOnFocus,this.props.hasActiveBorderOnFocus),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"disabled",this.props.disabled&&this.props.disabledPrompt),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"mobile",Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_33__.d)()),e)),style:{borderTopColor:this.shouldRenderActiveComposerBorderColor()?""+this.props.activeColor:void 0}},null!=this.props.conversation&&this.props.allowFileUpload&&component(_AttachmentUploadProgress__WEBPACK_IMPORTED_MODULE_32__.a,{uploadNewFile:this.handleAttachmentIconClick}),dom.div({className:"flex-column"},component(react_hotkeys__WEBPACK_IMPORTED_MODULE_9__.HotKeys,{keyMap:{onEnter:["enter"]},handlers:{onEnter:this.handleSubmit},className:"enter-to-send"},component(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_10___default.a,{ref:function(e){return t.textarea=e},className:this.getTextAreaClassName(),disabled:this.props.disabled,minRows:this.props.minRows,maxRows:this.props.maxRows,tabIndex:1e3,placeholder:this.props.placeholder,size:this.props.size,autoFocus:this.props.autoFocus,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.props.onInputMouseDown})),dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a["Composer-footer"]},component(_ComposerMenu__WEBPACK_IMPORTED_MODULE_15__.a,{color:this.props.activeColor,floating:this.props.isEmbeddedMessenger,allowAttachments:null!=this.props.conversation&&this.props.allowFileUpload,allowEmoji:null!=this.props.conversation,disabled:this.props.disabled,onAttachmentClick:this.handleAttachmentIconClick,onEmojiClick:this.handleEmojiMenuButtonClick,emojiDrawerActive:this.state.emojiDrawerActive}),dom.div({className:"footer"},component(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_13___default.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150},t.getShouldRenderEnterPrompt()?t.renderEnterPrompt():t.props.showBranding?t.renderBranding():void 0))),dom.div({},component(react_addons_css_transition_group__WEBPACK_IMPORTED_MODULE_13___default.a,{transitionName:"footer",transitionEnterTimeout:150,transitionLeaveTimeout:150},function(){if(Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_34__.a)(t.props,"currentConsentPolicy.privacyPolicyAlwaysOn")){var e=Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_34__.a)(t.props,"currentConsentPolicy.privacyPolicyLink"),n=Object(lodash_es_get__WEBPACK_IMPORTED_MODULE_34__.a)(t.props,"currentConsentPolicy.privacyPolicyLinkText");if(e)return React.createElement("div",{className:"privacy-footer"},React.createElement("a",{href:e,target:"_blank",className:"privacy-footer-link"},n||"Privacy Policy"))}}())),component(_Drawer__WEBPACK_IMPORTED_MODULE_16__.a,{isOpen:this.state.emojiDrawerActive},component(_EmojiPicker__WEBPACK_IMPORTED_MODULE_17__.a,{onSelect:this.handleEmojiSelect}))))}},{key:"handleInputChange",value:function(e){var t=e.target.value;return this.setState({input:t}),this.props.onChange&&this.props.onChange(t)}},{key:"handleFocus",value:function(){return this.setState({focus:!0,emojiDrawerActive:!1}),this.props.actions.bootstrapEndUser(),this.props.onFocus&&this.props.onFocus()}},{key:"handleBlur",value:function(){return this.setState({focus:!1}),this.props.onBlur&&this.props.onBlur()}},{key:"handleComposerMouseDown",value:function(e){return"function"==typeof this.props.onInputMouseDown?this.props.onInputMouseDown(e):void 0}},{key:"handleAttachmentIconClick",value:function(){return this.dropZone.open()}},{key:"handleEmojiMenuButtonClick",value:function(){return this.setState(function(e){return{emojiDrawerActive:!e.emojiDrawerActive}})}},{key:"handleEmojiSelect",value:function(e){return this.setState(function(t){var n=t.input+" "+e.native+" ";return this.textarea.value=n,{emojiDrawerActive:!1,input:n}})}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.props.disabled){var t=this.textarea.value.trim();return t&&"success"===this.props.connectionStatus?(this.setState({input:"",emojiDrawerActive:!1}),this.textarea.value="",this.props.onSubmit&&this.props.onSubmit(Object(utils_linkify__WEBPACK_IMPORTED_MODULE_12__.a)(t))):void 0}}},{key:"render",value:function(){var e,t=this;return null!=this.props.conversation&&this.props.allowFileUpload?component(react_dropzone__WEBPACK_IMPORTED_MODULE_30___default.a,{ref:function(e){return t.dropZone=e},className:classnames__WEBPACK_IMPORTED_MODULE_8___default()(_style_styl__WEBPACK_IMPORTED_MODULE_35___default.a["Composer-dropzone"],(e={},babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,this.props.continuousBackgroundGradient,this.props.isEmbeddedMessenger&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_33__.d)()),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"floating",this.props.isEmbeddedMessenger),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(e,"mobile",Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_33__.d)()),e)),activeClassName:"active",activeStyle:{backgroundColor:Object(utils_color__WEBPACK_IMPORTED_MODULE_29__.d)(this.props.activeColor,.05)},disableClick:!0,disablePreview:!0,onDrop:this.props.onUploadAttachment},this.renderComposer()):this.renderComposer()}}]),Composer}(Component);Composer.initClass();var mapStateToProps=function(e){return{currentConsentPolicy:Widget_modules_Consent_selectors__WEBPACK_IMPORTED_MODULE_24__.d(e),showBranding:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_23__.m)(e),connectionStatus:Object(Widget_selectors__WEBPACK_IMPORTED_MODULE_25__.h)(e),isAway:!Object(Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_26__.h)(e),allowFileUpload:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_23__.b)(e),hasConversationRatingGate:Object(Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_27__.b)(e),isEmbeddedMessenger:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_28__.g)(e),continuousBackgroundGradient:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_28__.c)(e)}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_7__.bindActionCreators)({bootstrapEndUser:Widget_modules_Bootstrap__WEBPACK_IMPORTED_MODULE_22__.a},e)}};__webpack_exports__.a=recompose_compose__WEBPACK_IMPORTED_MODULE_20___default()(_messages__WEBPACK_IMPORTED_MODULE_31__.a,Object(Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_21__.a)(["activeColor"]),Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(mapStateToProps,mapDispatchToProps))(Composer)}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(286),o=n(285),i=function(t){var n=t.user,r=t.color,i=t.shape,s=t.size,c=t.style;if(n&&n.bot&&!n.avatarUrl){var u="square"===i?"rect":i;return e.createElement(o.a,{className:"Avatar",type:u,color:r,style:c})}return e.createElement(a.a,{user:n,size:s,shape:i,style:c})};i.displayName="AvatarOrBotAvatar",i.propTypes={user:r.PropTypes.object,color:r.PropTypes.string,shape:r.PropTypes.oneOf(["circle","square"]),size:r.PropTypes.oneOf(["small","medium","large","extra-large","jumbo"]),style:r.PropTypes.object},i.defaultProps={shape:"circle",size:"small"},t.a=i}).call(this,n(0))},,,,function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"d",function(){return h});var r=n(1),a=n.n(r),o=n(91),i=n(5),s=n(18),c=n(36),u=n(24),l=n(215),d=n(3),_=n(408),p={fetchGeolocationPending:Object(i.b)(d.M),fetchGeolocationSuccess:Object(i.b)(d.N),fetchGeolocationFailure:Object(i.b)(d.L)},f=function(){return fetch(u.e+"/geo",{method:"GET",headers:Object(s.e)()})},m=function(){return function(e){return e(p.fetchGeolocationPending()),f().then(function(t){200===t.status?t.json().then(function(t){e(p.fetchGeolocationSuccess(t))}):t.text().then(function(t){c.a.info("location for end user not found",t),e(p.fetchGeolocationFailure())})}).catch(function(t){c.a.warn("failed to fetch geolocation data for end user",t),e(p.fetchGeolocationFailure())})}},b=function(e){return{type:d.Y,payload:e}},g=function(e){return{type:d.X,payload:e}},h=function(e){return{type:d.W,payload:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a,t=arguments[1];switch(t.type){case d.Oa:var n=Object(o.a)({},e,t.payload,{geo:e.geo});return n.cookies=t.payload.cookies||{},n;case d.M:return a()({},e,{geo:a()({},e.geo,{status:t.type})});case d.N:return a()({},e,{geo:a()({},e.geo,t.payload,{status:t.type})});case d.L:return a()({},e,{geo:a()({},e.geo,{status:t.type})});case d.Y:return t.payload.scrollPct>e.scroll.scrollPct?a()({},e,{scroll:a()({},t.payload)}):e;case d.X:var r=t.payload||{},i=r.clientY/r.windowHeight<.5&&function(e){return Date.now()/1e3-e.visits.last}(e)>5;return a()({},e,{mouse:{over:!1},exitIntent:e.exitIntent||i});case d.W:return a()({},e,{mouse:{over:!0}});case l.a:return a()({},e,{session:a()({},e.session,{outbound:!0})});default:return e}}},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(148),i={active:!1,dismissed:!1},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch(arguments[1].type){case o.c:return a()({},e,{active:!0,dismissed:!1});case o.a:return a()({},e,{active:!1,dismissed:!0});case o.b:return a()({},e,{dismissed:!1});default:return e}},c=n(59),u=n.n(c),l=n(5),d=n(85),_=n(159),p={showAwayMessage:Object(l.b)(o.c),showAwayMessageDone:Object(l.b)(o.d),hideAwayMessage:Object(l.b)(o.a),hideAwayMessageDone:Object(l.b)(o.b)},f=void 0,m=u.a.resolve(),b=function(e){return function(t,n){return f&&(clearTimeout(f),f=void 0),t(Object(d.hideWelcomeMessage)()).then(function(){return t(Object(_.b)(e)),t(p.showAwayMessage()),new u.a(function(e){f=setTimeout(function(){t(p.showAwayMessageDone()),e()},220)})})}},g=function(){return function(e,t){return t().AwayMessage.active?(f&&(clearTimeout(f),f=void 0),e(p.hideAwayMessage()),m=new u.a(function(t){f=setTimeout(function(){e(Object(_.b)()),e(p.hideAwayMessageDone()),t()},220)})):m}};n.d(t,"default",function(){return s}),n.d(t,"showAwayMessage",function(){return b}),n.d(t,"hideAwayMessage",function(){return g})},function(e,t,n){"use strict";var r=n(552),a=n(551),o=function(e){window&&(window.requestAnimationFrame&&window.requestAnimationFrame(e),window.setTimeout(e,0))},i=n(550);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return a.a}),n.d(t,!1,function(){return o}),n.d(t,"c",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return f});var r=n(20),a=n(8),o=n(46),i=n(22),s=n(4),c=function(e){return Object(r.a)(e,"Targeting.geo.gdprApplicable",!0)},u=function(e){return Object(r.a)(Object(i.g)(e),"dataProtection",{})},l=function(e){var t=Object(r.a)(e,["Targeting","query",o.j],!1),n=Object(r.a)(Object(i.g)(e),o.j,!1);return!0===t||"true"===t||!0===n},d=function(e){return Object(r.a)(u(e),"targeting",o.d.NONE)},_=function(e){return o.e},p=Object(a.createSelector)([function(e){return Object(r.a)(u(e),"default","en")},function(e){return Object(r.a)(u(e),"policies",{})},s.r],function(e,t,n){return Object(r.a)(t,n,Object(r.a)(t,e))}),f=Object(a.createSelector)([s.m,_],function(e,t){var n=!0===Object(r.a)(e,["externallyModifiedAttributes",t]);return e.didConsentToRequestedConsentId||n})},,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r="END_USER",a="LEAD"},function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c});var r=function(e){return"@@widget/cards/"+e},a=r("UPDATE_LINKS"),o=r("FETCH_LINKS_FOR_MESSAGE"),i=r("FETCH_LINK"),s=r("FETCH_LINK_SUCCESS"),c=r("FETCH_LINK_FAILURE")},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s});var r="EVERYONE",a="VISITORS",o="SEGMENT",i="USERS",s="NONE"},,,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(48),i=n(3),s=i.Ta,c=i.Va,u=i.Ua,l=i.S,d={isIdentifying:!1,hasIdentified:!1,hasPreviouslyIdentified:!1,offlineFeedbackIsSubmitting:!1,offlineFeedbackSubmitted:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case o.f:case o.c:return a()({},e,{isIdentifying:!0});case o.h:case o.e:case o.b:return a()({},e,{isIdentifying:!1,hasIdentified:!0});case o.g:case o.d:return a()({},e,{isIdentifying:!1,hasIdentified:!1});case s:return a()({},e,{offlineFeedbackIsSubmitting:!0});case c:return a()({},e,{offlineFeedbackIsSubmitting:!1,offlineFeedbackSubmitted:!0});case u:case l:return a()({},e,{offlineFeedbackIsSubmitting:!1,offlineFeedbackSubmitted:!1});default:return e}},p=n(82);n.d(t,"b",function(){return _}),n.d(t,!1,function(){return p.a}),n.d(t,"c",function(){return p.e}),n.d(t,"d",function(){return p.f}),n.d(t,!1,function(){return p.g}),n.d(t,"a",function(){return o.h})},,,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(433),i=n.n(o),s=n(78),c=n(161),u=n(76),l=n(410),d=n(69),_=n(149),p=n(33),f=n(172),m=n(64),b=n(170),g=n(409),h=n(65),v=n(821),E=n(820),y=n(40),O=n.n(y),C=n(8),T=(n(239),n(418),n(47),n(819)),M=n.n(T),I=(n(73),n(36)),P=(n(192),new Date);P.setFullYear(P.getFullYear()+2);n(696),n(408);var A=function(e){if(e){try{e=M()(e,{normalizeProtocol:!0,stripFragment:!1,stripWWW:!0,removeQueryParameters:[],removeTrailingSlash:!0})}catch(t){I.a.warn("Could not parse URL '"+e+"'")}return e.replace(/^https?:\/\//,"")}console.warn("Targeting condition is empty, check playbook targeting")},S=function(e){return parseInt(e)},D=n(417),k=n(15),w=n(56),j=n(160),R=n(185);n.d(t,"b",function(){return ne}),n.d(t,"a",function(){return ae});var B=function(e){return e.Targeting},N=function(e){return B(e).visits},U=Object(C.createSelector)(function(e){return Object(k.e)(e).teamAvailabilities},function(e){return Object(l.a)(e,"id")}),L=["geoCountryCode","getCountryCode","geoState","geoMetroCode","geoIp"],W=/(?!)/,x=function(e,t,n){return e(n.get(t),!0)},H=function(e,t,n){return e(t,n)},K=function(e,t){return Object(s.a)(e,function(e){return t===e})},F=function(e,t){return!K(e,t)},q=function(e,t){return e===t},z=function(e,t){return e!==t},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(p.a)(e)||(e=[e]),Object(s.a)(e,function(e){return e.test(t)})},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!G(e,t)},Y=function(e,t){return t<e},Z=function(e,t){return t>e},J=function(e,t){return!!e.min&&!!e.max&&t>=e.min&&t<=e.max},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(s.a)(e,function(e){return-1!==t.indexOf(e)})},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(c.a)(e,function(e){return-1===t.indexOf(e)})},$=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})[e]},ee={isMatch:G,notIsMatch:V},te={device:{fn:function(e,t,n){return!(void 0===n||!n.device)&&e(t,n.device)},selector:B,operands:{isAnyOf:K,notIsAnyOf:F}},siteVisits:{fn:function(e,t,n){return!(void 0===n||!n.visits||void 0===n.visits.sessionCount)&&e(t,n.visits.sessionCount)},typeFn:S,selector:B,operands:{is:q,notIs:z,lessThan:Y,greaterThan:Z,isBetween:J}},daysSinceLastVisit:{fn:function(e,t,n){return!!(n&&n.visits&&n.visits.previousSessionEndedAt)&&e(t,O()().diff(1e3*n.visits.previousSessionEndedAt,"days"))},typeFn:S,selector:B,operands:{is:q,notIs:z,lessThan:Y,greaterThan:Z,isBetween:J}},url:{fn:function(e,t,n){return e(t,n.page.url)},typeFn:A,selector:B,operands:{is:q,notIs:z,isMatch:G,notIsMatch:V,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},urlPath:{fn:function(e,t,n){return e(t,n.page.path)},typeFn:A,selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},urlHost:{fn:function(e,t,n){return e(t,n.page.hostname)},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},urlQuery:{fn:function(e,t,n){Object(p.a)(t)||(t=[t]);var r=Object(h.a)(t,function(e){return e.indexOf("=")>0}),a=Object(d.a)(r,function(e){return e.split("=",2)}),o=Object(d.a)(a,function(e){return{key:e[0].toLowerCase(),val:e[1]}}),i=Object(v.a)(o,"key"),u=Object(E.a)(i,function(e){return Object(d.a)(e,"val")});return!!Object(_.a)(u)||(e===F||e===X?c.a:s.a)(u,function(t,r){return e(t,n.query[r])})},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},referrer:{fn:function(e,t,n){return e(t,n.page.referrer)},typeFn:A,selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},geoCountryCode:{fn:function(e,t,n){return e(t,n.geo.country)},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},geoState:{fn:function(e,t,n){return e(t,n.geo.subdivision)},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},geoMetroCode:{fn:function(e,t,n){return e(t,n.geo.metroCode)},typeFn:S,selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},geoIp:{fn:function(e,t,n){return e(t,n.geo.ip)},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},scrollPct:{fn:function(e,t,n){return e(t,n.scroll.scrollPct)},typeFn:function(e){return parseInt(e)/100},selector:B,operands:{lessThan:Y,greaterThan:Z,isBetween:J}},secondsOnPage:{fn:function(e,t,n){return e(t,n)},typeFn:S,selector:function(e){return Date.now()/1e3-function(e){return N(e).currentPageViewStarted}(e)},operands:{lessThan:Y,greaterThan:Z,isBetween:J}},secondsOnSite:{fn:function(e,t,n){return e(t,n)},typeFn:S,selector:function(e){return Date.now()/1e3-function(e){return N(e).currentSessionStartedAt}(e)},operands:{lessThan:Y,greaterThan:Z,isBetween:J}},mouseOver:{fn:function(e,t,n){return e(t,n.mouse.over)},selector:B,operands:{is:q,notIs:z}},online:{fn:function(e,t,n){return e(t,n)},selector:k.h,operands:{is:q,notIs:z}},clearbit:{fn:x,selector:j.c,operands:{clearbit:q}},demandbase:{fn:x,selector:R.c,operands:{demandbase:q}},exitIntent:{fn:H,selector:function(e){return B(e).exitIntent},operands:{is:q}},outboundSession:{fn:function(e,t,n){return e(t,n.session.outbound)},selector:B,operands:{is:q,notIs:z}},autoAssigneeId:{fn:H,selector:k.c,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},targetAccount:{fn:H,selector:w.e,operands:{is:q,notIs:z}},targetAccountOwnerId:{fn:H,selector:w.b,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F}},cookie:{fn:function(e,t,n){Object(p.a)(t)||(t=[t]);var r=t.filter(function(e){return!!e});if(Object(_.a)(r))return!0;var a=n.cookies||{};return(e===F||e===X?c.a:s.a)(r,function(t){var n=t.split("="),r=i()(n),o=r[0],s=r.slice(1);if(s.length){var c=s.join("=");return e([c],a[o])}return e===q||e===K||e===Q?!Object(b.a)(a[o]):(e===z||e===F||e===X)&&Object(b.a)(a[o])})},selector:B,operands:{is:q,notIs:z,isAnyOf:K,notIsAnyOf:F,includesAnyOf:Q,notIncludesAnyOf:X}},teamAvailability:{fn:function(e,t,n){return Object(s.a)(t,function(t){return e(t,n)})},selector:function(e){var t={},n={},r=function(e){return Object(k.e)(e).teams}(e),a=U(e);return Object(u.a)(r,function(r){if("ALWAYS_OFFLINE"!==r.teamAvailabilityMode){var o=!0;if("CUSTOM_HOURS"===r.teamAvailabilityMode&&r.teamAvailabilityId){if(Object(g.a)(n[r.teamAvailabilityId])){var i=a[r.teamAvailabilityId];n[r.teamAvailabilityId]=Object(D.a)(i.timezone,i.openHours)}o=n[r.teamAvailabilityId]}t[r.id]=r.autoOffline?o&&Object(k.r)(r.members)(e):o}else t[r.id]=!1}),t},operands:{isAvailable:$,isNotAvailable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!$(e,t)}}}};te.getCountryCode=a()({},te.geoCountryCode);var ne=function(e){return Object(s.a)(e,function(e){return Object(s.a)(e,function(e){return Object(f.a)(L,e.field)})})},re=function(e,t){var n=te[e.field];if(!n)return!1;if(!(e.operator in n.operands))return!1;n.selector&&(t=n.selector(t));var r=function(e,t,n){return ee[n]&&(e=function(e){try{return new RegExp(e)}catch(e){return W}}),e?Object(p.a)(t)?Object(d.a)(t,e):Object(m.a)(t)?t:e(t):t}(n.typeFn,e.value,e.operator),a=n.operands[e.operator];return n.fn(a,r,t)},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return!!Object(_.a)(e)||Object(s.a)(e,function(e){return Object(c.a)(e,function(e){return!!Object(f.a)(n,e.field)||re(e,t)})})}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=n(89),a=n.n(r);function o(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=c(e),r=a()(n,3),o=r[0],i=r[1],s=r[2],l=u(Math.floor(o*(1+t))),d=u(Math.floor(i*(1+t))),_=u(Math.floor(s*(1+t)));return function(e,t,n){return"#"+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";for(;e.length<t;)e=n+e;return e}(((e<<16)+(t<<8)+n).toString(16))}(l,d,_)}(e,-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,n=c(e),r=a()(n,3);return"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+t+")"}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFFFFF",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFFFFF",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#333333",r=c(e),o=a()(r,3);return function(e,t,n){return 1-(.299*e+.587*t+.114*n)/255<.5}(o[0],o[1],o[2])?n:t}function c(e){var t=(""+e).replace(/#/,"");if(3!==t.length&&6!==t.length)throw new Error(e+" is not a valid hex color value");var n=void 0,r=void 0,o=void 0;if(3===t.length){var i=Array.prototype.map.call(t,function(e){return e+e}),s=a()(i,3);n=s[0],r=s[1],o=s[2]}else n=t.slice(0,2),r=t.slice(2,4),o=t.slice(4,6);return[n,r,o].map(function(e){return parseInt(e,16)})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}function l(e){if(e)return/^#/.test(e)?e:"#"+e}},,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r="SHOW_AWAY_MESSAGE",a="SHOW_AWAY_MESSAGE_DONE",o="HIDE_AWAY_MESSAGE",i="HIDE_AWAY_MESSAGE_DONE"},,function(e,t,n){e.exports={Body:"dp2Cn7rCPUkibY9nD2WFj",Container:"_3rFYHyeAg3meOhdz2al1n-",Header:"nU8iBIlb3Pnpdfah8T0xS",Title:"_3LgOTzOP49NkcKVg-VuAeA",Menu:"_1t1gRyGlfXe220eYtsZnFt",MenuItems:"_1cDOQdBdNV_UGt3VZw4UNU",MenuItem:"_1LsV8HQQ8Vayk_EI_Q5g-p",HeaderContent:"_1X08QP3Susvzc8-3v9gfn_",AvatarsList:"_26rE0K5J_Yqs69s-astsZ4",MultiAvatars:"_3lC_SnrooeO6smEP1P4Gig",AvatarWrapper:"_35gbWwd6NmCpOxwxnmjUkQ"}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n(298),a=n(5),o=Object(a.b)(r.b),i=Object(a.b)(r.a)},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return C});var r=n(8),a=n(2),o=n(161),i=n(157),s=n(99),c=n(65),u=n(158),l=n(69),d=n(4),_=n(56),p=Object(a.Set)(["targetAccount","targetAccountOwnerId"]),f=function(e){return e.Enrichment.clearbit},m=function(e){return f(e).get("statusByKey")},b=function(e){return f(e).get("valuesByKey")},g=Object(r.createSelector)(d.k,function(e){var t=e.campaigns.map(function(e){return e.conditions}),n=e.rules.map(function(e){return e.conditions}),r=Object(s.a)(Object(i.a)(t,n,e.theme.conditions)),a=Object(c.a)(r,function(e){return"clearbit"===e.field});return Object(u.a)(Object(l.a)(a,function(e){return e.value}))}),h=Object(r.createSelector)(d.k,function(e){var t=e.campaigns.map(function(e){return e.conditions}),n=e.rules.map(function(e){return e.conditions}),r=Object(s.a)(Object(i.a)(t,n,e.theme.conditions));return Object(c.a)(r,function(e){return p.has(e.field)}).length>0}),v=Object(r.createSelector)(d.k,function(e){var t=Object(s.a)(e.theme.conditions),n=Object(c.a)(t,function(e){return"clearbit"===e.field});return Object(u.a)(Object(l.a)(n,function(e){return e.value}))}),E=Object(r.createSelector)(d.k,function(e){var t=Object(s.a)(e.theme.conditions);return Object(c.a)(t,function(e){return p.has(e.field)}).length>0}),y=Object(r.createSelector)(d.z,_.d,function(e,t){return!e||t}),O=Object(r.createSelector)(g,m,h,_.d,function(e,t,n,r){return!!r||!(n&&!r)&&Object(o.a)(e,function(e){return"success"===t.get(e)})}),C=Object(r.createSelector)(v,m,E,_.d,function(e,t,n,r){return!(n&&!r)&&Object(o.a)(e,function(e){return"success"===t.get(e)})})},,function(e,t,n){e.exports={Container:"pCiQAZMYqHTI5ddPdq8M-",Header:"_3OsXm3rYFhc3lRhVG4kEwJ",Header__avatar__border:"_3BMOGSG2gLVIzcGX0nv33h",Header__avatar:"_2zlkHGKHicD3WaGbjyDN0i",Header__name:"_3RoHcdAQCQXtFjvvPDzjsA",Header__title:"_1YEeBntD3-M4IatGVsHqV8",ConsolidatedWelcomeMsgBody:"_2Fteti-zwRHoaAFanLB8AU",Body:"_18JYqrC8X6hfhvBm_B-mjz"}},,,,,,,function(e,t,n){"use strict";var r=n(213),a=n(190),o=n(182),i=n(39),s=n(14),c=(n(102),n(135),n(199),n(151),n(114),n(61),n(81),n(228),n(562),n(18)),u=n(133),l=Object(i.combineEpics)(function(e,t){return e.ofType(u.b).flatMap(function(e){return Object(o.getHrefsByMessageId)(t.getState()).get(e.payload).toSet().filter(function(e){return!Object(o.getLinksByHref)(t.getState()).has(e)})}).map(r.fetchLink)},function(e,t){return e.ofType(u.a).mergeMap(function(e){var t={key:"f0f2cc6ba50c77794e5c5eb2930f3fd5",url:e.payload,omit_script:1,iframe:1};return s.Observable.ajax({url:"//iframe.ly/api/iframely?"+Object(c.c)(t),method:"GET",crossDomain:!0,responseType:"json"}).map(function(t){return Object(r.fetchLinkSuccess)({href:e.payload,data:t.response})}).catch(function(t){return s.Observable.of(Object(r.fetchLinkFailure)({href:e.payload,error:t}))})},1)});n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return o.default})},,,,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u});var r=function(e){return"@@drift/api/"+e},a=r("OVERRIDE_EMBED_CONFIGURATION"),o=r("START_SCHEDULE_MEETING_FLOW"),i=r("UPDATE_END_USER_ATTRIBUTES"),s=r("REFRESH_TARGETING"),c=r("REPLACE_STATE"),u=r("DISCONNECT")},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(134),a=n(132),o=n(246),i=n(20),s=function(e){return!l(e)||(new Date).getTime()<e.attributes.runUntil},c=function(e,t,n,s){var c=e.audience,u=e.attributes,l=e.userListIds,d=Object(i.a)(u,"excludedUserListIds",[]),_=Object(i.a)(u,"accountListIds",[]),p=Object(i.a)(u,"excludedAccountListIds",[]);if(Object(o.a)(d,n).length>0||Object(o.a)(p,s).length>0)return!1;if(c===r.a)return!0;if(c===r.c)return Object(o.a)(l,n).length>0||Object(o.a)(_,s).length>0;var f=!(!t||t.type!==a.a);return c===r.d?f:c===r.e&&!f},u=function(e){return"CHAT"!==e.type},l=function(e){return e&&e.attributes&&"UNTIL"===e.attributes.delivery&&e.attributes.runUntil>0}},,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getCardState",function(){return l}),n.d(t,"getHrefsByMessageId",function(){return d}),n.d(t,"getLinksByHref",function(){return _});var r,a=n(7),o=n.n(a),i=n(5),s=n(2),c=n(133),u=n(190);t.default=Object(i.c)((r={},o()(r,c.e,function(e,t){return e.mergeIn(["hrefsByMessageId"],t.payload)}),o()(r,c.a,function(e,t){return e.setIn(["linksByHref",t.payload],new u.Link({href:t.payload}))}),o()(r,c.d,function(e,t){return e.setIn(["linksByHref",t.payload.href],new u.Link({href:t.payload.href,data:new u.LinkData({url:t.payload.data.url,meta:new u.LinkDataMeta(t.payload.data.meta),links:Object(s.fromJS)(t.payload.data.links),rel:Object(s.List)(t.payload.data.rel),html:t.payload.data.html}),status:"success"}))}),o()(r,c.c,function(e,t){return e.setIn(["linksByHref",t.payload.href],new u.Link({href:t.payload.href,status:"failure"}))}),r),new u.CardState);var l=function(e){return e.Cards},d=function(e){return l(e).hrefsByMessageId},_=function(e){return l(e).linksByHref}},,function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(0),i=n(9),s=n.n(i),c=n(40),u=n.n(c),l=n(34),d=n(297),_=n.n(d);function p(t){var n,r=t.className,o=t.position,i=t.createdAt,c=t.children,d=t.color,p=t.isEmbeddedMessenger,f=t.backgroundColor,m=Object(l.d)();return e.createElement("div",{className:s()(r,(n={},a()(n,_.a.MessageBody,!0),a()(n,_.a["MessageBody--left"],"left"===o),a()(n,_.a["MessageBody--right"],"right"===o),a()(n,"floating",p),a()(n,"mobile",m),n)),style:{color:p&&"right"===o?void 0:d,backgroundColor:p&&"right"===o?"rgba(255, 255, 255, 0.75)":f,padding:p&&!m?"12px 14px":void 0},title:u()(i).format("LLL")},c)}p.propTypes={className:o.PropTypes.string,children:o.PropTypes.node,position:o.PropTypes.oneOf(["left","right"]).isRequired,color:o.PropTypes.string,backgroundColor:o.PropTypes.string,isStartConversationPrompt:o.PropTypes.bool},t.a=p}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return O});var r=n(8),a=n(20),o=n(157),i=n(99),s=n(65),c=n(158),u=n(69),l=n(2),d=n(4),_=n(56),p=Object(l.Set)(["targetAccount","targetAccountOwnerId"]),f=function(e){return e.Enrichment.demandbase},m=function(e){return f(e).get("statusByKey")},b=function(e){return f(e).get("valuesByKey")},g=Object(r.createSelector)(d.k,function(e){var t=Object(a.a)(e,"campaigns",[]),n=Object(a.a)(e,"rules",[]),r=t.map(function(e){return e.conditions}),l=n.map(function(e){return e.conditions}),d=Object(i.a)(Object(o.a)(r,l,e.theme.conditions)),_=Object(s.a)(d,function(e){return"demandbase"===e.field});return Object(c.a)(Object(u.a)(_,function(e){return e.value}))}),h=Object(r.createSelector)(d.k,function(e){Object(a.a)(e,"theme.conditions",[]);var t=Object(i.a)(e.theme.conditions),n=Object(s.a)(t,function(e){return"demandbase"===e.field});return Object(c.a)(Object(u.a)(n,function(e){return e.value}))}),v=(Object(r.createSelector)(d.z,_.d,function(e,t){return!e||t}),Object(r.createSelector)(d.k,function(e){var t=e.campaigns.map(function(e){return e.conditions}),n=e.rules.map(function(e){return e.conditions}),r=Object(i.a)(Object(o.a)(t,n,e.theme.conditions));return Object(s.a)(r,function(e){return p.has(e.field)}).length>0})),E=Object(r.createSelector)(d.k,function(e){var t=Object(i.a)(e.theme.conditions);return Object(s.a)(t,function(e){return p.has(e.field)}).length>0}),y=Object(r.createSelector)(g,m,v,_.d,function(e,t,n,r){return!!r||!(n&&!r)&&e.every(function(e){return"success"===t.get(e)})}),O=Object(r.createSelector)(h,m,E,_.d,function(e,t,n,r){return!!r||!(n&&!r)&&e.every(function(e){return"success"===t.get(e)})})},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});var r="FETCH_AGENT_STATUS",a="FETCH_AGENT_STATUS_SUCCESS",o="FETCH_AGENT_STATUS_FAIL"},,function(e,t,n){"use strict";n.r(t),n.d(t,"CardState",function(){return m}),n.d(t,"LinkDataMeta",function(){return b}),n.d(t,"LinkData",function(){return g}),n.d(t,"Link",function(){return h});var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(2),f=["player","thumbnail","app","image","reader","survey","summary","icon","logo"],m=Object(p.Record)({hrefsByMessageId:Object(p.Map)(),linksByHref:Object(p.Map)()}),b=Object(p.Record)({title:void 0,description:void 0,author_url:void 0,author:void 0,site:void 0,keywords:void 0}),g=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"getPrimaryRel",value:function(){return this.rel.filter(function(e){return-1!==f.indexOf(e)}).first()}}]),t}(Object(p.Record)({url:void 0,meta:new b,links:Object(p.List)(),rel:Object(p.List)(),html:void 0})),h=Object(p.Record)({href:void 0,data:new g,status:"pending"})},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"f",function(){return _}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return b});var r=n(40),a=n.n(r),o=n(20),i=n(45),s=n(110),c=n(53),u=n(104),l=n(38);function d(e,t){return e<60?e+" "+t.formatMessage(l.a.minutes):60===e?"1 "+t.formatMessage(l.a.hour):a.a.duration(e/60,"hours").humanize()}function _(e){return 60*e*1e3}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)return!1;var a=Object(c.k)(e);return r&&a?a:Object(u.d)(e)[t]};function f(e,t){var n="WELCOME_MESSAGE"===e.attributes.campaignDisplayType,r=e.attributes.title,a=e.body;return[r&&!n&&{id:Object(s.a)(),body:r,sender:t},a&&{id:Object(s.a)(),body:a,sender:t}].filter(Boolean)}function m(e){return Object(o.a)(e,"authorType")===i.a.USER&&Object(o.a)(e,"attributes.offerSchedule",!1)}var b=function(e,t){switch(e){case"The requested slot cannot be in the past":return l.a.scheduleAMeetingTimePassedError;case"The requested slot does not fall within agent-configured availability":case"The requested slot does not respect the agent-configured minimum notice time":case"The requested slot--padded by buffer time on both sides--conflicts with an existing event":case"The requested slot--padded by buffer time on both sides--conflicts with an existing point-in-time event":return l.a.scheduleAMeetingAlreadyBookedError;default:return l.a.scheduleAMeetingError}}},,function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return v});var r=n(8),a=n(822),o=n(78),i=n(20),s=n(697),c=n(65),u=n(392),l=n(104),d=n(22),_=n(140),p=[],f=Object(r.createSelector)(d.g,function(e){return Object(i.a)(e,"rules",p)}),m=Object(r.createSelector)(f,function(e){var t=Object(c.a)(e,function(e){return"ENABLED"===e.status});return Object(u.a)(t,function(e){return e.priority})}),b=Object(r.createSelector)([m,function(e){return e}],function(e,t){return e.filter(function(e){return Object(_.a)(e.conditions,t)})}),g=Object(r.createSelector)(b,function(e){var t=e.filter(function(e){return Object(i.a)(e,"action.options.userIds",[]).length>0});return Object(s.a)(t,"priority")}),h=Object(r.createSelector)(m,function(e){return Object(o.a)(e,function(e){return Object(_.b)(e.conditions)})}),v=Object(r.createSelector)(g,function(e){if(!e||!e.action)return[];var t=e.action;return"PARTICIPANT"!==t.type?[]:t.options.userIds});Object(r.createSelector)([l.d,v],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(a.a)(t.map(function(t){return e[t]}).filter(Boolean).filter(function(e){return"ENABLED"===e.status}))})},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=n(131),a=n.n(r),o=n(76),i=n(540),s=i,c=i.reduce(function(e,t){var n=t.name;return t.zones.forEach(function(t){var r=t.value,o=t.label;e[r]={value:r,label:o,region:n,offset:a.a.tz.zone(r).utcOffset(Date.now())}}),e},{}),u=function(){var e=a.a.tz.guess();if(c[e])return e;var t=a.a.tz.zone(e).utcOffset(Date.now()),n=null,r=Number.POSITIVE_INFINITY;return Object(o.a)(c,function(a){var o=a.value,i=a.offset,s=Math.abs(i-t),c=e.split("/")[0],u=o.split("/")[0];s<r?(n=o,r=s):s===r&&c===u&&(n=o,r=s)}),n}(),l=function(){return u};t.a=c},,function(e,t,n){e.exports={Container:"_2gIyXoLnVqkRODc8-Wuf",Header:"a5NDS7LoiAvlNJpPj-9iq",Header__avatar__border:"_1DzUdQtwHj8MXNcXXe0J9a",Header__avatar:"_2T7XSAtPh1O7Diz0PzwL9r",Header__name:"_2ItpHQBWWdxg_wZ-IKT4hh",Header__title:"_1OLj39BNVUwJgTHUC4WWFs",ConsolidatedWelcomeMsgBody:"_1d1kQhCn7N-dhYJR5Om0YC",Body:"Q9ADV15pBKHfBEmiaUDgQ"}},function(e,t,n){e.exports={FloatingHeader:"_3SdzxAaRTCwRnMo58oPoYx",MessengerHeader:"_2JQ3OA7w-khuFjAIA3iC1o",HeaderTitle:"_1ANbkBTeyyXX8EdJEZ6i8M",HeaderActionButton:"_3B7vwmXduhrNI-jNCliy_m",MessengerHeaderHalfHeight:"_1AO8lsPBPnej5q26v9SG__"}},function(e,t,n){e.exports={FloatingHeader:"_3RlNoKG9JDiG_uV8o9hJFE",MessengerHeader:"_2q6fbfL2a_x6NOAAN0mcms",HeaderTitle:"_3UP9cAoYjE427-JsxJdACW",HeaderActionButton:"_1HKYXmGCYDfkrGicaUVeDw",MessengerHeaderHalfHeight:"_3mued41oghPaQSjOV2eKcI"}},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(4),a=(n(27),function(e,t){var n=t.conversationId;return function(e){return function(e){return e.Rating}(e).latestRatingByConversationId}(e).get(n)}),o=function(e){return Object(r.n)("has_conversation_rating")(e)}},function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g});var r=n(59),a=n.n(r),o=n(3),i=n(215),s=n(94),c=n(18),u=n(24),l=n(33),d=n(307),_={externalId:void 0,anonymousId:void 0,embedConfiguration:{},embedConfigurationOverride:{},endUserEmail:void 0,endUserId:void 0,inboxId:void 0,isBootstrapping:!1,hasBootstrapped:!1,orgId:void 0,hasPreviouslyBootstrapped:!1,oneshotToken:void 0},p=function(e,t){if(Object(l.a)(e))return t},f=function(e,t){switch(null==e&&(e=_),null==t&&(t={}),t.type){case o.z:return Object(s.a)(e,{isBootstrapping:!0,hasBootstrapped:!1});case o.A:return Object(s.a)(e,{isBootstrapping:!1,hasBootstrapped:!1});case o.B:return Object(s.a)(e,{isBootstrapping:!1,hasBootstrapped:!0});case o.K:return Object(s.a)(e,{embedConfiguration:Object(d.a)({},t.payload.configuration,e.embedConfigurationOverride,p)});case o.Na:return Object(s.a)(e,{embedConfiguration:Object(d.a)({},e.embedConfiguration,t.payload,p),embedConfigurationOverride:Object(d.a)({},e.embedConfigurationOverride,t.payload,p)});case i.a:return Object(s.a)(e,{embedConfiguration:Object(d.a)({},e.embedConfiguration,{autoAssigneeId:t.payload},p),embedConfigurationOverride:Object(d.a)({},e.embedConfigurationOverride,{autoAssigneeId:t.payload},p)});default:return e}},m=function(e){var t=3e4*Math.floor(new Date/3e4),n=u.f+"/embeds/"+t+"/"+e+".json",r=Object(c.b)(n,{method:"GET"});return{types:[o.J,o.K,o.I],promise:r}},b=function(e){return{type:o.Na,payload:e}},g=function(){return function(e,t){var n=t();return n.Bootstrap.isBootstrapping||n.Bootstrap.hasBootstrapped?a.a.resolve():e({type:o.z})}}},,,,function(e,t,n){"use strict";var r=n(16),a=n(77),o=n(26),i=n.n(o),s=n(334),c=n.n(s),u=n(8),l=(n(4),n(400));function d(e){return e.Bootstrap.embedConfiguration.theme}function _(e){return d(e).iconUrl}function p(e,t){return t.avatarUrl}function f(e,t){return t.iconType}function m(){return Object(u.createSelector)([_,l.a,p,f],function(e,t,n,r){return r===a.a.DISMISS?r:n?a.a.IMAGE:r===a.a.CHAT&&t?a.a.TYPING_INDICATOR:e?a.a.IMAGE:r})}var b=i()(c()({iconType:a.a.CHAT}),Object(r.connect)(function(){var e=m(),t=Object(u.createSelector)([m,_,p],function(e,t,n){return n||(e!==a.a.TYPING_INDICATOR?t:void 0)});return function(n,r){var a=d(n),o=a.backgroundColor,i=a.foregroundColor;return{backgroundColor:o?"#"+o:void 0,foregroundColor:i?"#"+i:void 0,avatarUrl:t(n,r),iconStyle:function(e){return d(e).iconStyle}(n),iconType:e(n,r)}}}));t.a=b(a.b)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(410),i=n(91),s=n(2),c=n(21),u=n(3),l=n(188),d=n(248),_=n(19),p=n(401),f=u.E,m=u.H;var b=Object(c.combineReducers)({driftUsersById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case m:return Object(i.a)({},e,Object(o.a)(t.payload,"id"));default:return e}},organization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case f:return a()({},e,{organization:t.payload});default:return e}},agentStatusById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(s.Map)(),t=arguments[1];switch(t.type){case l.a:var n=t.payload;return e.update(n,function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.a)()).set("agentId",n)});case l.c:return e.update(t.payload.agentId,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.a)();return Object(d.a)(t.payload).set("lastActivityAt",Math.max(t.payload.lastActivityAt,e.lastActivityAt))});case _.t:return function(e,t){var n=void 0;switch(t.type){case _.t:n=Object(p.a)(t);break;default:return e}return n?e.update(n.agentId,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.a)();return e.merge(n)}):e}(e,t);default:return e}}}),g=n(333);n.d(t,"a",function(){return b}),n.d(t,!1,function(){}),n.d(t,"c",function(){return g.d}),n.d(t,"b",function(){return g.a}),n.d(t,!1,function(){return g.c}),n.d(t,!1,function(){return g.b})},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(1),a=n.n(r),o=n(0),i=n(109),s=n.n(i),c=n(251),u=n.n(c),l=function(t){return e.createElement(s.a,a()({},t,{transitionName:{enter:u.a.sliderTransitionEnter,enterActive:u.a.sliderTransitionEnterActive,appear:u.a.sliderTransitionAppear,appearActive:u.a.sliderTransitionAppearActive,leave:u.a.sliderTransitionLeave,leaveActive:u.a.sliderTransitionLeaveActive},transitionAppear:!0,transitionAppearTimeout:250,transitionEnterTimeout:250,transitionLeaveTimeout:200}))};l.propTypes={children:o.PropTypes.node}}).call(this,n(0))},function(e,t,n){"use strict";n.r(t),n.d(t,"updateLinks",function(){return o}),n.d(t,"fetchLinksForMessage",function(){return i}),n.d(t,"fetchLink",function(){return s}),n.d(t,"fetchLinkSuccess",function(){return c}),n.d(t,"fetchLinkFailure",function(){return u});var r=n(5),a=n(133),o=Object(r.b)(a.e),i=Object(r.b)(a.b),s=Object(r.b)(a.a),c=Object(r.b)(a.d),u=Object(r.b)(a.c)},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"@@widget/bootstrap/"+e}("UPDATE_AUTO_ASSIGNEE_ID")},,,,,,,function(e,t,n){"use strict";var r=n(95),a=n.n(r);t.a=a()({SERVER:"SERVER",BROWSER:"BROWSER",BROWSER_NO_AUDIENCE:"BROWSER_NO_AUDIENCE"})},,function(e,t,n){e.exports={Content:"_3TkTnva0kp4_s6QGuocM8S",Slider:"_1b3vqsUidg2y5nwocQAgSr",DismissButton:"_6BwFcYAqGY8w7rRDL0Niy",ContentHeader:"B_uL3Qujf2Roft6wYGNXp",ContentHeaderSender:"_2AdtuXJprE7LTkVQhbsypt",FlexContentWrapper:"_34V_sCx4gmx5i4Rx4tCE_S",DismissButtonWrapper:"SzXv5qjxgLmeTnKCyQb_Y"}},function(e,t,n){e.exports={Content:"_28eE3t3T7Q8yKv-AGGQBmw",CtaButton:"_2ZajEElzGyjC5x-w9A4u2E",Slider:"_38Iqt3QAkTLmTs9LW0Fw6N",DismissButton:"_2DVrrMF0tG7SXtA3Y7Ly3W",Headline:"_3-cmGLagwmFmgte107B6qm",FlexContentWrapper:"_1i487viXPyIE0Ahk3YR5TE",DismissButtonWrapper:"_2iAByz56BmBgYpB3vqyhzu"}},function(e,t,n){e.exports={Content:"_3nWrZjduL9cRbR_WCKZYF4",Slider:"_2t-9Fv8VxEcRGJuFbnVgay",DismissButton:"_1ihKopcUFd0RieQHo25POI",Headline:"_1WNBBwxCcF_hnrc8DpW-SM",CtaButton:"BvT9nivrJSjNRFB5k4f18",FlexContentWrapper:"zPISJX_pd_zMcdYSa4mGI",DismissButtonWrapper:"_1Z-zCL3saKisr9pF2E2lWU"}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return h});var r=n(8),a=n(2),o=n(4),i=n(88),s=n(56),c=n(22),u=n(140),l=n(174),d=function(e){return e.CampaignTargeting},_=function(e){return d(e).enrollmentEnabled},p=function(e){return d(e).bulkEnrollStatus},f=Object(r.createSelector)([i.c,function(e){return d(e).enrolledCampaignIds},i.e],function(e,t,n){return e.keySeq().toSet().union(t,n)}),m=Object(r.createSelector)([c.l,f],function(e,t){return e.filter(function(e){return!t.has(e.id)})}),b=(Object(r.createSelector)([m],function(e){return Object(a.Set)(e.map(function(e){return e.id}))}),Object(r.createSelector)([m,o.i,o.u,s.c],function(e,t,n,r){return e.filter(function(e){return l.b(e)}).filter(function(e){return l.c(e)}).filter(function(e){return l.a(e,t,n,r)})})),g=function(e){return b(e).filter(function(t){return Object(u.a)(t.conditions,e,["secondsOnPage"])})},h=Object(r.createSelector)([g],function(e){return e.length>0})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),react_intl__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17),immutable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2),immutable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(immutable__WEBPACK_IMPORTED_MODULE_7__),Widget_components_Avatar__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(123),_RotatingAvatar__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(786),_Attachment__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(524),_messages__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(541),Widget_constants_UserType__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(45),utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(34),_style_styl__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(353),_style_styl__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_14__),dom=React.DOM,component=React.createElement,_React=React,Component=_React.Component,PropTypes=_React.PropTypes,MessageGroup=function(_Component){function MessageGroup(){var _ref,_this;babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,MessageGroup);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.renderMultiSenderAvatars=_this.renderMultiSenderAvatars.bind(_this),_this.renderAgentAvatar=_this.renderAgentAvatar.bind(_this);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,(_ref=MessageGroup.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default()(MessageGroup)).call.apply(_ref,[this].concat(args)))}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(MessageGroup,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MessageGroup,[{key:"renderAgentInfoLine",value:function(){var e=this.props.senders.isEmpty()||this.props.senders.every(function(e){return!e.has("name")})?null!=this.props.drifttUser?this.props.drifttUser.name:void 0:this.props.senders.map(function(e){return e.get("name")}).filter(Boolean).join(", ");return dom.div({className:"info-line flex"},dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_14___default.a["message-sender-name"]},e))}},{key:"renderEndUserStatusLine",value:function(){return this.props.isDelivered?this.props.isLastMessageGroup?dom.div({className:"info-line flex"},dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_14___default.a["message-delivery-status"]},component(_messages__WEBPACK_IMPORTED_MODULE_11__.a)),dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_14___default.a["message-received-time"]},component(react_intl__WEBPACK_IMPORTED_MODULE_6__.e,{value:this.props.createdAtTimestamp}))):void 0:dom.div({className:"info-line flex"},component(_messages__WEBPACK_IMPORTED_MODULE_11__.b))}},{key:"renderMultiSenderAvatars",value:function(){return component(_RotatingAvatar__WEBPACK_IMPORTED_MODULE_9__.a,{users:this.props.senders})}},{key:"renderAgentAvatar",value:function(){if(!(null!=this.props.senders?this.props.senders.isEmpty():void 0)&&!this.props.lastAgentResponseAt)return this.renderMultiSenderAvatars();var e=this.props.drifttUser,t=component(Widget_components_Avatar__WEBPACK_IMPORTED_MODULE_8__.a,{user:e,color:this.props.backgroundColor});return(null!=e?e.publicProfileUrl:void 0)?dom.a({href:e.publicProfileUrl,target:"_blank"},t):t}},{key:"render",value:function(){var e=this.props,t=e.isFromViewer,n=e.isStartConversationPrompt,r=e.hasConsolidatedWelcomeMsg,a=e.isEmbeddedMessenger;return r&&n?null:dom.div({className:classnames__WEBPACK_IMPORTED_MODULE_5___default()("Message",this.props.className,{"is-end-user":t,"is-last-message-group":this.props.isLastMessageGroup,"is-start-convo-prompt":n,floating:a,mobile:Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_13__.d)()})},t?void 0:this.renderAgentAvatar(),dom.div({className:"message-container flex-column"},t?void 0:this.renderAgentInfoLine(),dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_14___default.a["message-group"]},this.props.children),t?this.renderEndUserStatusLine():void 0))}}],[{key:"initClass",value:function(){this.propTypes={isLastMessageGroup:PropTypes.bool,isFromViewer:PropTypes.bool.isRequired,drifttUser:PropTypes.object,senders:PropTypes.object,lastAgentResponseAt:PropTypes.number,createdAtTimestamp:PropTypes.number,isDelivered:PropTypes.bool,backgroundColor:PropTypes.string,className:PropTypes.string,children:PropTypes.node,isStartConversationPrompt:PropTypes.bool},this.defaultProps={senders:Object(immutable__WEBPACK_IMPORTED_MODULE_7__.List)()}}}]),MessageGroup}(Component);MessageGroup.initClass(),__webpack_exports__.a=MessageGroup}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(23),a=n.n(r),o=n(1),i=n.n(o),s=n(0),c=n(17),u=Object(c.h)({composerPlaceholder:{id:"app.composer.placeholder",description:"Placeholder text in the Composer",defaultMessage:"Type your message…"},composerLeaveMessageForPlaceholder:{id:"app.composer.leaveMessageForPlaceholder",description:"Placeholder text displayed in existing conversations when offline",defaultMessage:"Leave a message for {name}"},composerLeaveMessagePlaceholder:{id:"app.composer.leaveMessagePlaceholder",description:"Placeholder text displayed in new conversations when offline",defaultMessage:"Leave a message…"},composerReplyToPlaceholder:{id:"app.composer.replyToPlaceholder",description:"Placeholder text displayed in existing conversations",defaultMessage:"Reply to {name}"},composerLeaveMessage:{id:"app.composer.leaveMessage",description:"Action button to leave a message",defaultMessage:"Leave Message"},composerSendMessage:{id:"app.composer.sendMessage",description:"Action button to send a message",defaultMessage:"Send Message"},composerDisabledUseButtons:{id:"app.composer.disabledUseButtons",description:"Disabled composer prompt to point the user at buttons",defaultMessage:"Choose an option above..."},composerBrandingChatWith:{id:"app.composer.footer.chatWith",description:"Alternate branding with simple chat prompt",defaultMessage:"Chat with {orgName}"},returnKey:{id:"system.key.return",description:"The return key on the keyboard",defaultMessage:"return"},enterKey:{id:"system.key.enter",description:"The enter key on the keyboard",defaultMessage:"enter"},sendKeyHint:{id:"app.composer.sendKeyHint",description:"Hint text for sending messages by hitting the return/enter key",defaultMessage:"{key} to send"}});function l(t){var n=function(n){var r=n.intl,o=n.conversationLastDriftUser,s=n.isAway,c=n.disabled,l=n.disabledPrompt,d=a()(n,["intl","conversationLastDriftUser","isAway","disabled","disabledPrompt"]),_=void 0;return _=c&&l?r.formatMessage(u.composerDisabledUseButtons):o&&o.name?s?r.formatMessage(u.composerLeaveMessageForPlaceholder,{name:o.name}):r.formatMessage(u.composerReplyToPlaceholder,{name:o.name}):s?r.formatMessage(u.composerLeaveMessagePlaceholder):r.formatMessage(u.composerPlaceholder),e.createElement(t,i()({placeholder:_,isAway:s,disabled:c,disabledPrompt:l},d))};return n.propTypes={intl:c.j.isRequired},Object(c.i)(n)}s.PropTypes.bool.isRequired}).call(this,n(0))},,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n(5),a=n(111),o=Object(r.b)(a.c),i=Object(r.b)(a.d),s=Object(r.b)(a.a),c=Object(r.b)(a.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),a=n(86),o=Object(r.Record)({agentId:null,lastActivityAt:null,online:!1,availability:a.b.OFFLINE})},,function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return p});var r=n(4),a=n(15),o=n(24),i=n(25),s=n(299),c=function(e,t){var n=t.clusterName;return function(e){return e.Socket}(e).get(n,Object(s.b)())},u=function(e,t){return"failure"===function(e,t){return c(e,t).authenticateStatus}(e,t)},l=function(e,t){var n=t.clusterName;switch(t.channelName){case i.k.USER:return"user:"+function(e,t){return c(e,t).userId}(e,{clusterName:n});case i.k.ORG_PUBLIC:return"org:"+Object(a.k)(e)}},d=function(e,t){switch(t.clusterName){case i.l.PRESENCE:if(o.s){var n=Object(a.k)(e),r=f(n);return o.u+"://"+n+"-"+r+"."+o.r}return o.m;case i.l.MESSAGES:if(o.q){var s=Object(a.k)(e),c=f(s);return o.u+"://"+s+"-"+c+"."+o.p}return o.j}},_=function(e,t){switch(t.clusterName){case i.l.PRESENCE:if(o.s){var n=Object(a.k)(e),r=f(n);return o.o+"://"+n+"-"+r+"."+o.r}return o.l;case i.l.MESSAGES:if(o.q){var s=Object(a.k)(e),c=f(s);return o.o+"://"+s+"-"+c+"."+o.p}return o.i}},p=function(e){return Object(r.b)(e)?{access_token:Object(r.b)(e)}:{org_id:Object(a.k)(e),anon_id:Object(a.a)(e)}},f=function(e){return e%o.t}},function(e,t,n){e.exports={sliderTransitionEnter:"RleSeSSshUnxBU54Ju-Kg",sliderTransitionAppear:"yZ8m6oJqdYiWLMMseLe71",sliderTransitionLeave:"_2REwem2ttd38R0rWXhgPB3",sliderTransitionLeaveActive:"_2PYlwCQUwR96W4dGlZoidv",sliderTransitionEnterActive:"_1A1yWaMm_2RUCDFzylxa4q",sliderTransitionAppearActive:"_1HkBS3rdb0dAn10UW3DlfS"}},function(e,t,n){e.exports={Container:"gjK_A0k1m9YUi0X2ELNuM",Header:"_2xftig58XqbF4GSyHJqNWy",Form:"_1BquHi9sTWrb6uvZ2Dm_eW",Body:"_2havWONWU25Fa8_Gs4sngI",Input:"_2moH5hy0ThAmgSXPzJ85kL",SubmitButton:"_2W4Ow2Gh16tpJFVWkrr0zP"}},function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return h});var r=n(1),a=n.n(r),o=n(0),i=n(17),s=n(9),c=n.n(s),u=n(441),l=n(351),d=n.n(l),_=function(t){var n=t.className;return e.createElement("svg",{viewBox:"0 0 10 10",className:c()(d.a.ActivityIndicatorBadge,n)},e.createElement("ellipse",{cx:"50%",cy:"50%",rx:"50%",ry:"50%"}))};_.propTypes={className:o.PropTypes.string};var p=function(t){return e.createElement(_,{className:d.a["ActivityIndicatorBadge--online"]})},f=function(t){return e.createElement(_,{className:d.a["ActivityIndicatorBadge--offline"]})},m=function(t){return e.createElement("div",a()({},t,{className:d.a.AgentActiveStatus,style:{color:t.foregroundColor}}))};m.propTypes={children:o.PropTypes.node,foregroundColor:o.PropTypes.string};var b=function(t){var n=t.foregroundColor;return e.createElement(m,{foregroundColor:n},e.createElement(p,null)," ",e.createElement(i.b,u.a.userStatusOnline))};b.propTypes={foregroundColor:o.PropTypes.string};var g=function(t){var n=t.time,r=t.foregroundColor;return e.createElement(m,{foregroundColor:r},e.createElement(i.b,a()({},u.a.userStatusActive,{values:{time:e.createElement(i.d,{value:n})}})))};g.propTypes={time:o.PropTypes.number.isRequired,foregroundColor:o.PropTypes.string};var h=function(t){var n=t.foregroundColor;return e.createElement(m,{foregroundColor:n},e.createElement(f,null)," ",e.createElement(i.b,u.a.userStatusOffline))};h.propTypes={foregroundColor:o.PropTypes.string}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"b",function(){return h});var r=n(1),a=n.n(r),o=n(0),i=n(17),s=n(9),c=n.n(s),u=n(444),l=n(352),d=n.n(l),_=function(t){var n=t.className;return e.createElement("svg",{viewBox:"0 0 10 10",className:c()(d.a.ActivityIndicatorBadge,n)},e.createElement("ellipse",{cx:"50%",cy:"50%",rx:"50%",ry:"50%"}))};_.propTypes={className:o.PropTypes.string};var p=function(t){return e.createElement(_,{className:d.a["ActivityIndicatorBadge--online"]})},f=function(t){return e.createElement(_,{className:d.a["ActivityIndicatorBadge--offline"]})},m=function(t){return e.createElement("div",a()({},t,{className:d.a.AgentActiveStatus,style:{color:t.foregroundColor}}))};m.propTypes={children:o.PropTypes.node,foregroundColor:o.PropTypes.string};var b=function(t){var n=t.foregroundColor;return e.createElement(m,{foregroundColor:n},e.createElement(p,null)," ",e.createElement(i.b,u.a.userStatusOnline))};b.propTypes={foregroundColor:o.PropTypes.string};var g=function(t){var n=t.time,r=t.foregroundColor;return e.createElement(m,{foregroundColor:r},e.createElement(i.b,a()({},u.a.userStatusActive,{values:{time:e.createElement(i.d,{value:n})}})))};g.propTypes={time:o.PropTypes.number.isRequired,foregroundColor:o.PropTypes.string};var h=function(t){var n=t.foregroundColor;return e.createElement(m,{foregroundColor:n},e.createElement(f,null)," ",e.createElement(i.b,u.a.userStatusOffline))};h.propTypes={foregroundColor:o.PropTypes.string}}).call(this,n(0))},function(e,t,n){e.exports={hasActiveBorderOnFocus:"QThEDgEDT1-11mx5ScY8H","Composer-textarea":"_1eY_aSnr3MDhZqacV8fugZ","Composer-footer":"_3U7UDl0salhAfnh_5cngat",Branding:"_3cFC78pAuQUUGXB0th8eZP","Composer-dropzone":"_1LQ2wLU8AfB3847pycmdlu"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return b}),n.d(t,"f",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v});var r=n(59),a=n.n(r),o=n(5),i=n(87),s=n(128),c=n(159),u=n(170),l={showWelcomeMessage:Object(o.b)(i.c),showWelcomeMessageDone:Object(o.b)(i.d),hideWelcomeMessage:Object(o.b)(i.a),hideWelcomeMessageDone:Object(o.b)(i.b),mouseEnter:Object(o.b)(i.f),mouseLeave:Object(o.b)(i.g)},d=void 0,_=void 0,p=a.a.resolve(),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.slide,n=e.avatar,r=e.avatarUrl,o=e.message,i=e.sender,_=e.showAvatar,p=e.inboxId,f=e.attributes,m=e.autoFocus,b=void 0!==m&&m,g=e.msgFromFirstPopup,h=void 0!==g&&g,v=e.triggeredFromWidgetAPI,E=void 0!==v&&v;return function(e,m){var g=m(),v=t?"SLIDE":void 0,y=n||_?"USER":void 0,O={inboxId:p,attributes:f,autoFocus:b,msgFromFirstPopup:h,triggeredFromWidgetAPI:E,transitionStyle:Object(u.a)(v)?g.WelcomeMessage.transitionStyle:v,avatarStyle:Object(u.a)(y)?g.WelcomeMessage.avatarStyle:y,avatarUrl:r||g.WelcomeMessage.avatarUrl,sender:i||r&&{avatarUrl:r},message:o||g.WelcomeMessage.message};return d&&(clearTimeout(d),d=void 0),e(Object(s.hideAwayMessage)()).then(function(){return e(Object(c.b)(O)),e(l.showWelcomeMessage(O)),new a.a(function(t){d=setTimeout(function(){e(l.showWelcomeMessageDone(O)),t()},220)})})}},m=function(){return function(e,t){var n=t();return n.WelcomeMessage.active||n.WelcomeMessage.hovered?(d&&(clearTimeout(d),d=void 0),e(l.hideWelcomeMessage()),p=new a.a(function(t){d=setTimeout(function(){e(Object(c.b)()),e(l.hideWelcomeMessageDone()),t()},220)})):p}},b=function(){return function(e,t){return _&&clearTimeout(_),_=setTimeout(function(){var n=t().WelcomeMessage,r=n.active,a=n.hovered,o=n.dismissed;a||r||o||e(l.mouseEnter())},100),a.a.resolve()}},g=function(){return function(e,t){return _&&clearTimeout(_),_=setTimeout(function(){var n=t().WelcomeMessage,r=n.active,a=n.hovered,o=n.dismissed;!a||r||o||e(m())},100),a.a.resolve()}},h=Object(o.b)(i.e),v=function(){return function(e){return e(h()),e(m())}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"@@widget/visibility/"+e}("SET_VISIBILITY")},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(216),m=n.n(f),b=n(109),g=n.n(b),h=n(397),v=n.n(h),E=n(209),y=n(347),O=n.n(y),C=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.handleResize=function(e){var t=e.width,n=e.height;r.props.onResize&&r.props.onResize({width:t,height:n})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"shouldComponentUpdate",value:function(e,t){return v()(this,e,t)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.onClick;return e.createElement(m.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:O.a.Container},e.createElement(g.a,{className:O.a.TransitionGroup,transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},e.createElement("div",{key:"widget-button",className:O.a.WidgetButtonContainer},e.createElement(E.a,{className:O.a.WidgetButton,iconType:n?"DISMISS":void 0,onClick:r})),n)))}}]),n}(p.Component);C.propTypes={children:p.PropTypes.node,onResize:p.PropTypes.func,onClick:p.PropTypes.func},t.a=C}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(216),m=n.n(f),b=n(209),g=n(109),h=n.n(g),v=n(9),E=n.n(v),y=n(397),O=n.n(y),C=n(16),T=n(4),M=n(15),I=(n(20),n(437)),P=n.n(I),A=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.handleResize=function(e){var t=e.width,n=e.height;r.props.onResize&&r.props.onResize({width:t,height:n})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"shouldComponentUpdate",value:function(e,t){return O()(this,e,t)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.onClick,a=t.showNewCallout;return e.createElement(m.a,{onMeasure:this.handleResize,whitelist:["width","height"]},e.createElement("div",{className:P.a.Container},e.createElement(h.a,{className:P.a.Transition,style:{width:"100%"},transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:220,transitionEnterTimeout:220,transitionLeaveTimeout:220},n),e.createElement(b.a,{ariaMessage:this.props.ariaMessage,className:E()(P.a.WidgetButton,{"light-box-shadow":a}),iconType:n?"DISMISS":void 0,onClick:r})))}}]),n}(p.Component);A.propTypes={children:p.PropTypes.node,onResize:p.PropTypes.func,onClick:p.PropTypes.func,ariaMessage:p.PropTypes.string};t.a=Object(C.connect)(function(e){return{showNewCallout:Object(T.v)(e)&&Object(M.j)(e)}})(A)}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l});var r=n(756),a=n(24),o=n(18),i=n(4),s=n(93),c=function(e){return function(t,n){var r=a.a+"/attachments?"+Object(o.c)({id:e}),c=Object(o.b)(r,{method:"GET",headers:Object(i.d)(n())});return t({types:[s.b,s.c,s.a],promise:c,metadata:{ids:e}})}},u=function(){return function(e){return e({type:s.d,error:{responseData:{message:"AttachmentSizeException"}}})}},l=function(e,t){return function(n,c){var u=new FormData;u.append("conversationId",e),u.append("file",t);var l=a.a+"/attachments",d=Object(o.b)(l,{method:"POST",headers:Object(i.d)(c()),contentType:"multipart/form-data",body:u});return n({types:[s.e,s.f,s.d],promise:d,metadata:{localId:Object(r.a)(),conversationId:e,file:t}})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"@@widget/rating/"+e}("RATE_CONVERSATION")},,,,,,,,,,,,,,function(e,t,n){e.exports={fullWidth:"_260JxFRVlO8nvMgwlq0zEL",MessageBody:"XnctIpXq756HWNS1GLwPT","MessageBody--left":"_2toCY614f8S_5Lg3RAl613","MessageBody--right":"_32rZvM63nnZZRBScmIZIjJ"}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="ConversationUI.SET_OVERRIDES",a="ConversationUI.SET_CAMPAIGN_MESSAGE"},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=n(2),a=Object(r.Record)({userId:void 0,userIpAddress:void 0,sessionToken:void 0,socket:void 0,authenticateStatus:void 0,channels:Object(r.Map)()}),o=Object(r.Record)({channel:void 0,onMessageSubject:void 0})},,function(e,t,n){"use strict";var r=n(8),a=n(104),o=n(15),i=n(30),s=n(90);function c(e,t){return function(e){return e.ScheduleMeeting.availabilityByAgentId}(e).get(t.agentId,new s.a)}function u(e,t){return function(e){return e.ScheduleMeeting.availabilityFetchStatusByAgentId}(e).get(t.agentId,new s.c)}function l(e,t){return function(e){return e.ScheduleMeeting.scheduleAppointmentFetchStatusByAgentId}(e).get(t.agentId,new s.c)}var d=n(45);function _(){var e=Object(i.p)();return function(t,n){var r=e(t,n);return r&&r.getIn(["attributes","presentSchedule"],!1)}}function p(){var e=_(),t=Object(i.q)();return function(n,r){var a=e(n,r);return"number"==typeof a?a:t(n,r).takeUntil(function(e){return e.get("id")===r.messageId}).map(function(e){return e.getIn(["attributes","scheduleMeetingWith"],null)}).filter(Boolean).last()}}function f(){var e=p(),t=Object(i.q)();return function(n,r){var a=e(n,r),o=t(n,r).takeUntil(function(e){return e.get("id")===r.messageId}).filter(function(e){return!!e.getIn(["attributes","offerSchedule"])}).last();if(o&&o.getIn(["attributes","offerSchedule"])===a&&o.get("authorType")===d.a.USER)return o.get("authorId")}}function m(){var e=Object(i.q)();return function(t,n){return e(t,n).takeUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","meetingType"],null)}).filter(Boolean).last()}}function b(){var e=p(),t=m(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return function(t,n){var r=e(t,n);return Object(a.a)(t,{agentId:r})}}(e),d=function(){var e=Object(i.q)();return function(t,n){return e(t,n).skipUntil(function(e){return e.get("id")===n.messageId}).map(function(e){return e.getIn(["attributes","appointmentInfo"],null)}).filter(Boolean).map(function(e){return new s.b(e)}).first()}}();return Object(r.createStructuredSelector)({agentId:e,meetingType:t,agent:n,appointment:d,availabilityInfo:c,availabilityFetchStatus:u,scheduleAppointmentFetchStatus:l,showBranding:o.s})}n.d(t,"e",function(){return _}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return b})},,function(e,t,n){e.exports={Content:"_1QMEkp0zgBS93G6kHWmAHJ",Slider:"_2d_Bp-Kt5gkBPBdwssn49b",DismissButton:"_6eWTYUKsxoA_IdO5RL7zQ",FlexContentWrapper:"l82_D_KImuLA5zRjJBNjH",DismissButtonWrapper:"mTzHPSKdhS7SRFrqMCAlW"}},function(e,t,n){e.exports={CalloutTail:"_2IOZNDmRPpIkWq7_LHNMMH",Callout:"_2Am0IsT9lH_Ptdj-CW2uiy",hasClickHandler:"_1w6YXZ6Lh2aJD2goJRtLx3",hasTail:"_2hJjohH-EqiCHgHG2iPxnD",Content:"_2fl3RiMFMzxYgTM_TjTg8I"}},function(e,t,n){e.exports={Wrapper:"AsmHNMwa8V6JFxwzpR6dG",SliderLayout:"_3GvcBFnnOqEvAbpxb4K9_",WidgetButton:"j8lkf_ta2sl2WMvjiqiaK",Content:"-zOcMNdFsi7uCebRFihg7",UnreadCountBadgeWrapper:"_2zlCNz6GWncyQ9b6a9KhmX"}},function(e,t,n){e.exports={Form:"_1RZF2oOoMSrHbqfyfJycCL",Body:"_1KRtdPbS_KRGx5MzxXrHJY",Input:"_1XHHWJuwaCBjEeVyO_8ivL",Title:"_1p-B9iMcG2bC1ObqDZi2p8",SubmitButton:"_3M5mTrdRQcrgoxTsoKAXTL"}},,function(e,t,n){e.exports={ComposerMenu:"I2Y_Gw71BZf3YTJx23Iu2",ComposerMenuItem:"_3S9isv8S9Biq6Z_VIUdDgW",Attachment:"_28Z4Rplsugcrb8Zz8n36Ix",EmojiIcon:"_2JwaxVSnbRscs1uFN1uSnk",ComposerMenuItemActive:"_28uG9Lj5itx52NpBHEPpWR"}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M9.502 8.5l7.29 7.29c.277.278.277.727 0 1.003-.137.138-.32.207-.5.207s-.362-.07-.5-.207L8.5 9.503l-7.29 7.29c-.14.138-.32.207-.5.207-.183 0-.364-.07-.502-.207-.277-.276-.277-.725 0-1.002l7.29-7.29-7.29-7.29C-.07.932-.07.483.208.206c.277-.276.725-.276 1 0L8.5 7.497l7.29-7.29c.277-.276.725-.276 1.002 0 .277.277.277.726 0 1.002L9.502 8.5z" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";n.d(t,"d",function(){return _}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"b",function(){return m});var r=n(5),a=n(4),o=n(18),i=n(24),s=n(3),c=n(188),u=(s.C,s.E,s.D,s.F),l=s.H,d=s.G,_=function(e){return function(t,n){var r={method:"GET",headers:Object(a.d)(n())},s=i.e+"/organizations/"+e+"/users",c=Object(o.b)(s+"?"+Object(o.c)({avatar_fm:"png",avatar_fit:"max",avatar_w:"200",avatar_h:"200",status:["ENABLED","INVITED","ARCHIVED"]}),r);return t({types:[u,l,d],promise:c})}},p=Object(r.b)(c.a),f=Object(r.b)(c.c),m=Object(r.b)(c.b)},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l});var r=n(8),a=n(15),o=n(240),i=n(35),s=function(e){return e.WelcomeMessage},c=function(e){return s(e).msgFromFirstPopup},u=function(e){return s(e).triggeredFromWidgetAPI},l=Object(r.createSelector)(a.o,function(e){return e.UI.iframeSize},function(e){return s(e).active},function(e){return s(e).hideOnStartup},a.h,o.d,a.p,function(e,t,n,r,a,o,s){return e&&a&&!o&&!n&&!r&&t===i.q&&!s})},,function(e,t,n){e.exports={IdentifyForm__submit:"_1pX4AgCirrd3ONwyrdTrtK",IdentifyForm__label:"_1xnWH0aQJFEhmp915uALhK",IdentifyCard:"_2NhAQGASt95mN0N9Uw1wZl","IdentifyCard__email-icon":"_2CjOtLocbghUNr5tUXWtmr",IdentifyForm:"_1Gtju_Jekx_uqFMJML29ZR",IdentifyForm__inputwrapper:"u5Y-cGMB2OcQ8eo_68yAh",IdentifyForm__input:"gFknHIaOy5Etwu2ZPk6ht",CompletionView:"NdzlnN8ACoaRODFkjM_W3"}},,,function(e,t,n){e.exports={TransitionGroup:"_1bqdrLsJSZt9zFJWH9azSb",Container:"_30us5AS2WYfPMXSfbW1-5E",WidgetButtonContainer:"BPdyB1KwQdtQbyI2ko2_3",WidgetButton:"_1xDOR96s4kIDrWxVqKC3m0"}},function(e,t,n){e.exports={WidgetButton:"_2So8ItJQ9P6IqaCUlCO-2f",clickable:"_3S6qOFxcrgO0yM2f9_l6JZ",avatar:"_1gnOKXWkiErWpwukGzkFAe",svgIcon:"_1ZSagdd_Wbj_ZKw0RkZfOn"}},function(e,t,n){"use strict";var r=n(17);t.a=Object(r.h)({notLikely:{id:"app.campaign.nps.notLikely",description:"Low probability of a recommendation",defaultMessage:"not likely"},veryLikely:{id:"app.campaign.nps.veryLikely",description:"High probability of a recommendation",defaultMessage:"very likely"},feedbackApproval:{id:"app.campaign.nps.feedbackApproval",description:"Thanks the user for submitting feedback",defaultMessage:"Thank you for your feedback!"},detractorFeedbackApproval:{id:"app.campaign.nps.detractorFeedbackApproval",description:"Extra approval message displayed to users who submit low ratings",defaultMessage:"It will help us improve your experience."}})},function(e,t,n){e.exports={Messenger:"_1Ye1l5vAr1Tazvm0Te2dMq",MessengerEmbedded:"_3r70s4tnbMNGN-csA73Pzc",MessengerHalfHeight:"Rz2_VPzS2obCn6hMWoDC",Messenger__container:"_26BwwWs7l4ACBKqmd9q6C8"}},function(e,t,n){e.exports={AgentActiveStatus:"_3k58VuQSoZOr-U3kBFY2iC",ActivityIndicatorBadge:"_3YLsRq_Fnu44zP0-WwRmrd","ActivityIndicatorBadge--online":"C_XwFZBu2Rw5YvjEesQyW","ActivityIndicatorBadge--offline":"_3bXu_W896glgB9_fgOy26j"}},function(e,t,n){e.exports={AgentActiveStatus:"_37hFI_u8PFoRpSs6Q_vgxR",ActivityIndicatorBadge:"_31TIzmDvvmDrZg8EOTHP3y","ActivityIndicatorBadge--online":"mEXm__nW0AApYkQYQ--L5","ActivityIndicatorBadge--offline":"_3kgxNpYJsb6GjfIDiw-BMp"}},function(e,t,n){e.exports={"message-group":"_3iSRjLN2dsY4MaA37q42qF","message-delivery-status":"fIVIDqWTfBZxDK66r2FkY","message-sender-name":"g5tb3lvyuppRWZTfTorn_","message-sent-time":"OrIEn7LQioRJcGljQcWxS","message-received-time":"_3SLe3BQPvLES7-geI_b_yD"}},function(e,t,n){e.exports={Branding:"_3RTrQ3IDR23myw-Pih9iTm",Drift:"_2DnvFT67sVeWYiwhwHqUWR",BoltIcon:"_2-Nax0W7eNYVpRQlg-K1Ud"}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(0),a=n(395),o=n(75),i=n(9),s=n.n(i),c=n(79),u=n.n(c),l=function(t){var n=t.thankYouHeadline,r=t.thankYouMessageNode,i=t.avatarUrl,s=t.showBranding;return e.createElement("div",null,e.createElement("div",{className:"flex-center",style:{paddingBottom:"1rem"}},e.createElement("div",{className:"flex-column flex-1"},e.createElement("div",{className:u.a.EmailCaptureSlider__Bubble__Title},n),e.createElement("div",{className:u.a.EmailCaptureSlider__Bubble__Copy},r)),i?e.createElement(a.a,{avatarUrl:i}):null),e.createElement("div",{className:"flex-center"},s?e.createElement(o.a,{utmContent:"email-capture-submitted"}):null))};l.propTypes={thankYouHeadline:r.PropTypes.string,thankYouMessageNode:r.PropTypes.node,avatarUrl:r.PropTypes.string,showBranding:r.PropTypes.bool},l.defaultProps={showBranding:!0},l.displayName="EmailCaptureSliderSubmittedInner";var d=function(t){return e.createElement("div",{className:s()("flex-1",u.a.EmailCaptureSlider__Bubble)},e.createElement(l,t))};d.propTypes={thankYouHeadline:r.PropTypes.string,thankYouMessageNode:r.PropTypes.node,avatarUrl:r.PropTypes.string,showBranding:r.PropTypes.bool,branding:r.PropTypes.element},d.defaultProps={showBranding:!0},d.displayName="EmailCaptureSliderSubmitted"}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return S});var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(109),m=n.n(f),b=n(75),g=n(284),h=n.n(g),v=n(395),E=n(710),y=n(9),O=n.n(y),C=n(79),T=n.n(C),M=n(214),I=function(t){var n=t.showBranding,r=t.organizationName;return e.createElement("div",{className:O()("flex-center","dsg-Regular","color-gray-dark",T.a.EmailCaptureSlider__Bubble__Branding)},n?e.createElement(b.a,{utmContent:"email-capture-unsubmitted"}):e.createElement("span",null,r))};I.propTypes={showBranding:p.PropTypes.bool,branding:p.PropTypes.element,organizationName:p.PropTypes.string,isAppleDevice:p.PropTypes.bool},I.displayName="BrandingCopyOrOrgName";var P=function(t){var n=t.isAppleDevice;return e.createElement("div",{className:O()("flex-center","dsg-Regular","color-gray-dark",T.a.EmailCaptureSlider__Bubble__EnterPrompt)},e.createElement(E.a,{isAppleDevice:n}))};P.propTypes={isAppleDevice:p.PropTypes.bool},P.displayName="EnterPrompt";var A=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={input:"",errorOverride:!1},r.getValueLink=function(){return{value:r.state.value,requestChange:r.handleChange}},r.handleChange=function(e){r.setState({input:e,errorOverride:!1}),r.props.onChange&&r.props.onChange(e)},r.handleSubmit=function(e){e.preventDefault(),r.isValid()?r.props.onSubmit&&r.props.onSubmit(r.state.input):r.setState({errorOverride:!0})},r.isValid=function(){return Object(M.isEmail)(r.state.input)},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.showBranding,r=t.organizationName,a=t.isAppleDevice,o=this.state.input.length>0;return e.createElement("div",{className:O()(T.a.EmailCaptureSlider__Bubble__Composer,"flex-column")},e.createElement("form",{onSubmit:this.handleSubmit},e.createElement(h.a,{placeholder:"name@example.com",size:"small",errorOverride:this.state.errorOverride,isValid:this.isValid(),valueLink:this.getValueLink()})),e.createElement("div",{className:T.a.EmailCaptureSlider__Bubble__Footer},e.createElement(m.a,{transitionName:"footer",transitionEnterTimeout:250,transitionLeaveTimeout:250},o?null:e.createElement(I,{showBranding:n,organizationName:r}),o?e.createElement(P,{isAppleDevice:a}):null)))}}]),n}(p.Component);A.propTypes={showBranding:p.PropTypes.bool,branding:p.PropTypes.element,organizationName:p.PropTypes.string,isAppleDevice:p.PropTypes.bool,onChange:p.PropTypes.func,onSubmit:p.PropTypes.func},A.displayName="Composer";var S=function(t){var n=t.title,r=t.bodyNode,a=t.avatarUrl,o=t.showBranding,i=t.organizationName,s=t.isAppleDevice,c=(t.onChange,t.onSubmit);return e.createElement("div",null,e.createElement("div",{className:"flex-center"},e.createElement("div",{className:"flex-column flex-1"},e.createElement("div",{className:T.a.EmailCaptureSlider__Bubble__Title},n),e.createElement("div",{className:T.a.EmailCaptureSlider__Bubble__Copy},r)),a?e.createElement(v.a,{avatarUrl:a}):null),e.createElement(A,{onSubmit:c,showBranding:o,organizationName:i,isAppleDevice:s}))};S.propTypes={title:p.PropTypes.string,bodyNode:p.PropTypes.node,avatarUrl:p.PropTypes.string,showBranding:p.PropTypes.bool,organizationName:p.PropTypes.string,isAppleDevice:p.PropTypes.bool,onChange:p.PropTypes.func,onSubmit:p.PropTypes.func},S.defaultProps={showBranding:!0,isAppleDevice:!1},S.displayName="EmailCaptureSliderUnsubmittedInner";var D=function(t){return e.createElement("div",{className:O()("flex-1",T.a.EmailCaptureSlider__Bubble)},e.createElement(S,t))};D.propTypes={title:p.PropTypes.string,bodyNode:p.PropTypes.node,avatarUrl:p.PropTypes.string,showBranding:p.PropTypes.bool,organizationName:p.PropTypes.string,isAppleDevice:p.PropTypes.bool,onChange:p.PropTypes.func,onSubmit:p.PropTypes.func},D.defaultProps={showBranding:!0,isAppleDevice:!1},D.displayName="EmailCaptureSliderUnsubmitted"}).call(this,n(0))},function(e,t,n){e.exports=n.p+"static/images/5bd4ea33c6ad55a9e912366c88eff266.svg"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(283),o=Object(r.b)(a.a)},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(17),u=n(38),l=n(284),d=n.n(l),_=n(136);n(1104),n(1102);var p=n(344),f=function(t){var n=t.activeBorderColor,r=t.error,o=t.valid,s=i()(t,["activeBorderColor","error","valid"]);return e.createElement(d.a,a()({},s,{className:p.IdentifyForm__input,wrapperProps:{style:{borderColor:n}},size:"small",type:"email",error:!o,isValid:o,invalidLabel:r,required:"true"}))};f.propTypes={error:s.PropTypes.string,valid:s.PropTypes.bool.isRequired,activeBorderColor:s.PropTypes.string.isRequired};var m=function(t){var n=t.activeColor,r=t.backgroundColor,o=t.color,i=t.fields.email,s=t.handleSubmit,l=t.submitting;return e.createElement("form",{className:p.IdentifyForm,onSubmit:s},e.createElement("label",{className:p.IdentifyForm__label},e.createElement(c.b,u.a.emailAddressInputLabel)),e.createElement("div",{className:p.IdentifyForm__inputwrapper},e.createElement(f,a()({activeBorderColor:n},i,{disabled:l})),e.createElement("button",{className:p.IdentifyForm__submit,type:"submit",style:{backgroundColor:r,color:o},disabled:l},l?e.createElement(_.a,{size:"small",color:o}):e.createElement(c.b,u.a.submitButtonLabel))))};m.propTypes={backgroundColor:s.PropTypes.string.isRequired,color:s.PropTypes.string.isRequired,activeColor:s.PropTypes.string.isRequired,fields:s.PropTypes.shape({email:s.PropTypes.object.isRequired}),handleSubmit:s.PropTypes.func.isRequired,submitting:s.PropTypes.bool.isRequired},t.a=m}).call(this,n(0))},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(1),a=n.n(r),o=n(3),i={hasInitialized:!1},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch(arguments[1].type){case o.Da:return a()({},e,{hasInitialized:!0});default:return e}},c=function(){return{type:o.Da}}},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(79),o=n.n(a),i=function(t){var n=t.avatarUrl;return e.createElement("div",{className:o.a.EmailCaptureSlider__Bubble__Avatar,style:{backgroundImage:"url("+n+")"}})};i.propTypes={avatarUrl:r.PropTypes.string.isRequired},t.a=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(216),m=n.n(f),b=n(16),g=n(9),h=n.n(g),v=(n(20),n(398)),E=n(209),y=n(77),O=n(4),C=n(15),T=n(305),M=n.n(T),I=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.handleMeasure=function(e){var t=e.width,n=e.height;r.props.onResize&&r.props.onResize({width:t,height:n})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"render",value:function(){return e.createElement(m.a,{onMeasure:this.handleMeasure,whitelist:["width","height"]},this.props.children)}}]),n}(p.Component);I.propTypes={onResize:p.PropTypes.func.isRequired,children:p.PropTypes.node.isRequired};var P=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.avatarUrl,a=t.bot,o=t.onWidgetClick,i=t.iconType,s=t.onResize,c=t.showNewCallout;return e.createElement("div",{className:M.a.Wrapper},e.createElement(I,{onResize:s},e.createElement("div",{className:M.a.SliderLayout},e.createElement(E.a,{className:h()(M.a.WidgetButton,{"light-box-shadow":c}),onClick:o,iconType:i,avatarUrl:r,bot:a}),e.createElement("div",{className:M.a.UnreadCountBadgeWrapper},e.createElement(v.a,null)),e.createElement("div",{className:M.a.Content},n))))}}]),n}(p.Component);P.propTypes={children:p.PropTypes.node,avatarUrl:p.PropTypes.string,bot:p.PropTypes.bool,onWidgetClick:p.PropTypes.func,onResize:p.PropTypes.func,iconType:p.PropTypes.oneOf([y.a.ANNOUNCEMENT,y.a.NPS,y.a.CHAT])};t.a=Object(b.connect)(function(e){return{showNewCallout:Object(O.v)(e)&&Object(C.j)(e)}})(P)}).call(this,n(0))},,function(e,t,n){"use strict";var r=n(16),a=n(407),o=n(30);t.a=Object(r.connect)(function(e){return{count:Object(o.h)(e)}})(a.a)},function(e,t,n){"use strict";(function(e){var r=n(16),a=n(136),o=n(26),i=n.n(o),s=n(147),c=n.n(s),u=n(44),l=n(241),d=n(184),_=n(761),p=n(27),f=n(45),m=e.createElement(d.a,{position:"left"},e.createElement(a.a,{style:{minHeight:"1.375rem"},color:"gray"}));t.a=i()(Object(r.connect)(function(e,t){return{drifttUser:Object(_.a)(e,t),isEmbeddedMessenger:Object(p.g)(e)}}),Object(u.a)(["backgroundColor"]),c()({authorType:f.a.USER,isFromViewer:!1,children:m}))(l.a)}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(8),a=n(2),o=n(45),i=function(e){return function(e){return e.Typing}(e).typingUsersByConversationId},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){var n=t.conversationId;return i(e).get(n,Object(a.Set)())};return Object(r.createSelector)(e,function(e){return e.map(function(e){return{type:e.first(),id:e.last()}}).filter(function(e){return e.type===o.a.USER}).map(function(e){return e.id}).toArray()})},c=Object(r.createSelector)(i,function(e){return e.reduce(function(e,t){return e||!t.isEmpty()},!1)})},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return f});var r,a=n(7),o=n.n(a),i=n(2),s=n(45),c=n(52),u=n(54);function l(e){var t=e.payload;return t.authorType!==s.a.USER?null:{agentId:t.authorId,lastActivityAt:t.createdAt}}var d=Object(i.Map)((r={},o()(r,c.b,Object(i.Set)([u.a,u.e,u.b])),o()(r,c.d,Object(i.Set)([u.e,u.b])),o()(r,c.e,Object(i.Set)([u.b])),r)),_=Object(i.Map)(o()({},c.e,Object(i.Set)([c.i]))),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.List)();if(e.size<=1)return!1;var t=e.first(),n=e.slice(1);if("Read"===t.get("viewerRecipientStatus"))return!1;var r=t.get("type"),a=d.get(r,Object(i.Set)()),o=_.get(r,Object(i.Set)());return!!n.find(function(e){var t=e.get("type");return o.contains(t)||"CONVERSATION_EVENT"===t&&a.has(e.getIn(["conversationEvent","type"]))})};function f(e){return e.map(function(e){var t=e.get("messages").sortBy(function(e){return e.get("createdAt")});return e.set("messages",t)}).map(function(e){var t=e.get("messages");if(p(t)){var n=i.List.of(t.first().set("viewerRecipientStatus","Read")).concat(t.slice(1));return e.set("messages",n)}return e})}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21),recompose_compose__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(26),recompose_compose__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(recompose_compose__WEBPACK_IMPORTED_MODULE_8__),recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(103),recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9__),recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(121),recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10__),recompose_branch__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(50),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(recompose_branch__WEBPACK_IMPORTED_MODULE_11__),classnames__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__),utils_Logger__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(36),_SVGButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(445),_ConversationTitle__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(773),_ExperimentalHeader__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(771),_modules_DriftUser__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(210),_messages__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(763),Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(30),modules_UI__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(29),Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(15),Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(22),Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(44),utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(34),Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(27),Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(204),_style_styl__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(197),_style_styl__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_27__),_React=React,Component=_React.Component,dom=_React.DOM,component=_React.createElement,PropTypes=_React.PropTypes,ConversationListButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Go to your list of past conversations",className:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.HeaderActionButton,svgString:__webpack_require__(452),onClick:t})},ComposeButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Start a new conversation",className:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.HeaderActionButton,onClick:t,svgString:__webpack_require__(555)})},CloseButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Close the Chat Widget",className:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.HeaderActionButton,onClick:t,svgString:__webpack_require__(332)})},Header=function(_Component){function Header(){var _ref4,_this;babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,Header);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.handleComposeButtonClick=_this.handleComposeButtonClick.bind(_this),_this.handleListButtonClick=_this.handleListButtonClick.bind(_this);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,(_ref4=Header.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default()(Header)).call.apply(_ref4,[this].concat(args)))}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(Header,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Header,[{key:"componentWillMount",value:function(){var e=this.props,t=e.lastDriftUser,n=e.shouldRenderAgentStatus,r=null!=t?t.id:void 0;if(null!=r&&n)return this.props.actions.fetchAgentStatus(r)}},{key:"componentWillReceiveProps",value:function(e){var t=e.lastDriftUser,n=e.shouldRenderAgentStatus,r=null!=t?t.id:void 0,a=(null!=this.props.lastDriftUser?this.props.lastDriftUser.id:void 0)!==r;if(null!=r&&a&&n)return this.props.actions.fetchAgentStatus(r)}},{key:"getConversationTitle",value:function(){var e=this.props,t=e.organizationName,n=e.backgroundColor,r=e.lastDriftUser,a=e.isOnline,o=e.shouldRenderAgentStatus,i=e.currentSidebarView,s=e.lastAgentResponseAt;return["NEW_CONVERSATION","NEW_CONVERSATION_AWAY","NEW_CONVERSATION_CAMPAIGN"].includes(i)?t:"CONVERSATION"===i?React.createElement(_ConversationTitle__WEBPACK_IMPORTED_MODULE_15__.a,{driftUser:s?r:void 0,orgName:t,backgroundColor:n,isOnline:a,shouldRenderAgentStatus:o}):void 0}},{key:"handleComposeButtonClick",value:function(){return this.props.actions.goToNewConversation({autoFocus:!0})}},{key:"handleListButtonClick",value:function(){return this.props.actions.goToConversationList()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.hasWidgetHalfHeight,r=n?"#"+t.backgroundColor:"#ffffff",a=n?"#"+t.foregroundColor:"#9A9A9A";return React.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()({"widget-header-mobile":Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()},t.widgetHalfHeight?_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.MessengerHeaderHalfHeight:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.MessengerHeader),style:{backgroundColor:r,color:a}},["CONVERSATION","NEW_CONVERSATION","NEW_CONVERSATION_AWAY","NEW_CONVERSATION_CAMPAIGN"].includes(this.props.currentSidebarView)?[React.createElement("div",{key:"title",className:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.HeaderTitle},this.getConversationTitle()),(this.props.allowNewConversations||this.props.numConversations>1)&&React.createElement(ConversationListButton,{key:"list-button",onClick:this.handleListButtonClick})]:[React.createElement("div",{key:"title",className:_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.HeaderTitle},React.createElement(_messages__WEBPACK_IMPORTED_MODULE_18__.a,null)),this.props.allowNewConversations&&React.createElement(ComposeButton,{key:"compose-button",onClick:this.handleComposeButtonClick})],this.props.allowSidebarClose&&React.createElement(CloseButton,{onClick:this.props.onCloseButtonClicked}))}}],[{key:"initClass",value:function(){this.propTypes={onCloseButtonClicked:PropTypes.func.isRequired,lastDriftUser:PropTypes.object,shouldRenderAgentStatus:PropTypes.bool.isRequired,theme:PropTypes.shape({backgroundColor:PropTypes.string,foregroundColor:PropTypes.string,textColor:PropTypes.string,activeColor:PropTypes.string,widgetBackgroundColor:PropTypes.string,widgetHalfHeight:PropTypes.bool})}}}]),Header}(Component);Header.initClass();var FloatingHeader=function(e){return React.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()(_style_styl__WEBPACK_IMPORTED_MODULE_27___default.a.FloatingHeader,babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({hypergrowthTheme:e.isHypergrowthTheme,mobile:Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()},e.continuousBackgroundGradient,e.isEmbeddedMessenger&&e.isHypergrowthTheme&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()))})},makeMapStateToProps=function(){var e=Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.k)(),t=Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.m)();return function(n,r){var a=Object(Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_21__.h)(n),o=e(n,r),i=t(n,r);return{currentSidebarView:n.UI.currentSidebarView,numConversations:Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.b)(n).size,allowNewConversations:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__.c)(n),allowSidebarClose:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__.d)(n),organizationName:n.Bootstrap.embedConfiguration.organizationName,lastDriftUser:o,lastAgentResponseAt:i,isOnline:a,shouldRenderAgentStatus:!(null!=o?o.bot:void 0)&&i>0,isHypergrowthTheme:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__.j)(n),continuousBackgroundGradient:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__.c)(n),hasExperimentalHeader:Object(Widget_modules_rating_selectors__WEBPACK_IMPORTED_MODULE_26__.b)(n)}}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_7__.bindActionCreators)({goToConversationList:modules_UI__WEBPACK_IMPORTED_MODULE_20__.goToConversationList,goToNewConversation:modules_UI__WEBPACK_IMPORTED_MODULE_20__.goToNewConversation,fetchAgentStatus:_modules_DriftUser__WEBPACK_IMPORTED_MODULE_17__.b},e)}};__webpack_exports__.a=recompose_compose__WEBPACK_IMPORTED_MODULE_8___default()(Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(makeMapStateToProps,mapDispatchToProps),Object(Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_23__.a)(["backgroundColor","activeColor"]),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default()(function(e){return!e.isEmbeddedMessenger&&e.hasExperimentalHeader},recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10___default()(_ExperimentalHeader__WEBPACK_IMPORTED_MODULE_16__.a)),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default()(function(e){return e.isEmbeddedMessenger&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()&&!e.isHypergrowthTheme},recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9___default.a),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default()(function(e){return e.isEmbeddedMessenger&&(Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()||e.isHypergrowthTheme)},recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10___default()(FloatingHeader)))(Header)}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(106),c=n.n(s),u=n(10),l=n.n(u),d=n(12),_=n.n(d),p=n(11),f=n.n(p),m=n(6),b=n.n(m),g=n(13),h=n.n(g),v=n(0),E=n(16),y=n(21),O=n(2),C=n(26),T=n.n(C),M=n(50),I=n.n(M),P=n(103),A=n.n(P),S=n(121),D=n.n(S),k=n(241),w=n(784),j=n(782),R=n(777),B=n(776),N=n(774),U=n(692),L=n(45),W=n(44),x=n(4),H=n(27),K=n(169),F=n(22),q=n(42),z="https://embed.vidyard.com",G=["YouTube","Vimeo","ViewedIt","Vidyard","Vidyard GoVideo","Wistia, Inc.","GIPHY"];function V(e){var t=e.data.getPrimaryRel();return"summary"===t||"player"===t&&(-1!==G.indexOf(e.data.meta.site)||e.data.url&&e.data.url.includes(z))}var Y=function(e){return e.getIn(["attributes","widgetGuid"])||e.get("id")},Z=function(t){function n(){var t,r,a,o;_()(this,n);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=a=b()(this,(t=n.__proto__||l()(n)).call.apply(t,[this].concat(s))),a.handleMessageButtonClick=function(e){var t=e.label;a.props.actions.createMessage({conversationId:a.props.conversationId,body:t,attributes:{buttonClicked:!0}})},a.renderMessage=function(t){var n=Y(t),r=a.props.hrefsByMessageId.get(t.get("id"),Object(O.Set)()).map(function(e){return a.props.linksByHref.get(e,new K.d.Link)}).filter(function(e){return!!e&&"success"===e.status&&e.data.html}).filter(V).map(function(t){return e.createElement(w.a,{key:"c:"+n+":"+t.href,card:t})}).toArray(),o=e.createElement(B.a,{key:"m:"+n,message:t,isStartConversationPrompt:a.props.isStartConversationPrompt,renderButtons:function(){return t&&a.renderButtons(t)},cards:r});return a.props.showUnfurl&&!a.props.isEmbeddedMessenger?[o].concat(c()(r)):[o]},a.renderButtons=function(t){var n=a.props,r=n.isLastMessageGroup,o=n.isEmbeddedMessenger,i=t.getIn(["attributes","buttons"],Object(O.List)());return i.isEmpty()||!r?null:e.createElement(N.a,{key:"buttons",buttons:i,onClick:a.handleMessageButtonClick,isEmbeddedMessenger:o})},a.renderAttachment=function(t,n){return e.createElement(U.a,{key:"a:"+n,attachmentId:n,message:t})},o=r,b()(a,o)}return h()(n,t),f()(n,[{key:"render",value:function(){var t=this,n=this.props,r=n.messages,o=n.isFromViewer,s=n.drifttUser,c=n.lastAgentResponseAt,u=n.senders,l=n.isStartConversationPrompt,d=n.isEmbeddedMessenger,_=i()(n,["messages","isFromViewer","drifttUser","lastAgentResponseAt","senders","isStartConversationPrompt","isEmbeddedMessenger"]),p=r.last(),f=p&&p.get("createdAt",Date.now()),m=!(!p||p.get("local"));return e.createElement("div",null,e.createElement(k.a,a()({},_,{isFromViewer:o,drifttUser:s,senders:u,lastAgentResponseAt:c,createdAtTimestamp:f,isDelivered:m,isStartConversationPrompt:l,isEmbeddedMessenger:d,continuousBackgroundGradient:this.props.continuousBackgroundGradient}),r.flatMap(function(e){var n=t.renderMessage(e),r=e.get("attachments",Object(O.List)()).map(function(n){return t.renderAttachment(e,n)});return O.List.of(n).concat(r)})),p&&p.get("id")&&e.createElement(j.a,{conversationId:this.props.conversationId,messageId:p.get("id")}),p&&!d&&this.renderButtons(p))}}]),n}(v.Component);Z.propTypes=a()({},k.a.propTypes,{messages:v.PropTypes.instanceOf(O.List).isRequired,linksByHref:v.PropTypes.instanceOf(O.Map),hrefsByMessageId:v.PropTypes.instanceOf(O.Map)});var J=I()(function(e){return function(e){return e&&!e.get("isPreMessage",!1)&&(e.getIn(["attributes","scheduleMeetingFlow"],!1)||e.getIn(["attributes","offerSchedule"]))&&!e.getIn(["attributes","appointmentInfo"])}(e.messages.first())},D()(R.a)),Q=I()(function(e){var t=e.messages;return e.isFromViewer&&!!t.getIn([0,"attributes","appointmentInfo"])},A.a),X=I()(function(e){var t=e.messages;return e.isFromViewer&&function(e){return e&&!e.get("isPreMessage",!1)&&e.getIn(["attributes","startInteraction"],!1)}(t.first())},A.a);t.a=T()(Object(E.connect)(function(e,t){var n=void 0,r=Object(x.c)(e),a=t.messages.get(0);a.getIn(["sender","id"])?n=r[a.getIn(["sender","id"])]:a.get("sender")?n=a.get("sender").toJS():a.get("authorId")&&(n=r[a.get("authorId")]);var o=n||a.get("authorType",L.a.USER)===L.a.USER;return{drifttUser:n,senders:a.getIn(["attributes","senders"],Object(O.List)()).map(O.Map).map(function(e){var t=r[e.get("id")];return t?e.merge(t):e}),linksByHref:K.e.getLinksByHref(e),hrefsByMessageId:K.e.getHrefsByMessageId(e),isFromViewer:!o,showUnfurl:Object(F.w)(e),hasConsolidatedWelcomeMsg:Object(F.p)(e),isEmbeddedMessenger:Object(H.g)(e),continuousBackgroundGradient:Object(H.c)(e)}},function(e){return{actions:Object(y.bindActionCreators)({createMessage:q.d},e)}}),J,Q,X,Object(W.a)(["backgroundColor"]))(Z)}).call(this,n(0))},,,function(e,t,n){"use strict";(function(e){var r=n(41),a=n.n(r);n(1211);var o=n(1209);t.a=function(){return e.createElement(a.a,{src:o})}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(9),o=n.n(a),i=n(809),s=n.n(i),c=n(50),u=n.n(c),l=n(103),d=n.n(l),_=function(t){var n=t.count,r=(t.min,t.max),a=t.className;return e.createElement("div",{className:o()(s.a.Badge,a)},n>r?r+"+":n)};_.propTypes={count:r.PropTypes.number.isRequired,min:r.PropTypes.number,max:r.PropTypes.number,className:r.PropTypes.string},_.defaultProps={min:1,max:99};var p=u()(function(e){return e.count<1},d.a);t.a=p(_)}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(91),a={visits:{first:void 0,last:void 0,count:void 0,sessionCount:void 0,currentPageViewStarted:void 0,currentSessionStartedAt:void 0,previousSessionStartedAt:void 0,previousSessionEndedAt:void 0},geo:{status:void 0,country:void 0,subdivision:void 0,metroCode:void 0,city:void 0,latitude:void 0,logitude:void 0,ip:void 0,gdprApplicable:void 0},referrer:{original:void 0,previous:void 0,current:void 0,currentDomain:void 0,currentSearch:void 0},ad:{source:void 0,name:void 0,medium:void 0,content:void 0,term:void 0},page:{path:void 0,hostname:void 0,url:void 0,search:void 0,title:void 0,referrer:void 0,href:void 0},os:{name:void 0,version:void 0,architecture:void 0,family:void 0},scroll:{windowHeight:void 0,scrollHeight:void 0,scrollTop:void 0,scrollPct:0},mouse:{over:!0},exitIntent:!1,device:void 0,timezone:void 0,locale:void 0,query:void 0,session:{outbound:void 0},cookies:{}},o=function(e){return Object(r.a)({},a,e)}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n(131),a=n.n(r),o=n(78),i=n(172),s=n(36),c=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],u=["SATURDAY","SUNDAY"],l=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],d=[],_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"America/New_York",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a;try{return p(e,t,n)}catch(e){return s.a.error(e),!1}},p=function(e,t,n){var r=n(),a=r.tz(e).isoWeekday(),s=c[a-1];return Object(o.a)(t,function(t){var a=t.dayOfWeek,o=t.opens,c=t.closes;if(!function(e,t){return t===e||"EVERYDAY"===t||"WEEKENDS"===t&&Object(i.a)(u,e)||"WEEKDAYS"===t&&Object(i.a)(l,e)}(s,a))return!1;var d=f(e,o,n),_=f(e,c,n);return d&&_&&r.isBetween(d,_)})},f=function(e,t,n){var r=n().tz(e),o=a.a.tz(t,"HH:mm:ss",!0,e);return o.isValid()?r.hours(o.hours()).minutes(o.minutes()).seconds(o.seconds()):void 0}},,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={ConsentTakeover:"_3pJDypd4eTFWMheaCJPess",ConsentTakeoverHalfHeight:"_3m4BrQ8W-uZiQLJNcbHZjc",ConsentTakeoverShared:"_1GVxWBOu_0FWc426RdlKgC"}},function(e,t,n){e.exports={Callout:"_1dC4-gjkzdfMyXCZkFW4EQ",hasClickHandler:"_1xczHg9H5oV4b2obQRBDN_",Content:"bJAapCRGo3v3dhsJQOgVO"}},function(e,t,n){e.exports={Container:"_2ngXYtlcHXA-EjBwuz_RKI",Transition:"_3KIigMno8L7h1L-RI5I_KX",WidgetButton:"_364Vk0R65B1GXViJwyA9fM"}},function(e,t,n){e.exports={OfflineHeading:"_14ASLnf5BPTWEGU9IgsrFJ",DottedLine:"cPx7fV6w1fhdiwZNS3D4o",Prompt:"_1N1-IXr_IIS_x7j0xl4qsU"}},,function(e,t,n){e.exports={AgentName:"_2LKFBgmZC0n5yfOp07G3Pu",ConversationTitle:"_3Od12OkuqmiBg_BLEkjKPm",ConversationInfo:"_3t8Ui3BLTc1n911VXcy-pt"}},function(e,t,n){"use strict";var r=n(17);t.a=Object(r.h)({userStatusOnline:{id:"app.user.status.online",description:"Indicates a user is currently online",defaultMessage:"online now"},userStatusActive:{id:"app.user.status.active",description:"Indicates when a user was last active",defaultMessage:"active {time}"},userStatusOffline:{id:"app.user.status.offline",description:"Indicates a user is currently offline",defaultMessage:"offline now"}})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),svg_inline_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41),svg_inline_react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(svg_inline_react__WEBPACK_IMPORTED_MODULE_5__),_React=React,Component=_React.Component,PropTypes=_React.PropTypes,dom=_React.DOM,component=_React.createElement,SVGButton=function(_Component){function SVGButton(){var _ref,_this;babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,SVGButton);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.handleMouseEnter=_this.handleMouseEnter.bind(_this),_this.handleMouseLeave=_this.handleMouseLeave.bind(_this);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,(_ref=SVGButton.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default()(SVGButton)).call.apply(_ref,[this].concat(args)))}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(SVGButton,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SVGButton,[{key:"handleMouseEnter",value:function(){return this.setState({isHover:!0})}},{key:"handleMouseLeave",value:function(){return this.setState({isHover:!1})}},{key:"render",value:function(){return dom.button({className:this.props.className,"aria-label":this.props["aria-label"],onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.props.onClick,tabIndex:"2000"},component(svg_inline_react__WEBPACK_IMPORTED_MODULE_5___default.a,{className:"flex",src:this.props.svgString}),this.props.label)}}],[{key:"initClass",value:function(){this.propTypes={svgString:PropTypes.string.isRequired,onClick:PropTypes.func,className:PropTypes.string,label:PropTypes.node},this.prototype.state={isHover:!1}}}]),SVGButton}(Component);SVGButton.initClass(),__webpack_exports__.a=SVGButton}).call(this,__webpack_require__(0))},function(e,t,n){e.exports={AgentName:"_2RxlcvvR2zUm0P9hrXSFPF",ConversationTitle:"_13D55mV8-UrIeHe3542c5Z",ConversationInfo:"_36EUaubw4WKVxQr4salQz3"}},function(e,t,n){"use strict";var r=n(17);t.a=Object(r.h)({userStatusOnline:{id:"app.user.status.online",description:"Indicates a user is currently online",defaultMessage:"online now"},userStatusActive:{id:"app.user.status.active",description:"Indicates when a user was last active",defaultMessage:"active {time}"},userStatusOffline:{id:"app.user.status.offline",description:"Indicates a user is currently offline",defaultMessage:"offline now"}})},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),svg_inline_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(41),svg_inline_react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(svg_inline_react__WEBPACK_IMPORTED_MODULE_5__),_React=React,Component=_React.Component,PropTypes=_React.PropTypes,dom=_React.DOM,component=_React.createElement,SVGButton=function(_Component){function SVGButton(){var _ref,_this;babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,SVGButton);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.handleMouseEnter=_this.handleMouseEnter.bind(_this),_this.handleMouseLeave=_this.handleMouseLeave.bind(_this);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,(_ref=SVGButton.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default()(SVGButton)).call.apply(_ref,[this].concat(args)))}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(SVGButton,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(SVGButton,[{key:"handleMouseEnter",value:function(){return this.setState({isHover:!0})}},{key:"handleMouseLeave",value:function(){return this.setState({isHover:!1})}},{key:"render",value:function(){return dom.button({className:this.props.className,"aria-label":this.props["aria-label"],onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.props.onClick,tabIndex:"2000"},component(svg_inline_react__WEBPACK_IMPORTED_MODULE_5___default.a,{className:"flex",src:this.props.svgString}),this.props.label)}}],[{key:"initClass",value:function(){this.propTypes={svgString:PropTypes.string.isRequired,onClick:PropTypes.func,className:PropTypes.string,label:PropTypes.node},this.prototype.state={isHover:!1}}}]),SVGButton}(Component);SVGButton.initClass(),__webpack_exports__.a=SVGButton}).call(this,__webpack_require__(0))},function(e,t,n){e.exports={Button:"_2A4qgMu28j4D9meg_bI3j8",ButtonGroup:"JrHI08VEuJ93Fe9SHf1EV",ButtonGroupButtons:"WHPsCOigZpsybSK2TV9Fk"}},function(e,t,n){e.exports={SchedulingFlowHeading:"_1Nm69fofuV94SKypLglmKa",DottedLine:"_1ioBcx2Rpr_Fk-CwuMCGL2",SchedulingFlowHeadingCopy:"_2DZu_2bnwzBWOx7yP_P17o"}},function(e,t,n){e.exports={Attachment:"_1s5skBjrux5CEa1Bch52vc",ImageAttachment:"_1_s1xRh1jwvKAveVfdw6CO",DownloadIcon:"_1h38PnGZh_GWLg08O1q0oG"}},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.slice(0);for(var n=[],r=a(t),o=e.length,i=0;i<o;i++)n[i]=e.splice(r()%e.length,1)[0];return n},a=function(e){return function(){return 1073741823&(e=(1103515245*e+12345)%2147483647)}}},,function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="21" height="5" viewBox="0 0 21 5"><g fill="currentColor" fill-rule="evenodd"><circle cx="18.5" cy="2.5" r="2.5"></circle><circle cx="10.5" cy="2.5" r="2.5"></circle><circle cx="2.5" cy="2.5" r="2.5"></circle></g></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n.n(m),g=n(9),h=n.n(g),v=n(184),E=n(41),y=n.n(E),O=n(448),C=n.n(O),T=n(1095),M=function(e){var t=e.backgroundColor,n=e.color;return b.a.createElement(y.a,{style:{backgroundColor:t,color:n},className:C.a.DownloadIcon,src:T})};M.propTypes={backgroundColor:m.PropTypes.string,color:m.PropTypes.string};var I=function(e){function t(){var e,n,r,a;c()(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=_()(this,(e=t.__proto__||i()(t)).call.apply(e,[this].concat(s))),r.onDownloadClick=function(){var e=r.props,t=e.fileName,n=e.onClick,a=e.href,o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer nofollow"),document.body.appendChild(o),o.click(),document.body.removeChild(o),n&&n()},r.isImage=function(e,t){return t&&/image/.test(e)&&"image/svg+xml"!==e},a=n,_()(r,a)}return f()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.isFromViewer,n=e.fileName,r=e.color,o=e.backgroundColor,i=e.mimeType,s=(e.onClick,e.previewUrl),c=this.isImage(i,s);return b.a.createElement(v.a,{className:h()(C.a.Attachment,a()({},C.a.ImageAttachment,c&&s)),backgroundColor:c&&s?void 0:o,color:r,position:t?"right":"left"},b.a.createElement("div",{onClick:this.onDownloadClick},c?s&&b.a.createElement("img",{src:s,alt:n,title:n}):b.a.createElement("span",{style:{color:r}},b.a.createElement(M,null),n)))}}]),t}(m.Component);t.a=I,I.propTypes={mimeType:m.PropTypes.string.isRequired,fileName:m.PropTypes.string.isRequired,previewUrl:m.PropTypes.string,isFromViewer:m.PropTypes.bool,href:m.PropTypes.string,onClick:m.PropTypes.func,backgroundColor:m.PropTypes.string,color:m.PropTypes.string},I.defaultProps={isFromViewer:!0}},,function(e,t){e.exports='<svg width="13" height="13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><path d="M12.975.38c.014.043.02.087.024.132v.06c-.004.048-.014.095-.03.14-.006.017-.007.032-.014.046L7.252 12.692c-.09.19-.28.308-.49.308-.216-.002-.406-.127-.493-.32l-.537-3.41C5.56 8.18 4.55 7.1 3.478 6.86l-3.2-.72c-.18-.1-.287-.293-.277-.5.012-.206.138-.39.328-.47L12.248.04 12.3.026c.05-.015.098-.025.148-.026.02 0 .038 0 .058.003.046.004.09.013.132.028l.055.02c.056.027.11.06.154.107.053.053.085.11.11.168.008.018.013.036.018.055z" fill-rule="evenodd"></path></svg>'},,,function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(47),i=n.n(o),s=n(12),c=n.n(s),u=n(73),l=n.n(u),d=n(24),_={X_WWW_FORM:"application/x-www-form-urlencoded",JSON:"application/json",FORM_DATA:"multipart/form-data"},p={Accept:_.JSON,"Content-Type":_.JSON},f=function(){var e=this;this.identify=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=d.h+"/identify",o={orgId:e.orgId,userId:t||e.userId,anonymousId:e.anonymousId,isDebug:e.isDebug,attributes:n,options:r,context:e.context};return fetch(a,{method:"POST",headers:p,body:i()(o)})},this.track=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=d.g+"/track",s={orgId:e.orgId,inboxId:e.inboxId,userId:e.userId,anonymousId:e.anonymousId,isDebug:e.isDebug,event:t,attributes:n,context:a()({},e.context,r)};return fetch(o,{method:"POST",headers:p,body:i()(s)})}};t.a=function e(t){var n=t.orgId,r=t.inboxId,a=t.userId,o=t.anonymousId,i=t.isDebug;c()(this,e),f.call(this),this.orgId=n,this.inboxId=r,this.userId=a,this.anonymousId=o,this.isDebug=i,this.context=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=l.a.parse(e);return{name:t.name,version:t.version,layout:t.layout,manufacturer:t.manufacturer,prerelease:t.prerelease,product:t.product,os:{architecture:t.os.architecture,family:t.os.family,version:t.os.version,description:t.os.toString()},description:t.description}}()}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(5),a=n(279),o=Object(r.b)(a.a)},,function(e,t,n){e.exports={ProductAnnouncement__Content:"i_OL8cDcbVl4LYt-hEWbS",ProductAnnouncement:"eqJMjTsDNkY1v6BlxYjUH"}},,function(e,t,n){e.exports={PAWelcomeMessage:"_3gUiTwmzgT2WLvc1k0OexA",CampaignBody:"_13Q6DiuLVRniTBl3tr77ut",CtaButton:"_2ycNsAxtfLGehxFv5VZZU1"}},function(e,t,n){e.exports={DismissButton:"_1lVdwgQwG8iYSXC1rtIUn-",DismissButtonIcon:"_3sY_jwfgYHGUb3-n-s6cwm"}},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(9),m=n.n(f),b=n(41),g=n.n(b),h=n(17),v=n(214),E=n(38),y=n(306),O=n.n(y),C=n(554),T=function(t){function n(t){i()(this,n);var r=l()(this,(n.__proto__||a()(n)).call(this,t));return r.handleChange=function(e){r.setState({email:e.target.value})},r.handleSubmit=function(e){e.preventDefault(),r.isValid()?r.props.onSubmit&&r.props.onSubmit({email:r.state.email}):r.setState({error:!0})},r.isValid=function(){return!!r.state.email&&Object(v.isEmail)(r.state.email)},r.renderLabel=function(){return r.state.error?e.createElement("label",{className:"dsg-Label--pink"},e.createElement(h.b,E.a.invalidEmail)):e.createElement("label",{className:"dsg-Label--gray"},e.createElement(h.b,E.a.emailAddressInputLabel))},r.state={email:t.endUser&&t.endUser.email||"",error:void 0},r}return _()(n,t),c()(n,[{key:"componentDidMount",value:function(){if(this.inputNode){this.inputNode.focus();var e=this.inputNode.value;this.inputNode.value="",this.inputNode.value=e}}},{key:"render",value:function(){var t=this,n=this.props,r=n.backgroundColor,a=n.textColor,o=this.isValid();return e.createElement("form",{className:O.a.Form,onSubmit:this.handleSubmit},e.createElement("div",{className:O.a.Body},this.renderLabel(),e.createElement("div",{className:"flex",style:{marginTop:"8px"}},e.createElement(g.a,{className:"flex",src:C}),e.createElement("input",{ref:function(e){t.inputNode=e},className:m()("dsg-Body",O.a.Input),placeholder:"email@example.com",value:this.state.email,onChange:this.handleChange}))),e.createElement("button",{className:m()("flex-center",O.a.SubmitButton),style:{backgroundColor:o?r:void 0,color:o?a:void 0}},e.createElement("span",{style:{textAlign:"center",width:"100%"}},e.createElement(h.b,E.a.submitButtonLabel))))}}]),n}(p.Component);T.renderTitle=function(){return e.createElement("div",{className:O.a.Title},e.createElement(h.b,E.a.asyncMessageContactPrompt))},t.a=T}).call(this,n(0))},function(e,t,n){e.exports={Icon:"m9jUk9iUHZGwBFKeSwsl6",DismissIcon:"_1vgXyPPHy0LhWlp5E8zmnn"}},function(e,t,n){e.exports={MobileComposer:"_2Mj-GUkNW-VFx-Y8vO8iBU",Input:"_3mpwY9rd_nsVcik0oXWuzA"}},function(e,t,n){e.exports={Container:"_3RH8Q-8c5XIGfvVfqKz27T",Icon:"_29T_JaBgZGCnXBwhROzS5w"}},function(e){e.exports=[{name:"US/Canada",zones:[{label:"Pacific Time - US & Canada",value:"America/Los_Angeles"},{label:"Mountain Time - US & Canada",value:"America/Denver"},{label:"Central Time - US & Canada",value:"America/Chicago"},{label:"Eastern Time - US & Canada",value:"America/New_York"},{label:"Atlantic Time",value:"America/Halifax"},{label:"Alaska Time",value:"America/Anchorage"},{label:"Arizona Time",value:"America/Phoenix"},{label:"Newfoundland Time",value:"America/St_Johns"},{label:"Hawaii Time",value:"Pacific/Honolulu"}]},{name:"Europe",zones:[{label:"GMT+01:00 Central European Time",value:"Europe/Berlin"},{label:"GMT+02:00 Eastern European Time",value:"Europe/Helsinki"},{label:"GMT+00:00 UK, Ireland, Lisbon Time",value:"Europe/London"},{label:"GMT+03:00 Moscow, Minsk Time",value:"Europe/Minsk"},{label:"GMT+03:00 Yerevan Time",value:"Europe/Moscow"}]},{name:"America",zones:[{label:"GMT-10:00 America/Adak",value:"America/Adak"},{label:"GMT-03:00 Buenos Aires Time",value:"America/Argentina/Buenos_Aires"},{label:"GMT-04:00 Asuncion Time",value:"America/Asuncion"},{label:"GMT-05:00 Bogota, Jamaica, Lima Time",value:"America/Bogota"},{label:"GMT-04:00 America/Campo_Grande",value:"America/Campo_Grande"},{label:"GMT-04:00 Caracas Time",value:"America/Caracas"},{label:"GMT-03:00 America/Godthab",value:"America/Godthab"},{label:"GMT-04:00 Atlantic Time",value:"America/Goose_Bay"},{label:"GMT-06:00 Saskatchewan, Guatemala, Costa Rica Time",value:"America/Guatemala"},{label:"GMT-05:00 America/Havana",value:"America/Havana"},{label:"GMT-07:00 America/Mazatlan",value:"America/Mazatlan"},{label:"GMT-06:00 Mexico City Time",value:"America/Mexico_City"},{label:"GMT-03:00 Montevideo Time",value:"America/Montevideo"},{label:"GMT-03:00 America/Miquelon",value:"America/Miquelon"},{label:"GMT-02:00 America/Noronha",value:"America/Noronha"},{label:"GMT-04:00 Santiago Time",value:"America/Santiago"},{label:"GMT-08:00 America/Santa_Isabel",value:"America/Santa_Isabel"},{label:"GMT-04:00 Atlantic Standard Time",value:"America/Santo_Domingo"},{label:"GMT-03:00 Brasilia Time",value:"America/Sao_Paulo"}]},{name:"Africa",zones:[{label:"GMT+02:00 Africa/Cairo",value:"Africa/Cairo"},{label:"GMT+02:00 Central Africa Time",value:"Africa/Johannesburg"},{label:"GMT+01:00 West Africa Time",value:"Africa/Lagos"},{label:"GMT+01:00 Africa/Windhoek",value:"Africa/Windhoek"}]},{name:"Asia",zones:[{label:"GMT+02:00 Syria, Jordan Time",value:"Asia/Amman"},{label:"GMT+03:00 Baghdad, East Africa Time",value:"Asia/Baghdad"},{label:"GMT+04:00 Asia/Baku",value:"Asia/Baku"},{label:"GMT+02:00 Jordan, Lebanon Time",value:"Asia/Beirut"},{label:"GMT+02:00 Asia/Damascus",value:"Asia/Damascus"},{label:"GMT+06:00 Asia/Dhaka",value:"Asia/Dhaka"},{label:"GMT+04:00 Dubai Time",value:"Asia/Dubai"},{label:"GMT+02:00 Asia/Gaza",value:"Asia/Gaza"},{label:"GMT+08:00 Asia/Irkutsk",value:"Asia/Irkutsk"},{label:"GMT+07:00 Indochina Time",value:"Asia/Jakarta"},{label:"GMT+02:00 Israel Time",value:"Asia/Jerusalem"},{label:"GMT+04:30 Kabul Time",value:"Asia/Kabul"},{label:"GMT+12:00 Pacific/Majuro",value:"Asia/Kamchatka"},{label:"GMT+05:00 Pakistan, Maldives Time",value:"Asia/Karachi"},{label:"GMT+05:45 Kathmandu Time",value:"Asia/Kathmandu"},{label:"GMT+05:30 India, Sri Lanka Time",value:"Asia/Kolkata"},{label:"GMT+07:00 China, Singapore, Perth Time",value:"Asia/Krasnoyarsk"},{label:"GMT+06:00 Asia/Omsk",value:"Asia/Omsk"},{label:"GMT+06:30 Asia/Rangoon",value:"Asia/Rangoon"},{label:"GMT+08:00 China, Singapore, Perth",value:"Asia/Shanghai"},{label:"GMT+03:30 Tehran Time",value:"Asia/Tehran"},{label:"GMT+09:00 Japan, Korea Time",value:"Asia/Tokyo"},{label:"GMT+10:00 Asia/Vladivostok",value:"Asia/Vladivostok"},{label:"GMT+09:00 Asia/Yakutsk",value:"Asia/Yakutsk"},{label:"GMT+05:00 Asia/Dhaka",value:"Asia/Yekaterinburg"},{label:"GMT+04:00 Asia/Yerevan",value:"Asia/Yerevan"}]},{name:"Atlantic",zones:[{label:"GMT-01:00 Azores Time",value:"Atlantic/Azores"},{label:"GMT-01:00 Cape Verde Time",value:"Atlantic/Cape_Verde"}]},{name:"Australia",zones:[{label:"GMT+09:30 Adelaide Time",value:"Australia/Adelaide"},{label:"GMT+10:00 Brisbane Time",value:"Australia/Brisbane"},{label:"GMT+09:30 Australia/Darwin",value:"Australia/Darwin"},{label:"GMT+08:45 Australia/Eucla",value:"Australia/Eucla"},{label:"GMT+10:30 Australia/Lord_Howe",value:"Australia/Lord_Howe"},{label:"GMT+08:00 Australia/Perth",value:"Australia/Perth"},{label:"GMT+10:00 Sydney, Melbourne Time",value:"Australia/Sydney"}]},{name:"UTC",zones:[{label:"GMT+00:00 UTC Time",value:"UTC"}]},{name:"Pacific",zones:[{label:"GMT-11:00 Pacific/Apia",value:"Pacific/Apia"},{label:"GMT+12:00 Auckland Time",value:"Pacific/Auckland"},{label:"GMT+12:45 Pacific/Chatham",value:"Pacific/Chatham"},{label:"GMT-06:00 Pacific/Easter",value:"Pacific/Easter"},{label:"GMT+12:00 Pacific/Fiji",value:"Pacific/Fiji"},{label:"GMT-09:00 Pacific/Gambier",value:"Pacific/Gambier"},{label:"GMT+14:00 Pacific/Kiritimati",value:"Pacific/Kiritimati"},{label:"GMT+12:00 Pacific/Majuro",value:"Asia/Kamchatka"},{label:"GMT-10:30 Pacific/Marquesas",value:"Pacific/Marquesas"},{label:"GMT+11:00 Pacific/Norfolk",value:"Pacific/Norfolk"},{label:"GMT+11:00 Pacific/Noumea",value:"Pacific/Noumea"},{label:"GMT-11:00 Pacific/Pago_Pago",value:"Pacific/Pago_Pago"},{label:"GMT-08:00 Pacific/Pitcairn",value:"Pacific/Pitcairn"},{label:"GMT+12:00 Pacific/Tarawa",value:"Pacific/Tarawa"},{label:"GMT+13:00 Pacific/Tongatapu",value:"Pacific/Tongatapu"}]}]},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n(1),a=n.n(r),o=n(17),i=Object(o.h)({delivered:{id:"app.message.deliveryStatus.delivered",description:"Indicates that a message has been delivered to its recipients",defaultMessage:"Delivered"},sending:{id:"app.message.deliveryStatus.sending",description:"Indicates that a message is being sent to its recipients",defaultMessage:"Sending..."}}),s=function(t){return e.createElement(o.b,a()({},t,i.delivered))},c=function(t){return e.createElement(o.b,a()({},t,i.sending))}}).call(this,n(0))},function(e,t,n){"use strict";var r=n(601);n.d(t,"b",function(){return r.a});var a=n(574);n.d(t,"a",function(){return a.a});n(384)},,,,function(e,t,n){e.exports={ModalContainer:"_3jz_GKfIMeBIUmbvoYyFpi",RocketGif:"fmp2WVAcQ9tAD_uPBMlXy"}},,,,function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(71),g=n(730),h=n.n(g),v=n(9),E=n.n(v),y=n(729),O=n.n(y),C=function(t){function n(e){c()(this,n);var t=_()(this,(n.__proto__||i()(n)).call(this,e));return t.handleWheel=function(e){var n=void 0;try{n=Object(b.findDOMNode)(t)}catch(e){return void console.error(e)}if(n)return e.deltaY<0&&0===n.scrollTop?(e.preventDefault(),!1):e.deltaY>0&&n.clientHeight+n.scrollTop+e.deltaY>=n.scrollHeight?(e.preventDefault(),!1):void 0},t.handleWheel=h()(t.handleWheel,100),t}return f()(n,t),l()(n,[{key:"render",value:function(){return e.createElement("div",a()({},this.props,{className:E()(O.a.ScrollableContent,this.props.className)}),this.props.children)}}]),n}(m.Component);C.propTypes={className:m.PropTypes.string,children:m.PropTypes.node},t.a=C}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(9),u=n.n(c),l=n(382),d=n.n(l),_=n(535),p=n.n(_);function f(t){var n=t.className,r=i()(t,["className"]);return e.createElement("button",a()({},r,{className:u()(p.a.DismissButton,n),title:"Dismiss","aria-label":"Dismiss"}),e.createElement("img",{className:p.a.DismissButtonIcon,src:d.a,alt:"×"}))}f.propTypes={className:s.PropTypes.string,onClick:s.PropTypes.func.isRequired}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(7),i=n.n(o),s=n(23),c=n.n(s),u=n(0),l=n(9),d=n.n(l),_=n(50),p=n.n(_),f=n(26),m=n.n(f),b=n(121),g=n.n(b),h=n(16),v=(n(20),n(4)),E=n(15),y=n(731),O=n(304),C=n.n(O),T=e.createElement("span",{className:C.a.CalloutTail});function M(t){var n,r=t.className,o=t.children,s=t.hasTail,u=t.onClick,l=c()(t,["className","children","hasTail","onClick"]);return e.createElement("div",a()({},l,{onClick:u,className:d()(C.a.Callout,(n={},i()(n,C.a.hasTail,s),i()(n,C.a.hasClickHandler,u),n),r)}),s&&T,e.createElement("div",{className:C.a.Content},o))}M.propTypes={onClick:u.PropTypes.func,className:u.PropTypes.string,children:u.PropTypes.node,hasTail:u.PropTypes.bool},M.defaultProps={hasTail:!0};t.a=m()(Object(h.connect)(function(e){return{showNewCallout:Object(v.v)(e)&&Object(E.j)(e)}}),p()(function(e){return e.showNewCallout},g()(y.a)))(M)}).call(this,n(0))},function(e,t){e.exports='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M16.726 15.402c.365.366.365.96 0 1.324-.178.178-.416.274-.663.274-.246 0-.484-.096-.663-.274L8.323 9.648h.353L1.6 16.726c-.177.178-.416.274-.663.274-.246 0-.484-.096-.663-.274-.365-.365-.365-.958 0-1.324L7.35 8.324v.35L.275 1.6C-.09 1.233-.09.64.274.274c.367-.365.96-.365 1.326 0l7.076 7.078h-.353L15.4.274c.366-.365.96-.365 1.326 0 .365.366.365.958 0 1.324L9.65 8.675v-.35l7.076 7.077z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="17" height="13" viewBox="0 0 17 13" xmlns="http://www.w3.org/2000/svg"><path d="M14.875 12.75H2.125C.953 12.75 0 11.797 0 10.625v-8.5C0 .953.953 0 2.125 0h12.75C16.047 0 17 .953 17 2.125v8.5c0 1.172-.953 2.125-2.125 2.125zm-12.75-1.417h12.75c.39 0 .708-.318.708-.708V2.27L8.945 7.633c-.13.105-.287.158-.445.158-.158 0-.315-.053-.445-.158L1.417 2.27v8.355c0 .39.318.708.708.708zm12.26-9.916H2.614L8.5 6.173l5.884-4.756z" fill="#CCC" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><path d="M18.972 3.296c-.004.035-.023.064-.032.096-.012.044-.024.086-.043.127-.028.057-.064.106-.103.153-.018.023-.026.05-.046.07l-7.93 7.908c-.014.013-.032.018-.046.03-.04.035-.084.06-.13.087-.048.026-.094.052-.146.07-.016.004-.03.017-.047.02l-3.174.793c-.063.016-.128.024-.192.024-.208 0-.41-.082-.56-.23-.197-.2-.277-.484-.21-.753l.794-3.163c.004-.018.017-.03.024-.05.016-.05.04-.094.068-.142.026-.046.052-.09.086-.13.012-.013.017-.032.03-.045l7.93-7.91c.025-.022.055-.03.08-.05.042-.033.083-.064.13-.087.05-.025.102-.04.155-.055.03-.008.055-.025.085-.03.17-.023 1.665-.205 2.578.77.893.95.722 2.342.7 2.498zM17.114 1.88c-.224-.24-.66-.297-.958-.298l-7.562 7.54-.42 1.673 1.677-.418 7.564-7.54c-.004-.285-.06-.704-.3-.958zm-7.51 1.225H1.6v14.372h14.404V9.492c0-.436.16-.772.597-.772.44 0 .794.353.794.79v8.7c0 .436-.355.79-.793.79H.74C.3 19 0 18.712 0 18.275V2.307c0-.437.302-.705.74-.705h8.723c.438 0 .793.354.793.792 0 .436-.216.71-.653.71z" fill-rule="evenodd"></path></svg>'},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(16),c=n(0),u=(n(2),n(17)),l=n(241),d=n(184),_=n(45),p=n(27),f=function(t){var n=t.emailCaptureMessage,r=t.sender,o=t.createdAt,s=i()(t,["emailCaptureMessage","sender","createdAt"]);return e.createElement(l.a,a()({authorType:_.a.USER,drifttUser:r,createdAtTimestamp:o,isFromViewer:!1},s),e.createElement(d.a,{position:"left"},n))};f.displayName="AutoMessage",f.propTypes={createdAt:c.PropTypes.number.isRequired,emailCaptureMessage:c.PropTypes.node.isRequired,sender:c.PropTypes.object.isRequired},f.defaultProps={emailCaptureMessage:e.createElement(function(){return e.createElement(u.b,{id:"app.automessage.emailCaptureMessage",description:"Message sent to the user asking them for their email address",defaultMessage:"Hey there! We're excited to help you out. Let us know your email address so that we can follow up in case we get disconnected."})},null)};t.a=Object(s.connect)(function(e){return{isEmbeddedMessenger:Object(p.g)(e)}})(f)}).call(this,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(17),u=n(41),l=n.n(u),d=n(9),_=n.n(d),p=n(788),f=n(787),m=n(344),b=n.n(m),g=Object(c.h)({emailCapturedSuccess:{id:"app.automessage.emailCapturedSuccess",description:"Shown after a user provides their email address for followup",defaultMessage:"Thanks for submitting your email"}}),h=function(t){var r=t.fill;return e.createElement(l.a,{className:b.a["IdentifyCard__email-icon"],src:n(1099),style:{fill:r}})};h.propTypes={fill:e.PropTypes.string.isRequired};var v=function(t){var n=t.backgroundColor;return e.createElement("div",{className:_()(b.a.CompletionView,"flex-column","flex-center")},e.createElement(h,{fill:n}),e.createElement("p",{className:"dsg-Title"},e.createElement(c.b,g.emailCapturedSuccess)))};v.propTypes={backgroundColor:e.PropTypes.string.isRequired};var E=function(t){var n=t.backgroundColor,r=t.className,o=t.hasIdentified,s=t.conversationId,c=i()(t,["backgroundColor","className","hasIdentified","conversationId"]),u=o?e.createElement(v,{backgroundColor:n}):e.createElement(f.a,{conversationId:s});return e.createElement(p.a,a()({className:_()(b.a.IdentifyCard,r)},c),u)};E.displayName="IdentifyCard",E.propTypes={backgroundColor:s.PropTypes.string.isRequired,className:s.PropTypes.string,hasIdentified:s.PropTypes.bool.isRequired,conversationId:s.PropTypes.any.isRequired},t.a=E}).call(this,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(16),a=n(26),o=n.n(a),i=n(50),s=n.n(i),c=n(103),u=n.n(c),l=n(183),d=n.n(l),_=n(524),p=n(44),f=n(8),m=function(e){return e.Attachment.attachmentsById},b=n(4),g=o()(Object(p.a)(["backgroundColor","textColor"]),d()("textColor","color"));t.a=o()(Object(r.connect)(function(){var e=Object(f.createSelector)([m,function(e,t){return t.attachmentId}],function(e,t){return e[t]});return function(t,n){var r=e(t,n);if(!r||"success"!==r.status)return{};var a=r.url,o=r.previewUrl,i=r.metadata,s=void 0===i?{}:i,c=s.mimeType,u=s.fileName,l=n.message,d=Object(b.i)(t);return{href:a,previewUrl:o,mimeType:c,fileName:u,isFromViewer:l.get("authorId")===d.id&&l.get("authorType")===d.type}}}),s()(function(e){return e.isFromViewer},g),s()(function(e){return!e.href},u.a))(_.a)},function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(16),c=n(26),u=n.n(c),l=n(83),d=n.n(l),_=n(50),p=n.n(_),f=n(103),m=n.n(f),b=n(399),g=n(8),h=n(30),v=n(104),E=3e5;function y(){var e=Object(h.q)();return Object(g.createSelector)([e,v.c],function(e,t){var n=e.toList();return function(e,t){var n=e.findLastIndex(function(e){return"USER"!==e.get("authorType")&&e.getIn(["attributes","scheduleMeetingFlow"],!1)&&!e.getIn(["attributes","appointmentInfo"])&&Date.now()-e.get("createdAt")<E});return n>-1&&e.slice(n).filter(function(e){return e.get("authorId")===t.id}).isEmpty()}(n,t)||function(e,t){var n=e.findLastIndex(function(e){return"USER"!==e.get("authorType")&&e.getIn(["attributes","startInteraction"],!1)&&Date.now()-e.get("createdAt")<E});return n>-1&&e.slice(n).filter(function(e){return e.get("authorId")===t.id}).isEmpty()}(n,t)})}t.a=u()(Object(s.connect)(function(){var e=y();return function(t,n){return{shouldRender:e(t,n),botUser:Object(v.c)(t,n)}}},function(){return{}}),p()(function(e){return!e.shouldRender||!e.botUser},m.a),d()(function(e){var t=e.botUser,n=i()(e,["botUser"]);return a()({},n,{userId:t.id})}))(b.a)},function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n.n(p),m=n(41),b=n.n(m),g=n(790),h=n(16),v=n(20),E=n(93),y=function(e){return Object(v.a)(e,["Attachment","status"])===E.d},O=n(332),C=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||a()(t)).call(this,e));return n.renderMessage=function(){var e=n.props,t=e.isUploadInProgress,r=e.isUploadFailed,a=e.isSizeFailure,o=e.uploadNewFile;return t?f.a.createElement("div",{className:"attachment-upload-progress-message"},"Uploading attachment…"):r?f.a.createElement("div",{className:"attachment-upload-progress-message"},a?"Attachment upload failed because the file is larger than 25MB":"Attachment upload failed.",f.a.createElement("button",{className:"attachment-retry",onClick:o},"Upload new file")):void 0},n.renderActions=function(){return f.a.createElement("div",{className:"attachment-upload-progress-actions"},f.a.createElement("button",{className:"attachment-upload-progress-action dismiss",onClick:function(){return n.setState({dismissed:!0})}},f.a.createElement(b.a,{src:O})))},n.state={dismissed:!1},n}return _()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.isUploadInProgress===e.isUploadInProgress&&this.props.fileUploadFailed===e.fileUploadFailed||this.setState({dismissed:!1})}},{key:"render",value:function(){var e=this.props,t=e.isUploadInProgress,n=e.isUploadFailed;return!t&&!n||this.state.dismissed?null:f.a.createElement("div",{className:g.AttachmentUploadProgress},f.a.createElement("div",{className:n?"attachment-upload-failed":"attachment-upload-progress"},this.renderMessage(),this.renderActions()))}}]),t}(p.Component);t.a=Object(h.connect)(function(e){return{isUploadInProgress:function(e){return Object(v.a)(e,["Attachment","status"])===E.e}(e),isUploadFailed:y(e),isSizeFailure:function(e){return y&&"AttachmentSizeException"===Object(v.a)(e,["Attachment","error","responseData","message"])}(e)}})(C)},,,,,function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n.n(p),m=n(9),b=n.n(m),g=n(21),h=n(16),v=n(1),E=n.n(v),y=n(23),O=n.n(y),C=n(828),T=n.n(C),M=n(546),I=n.n(M);function P(e){var t=e.children,n=e.onClick,r=O()(e,["children","onClick"]);return f.a.createElement("div",E()({},r,{className:"bg-teal dsg-LargeButton",onClick:n}),t)}P.propTypes={children:p.PropTypes.any,onClick:p.PropTypes.func.isRequired};var A=f.a.createElement("img",{className:I.a.RocketGif,src:T.a,alt:"rocket gif",title:"🚀"});function S(e){var t=e.onCtaClick;return f.a.createElement("div",{className:I.a.ModalContainer+" flex-column"},A,f.a.createElement("h1",{className:"dsg-h1 dsg-medium-weight color-blue"},"Ayyyy! It's working!"),f.a.createElement("p",{className:"dsg-h3 dsg-medium-weight"},"Great job! Feel free to send yourself a test chat if you'd like"),f.a.createElement(P,{onClick:t},"close window"))}S.propTypes={onCtaClick:p.PropTypes.func.isRequired};var D=n(29);var k,w=Object(h.connect)(null,function(e){return Object(g.bindActionCreators)({onCtaClick:D.closeActivationTakeover},e)})(S),j=n(816),R=n(7),B=n.n(R),N=n(109),U=n.n(N),L=n(815),W=n(804),x=n(402),H=n(754),K=n(751),F=n(746),q=n(744),z=n(27),G=n(22),V=n(3),Y=n(15),Z=n(350),J=n.n(Z),Q=(k={},B()(k,V.h,W.a),B()(k,V.Fa,L.a),B()(k,V.Ha,H.a),B()(k,V.Ia,K.a),B()(k,V.Ja,F.a),B()(k,V.Ga,q.a),k),X=function(e){var t=e.children,n=e.onCloseClick,r=e.theme,a=e.hasWidgetHalfHeight,o=e.isEmbeddedMessenger;return f.a.createElement("div",{className:b()(o?J.a.MessengerEmbedded:r.widgetHalfHeight?J.a.MessengerHalfHeight:J.a.Messenger)},f.a.createElement("div",{className:"messenger-content"},!o&&f.a.createElement(x.a,{onCloseButtonClicked:n,theme:r,hasWidgetHalfHeight:a}),t))};X.propTypes={children:p.PropTypes.node,onCloseClick:p.PropTypes.func,theme:p.PropTypes.shape({backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,textColor:p.PropTypes.string,activeColor:p.PropTypes.string,widgetBackgroundColor:p.PropTypes.string,widgetHalfHeight:p.PropTypes.bool}),organizationName:p.PropTypes.string,hasWidgetHalfHeight:p.PropTypes.bool},X.displayName="Messenger";var $=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.handleCloseClick=function(){r.props.actions.closeSidebarWithTween(),setTimeout(r.props.actions.closeSidebar,200)},r.getView=function(){var e=r.props,t=e.view,n=e.isAway;return e.isEmbeddedMessenger?Q[V.h]:t===V.Ha&&n?Q[V.Ia]:Q[t]},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"renderMessenger",value:function(){var e=this.getView(),t=this.props,n=t.theme,r=t.isEmbeddedMessenger,a=t.hasWidgetHalfHeight,o=t.organizationName;return f.a.createElement(X,{onCloseClick:this.handleCloseClick,theme:n,hasWidgetHalfHeight:a,isEmbeddedMessenger:r},f.a.createElement(e,{organizationName:o,theme:n}))}},{key:"render",value:function(){this.getView();var e=this.props,t=e.sidebarOpen;return e.isEmbeddedMessenger?this.renderMessenger():t&&f.a.createElement(U.a,{className:J.a.Messenger__container,transitionName:"messengerSlide",transitionAppear:!0,transitionAppearTimeout:200,transitionEnterTimeout:200,transitionLeaveTimeout:200},this.renderMessenger())}}]),t}(p.Component);$.propTypes={view:p.PropTypes.oneOf([V.h,V.Fa,V.Ha,V.Ia,V.Ja,V.Ga]),sidebarOpen:f.a.PropTypes.bool,isAway:p.PropTypes.bool,actions:p.PropTypes.shape({closeSidebar:p.PropTypes.func,closeSidebarWithTween:p.PropTypes.func}),theme:p.PropTypes.shape({backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,textColor:p.PropTypes.string,activeColor:p.PropTypes.string,widgetBackgroundColor:p.PropTypes.string,widgetHalfHeight:p.PropTypes.bool})};var ee=Object(h.connect)(function(e){return{view:z.d(e),sidebarOpen:z.l(e),isAway:!Object(Y.h)(e),theme:Object(G.n)(e),hasWidgetHalfHeight:Object(G.q)(e),isEmbeddedMessenger:z.g(e),organizationName:Object(G.k)(e)}},function(e){return{actions:Object(g.bindActionCreators)({closeSidebar:D.closeSidebar,closeSidebarWithTween:D.closeSidebarWithTween},e)}})($),te=n(743),ne=n(139),re=n.n(ne),ae=n(26),oe=n.n(ae),ie=n(71),se=n(2),ce=n(122),ue=n(242),le=n(75),de=n(538),_e=n.n(de),pe=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.autoFocus,r=e.onMouseDown,a=e.style,o=e.showBranding,i=e.utmContent;return f.a.createElement("div",{className:_e.a.MobileComposer,onMouseDown:r,style:a},f.a.createElement("input",{className:_e.a.Input,placeholder:t,autoFocus:n}),o&&f.a.createElement(le.a,{utmContent:i}))}}]),t}(p.Component);pe.propTypes={placeholder:p.PropTypes.string,autoFocus:p.PropTypes.bool,onMouseDown:p.PropTypes.func,style:p.PropTypes.object,showBranding:p.PropTypes.bool,isAway:p.PropTypes.bool},pe.defaultProps={isAway:!1,placeholder:"Type your message…",autoFocus:!1,showBranding:!1};var fe=pe,me=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"render",value:function(){return f.a.createElement(fe,this.props)}}]),t}(p.Component),be=oe()(Object(h.connect)(function(e){return{isAway:!Object(Y.h)(e),showBranding:Object(G.m)(e)}}),ue.a)(me),ge=n(44),he=n(281),ve=n(280),Ee=n(123),ye=n(286),Oe=n(150),Ce=n.n(Oe),Te=function(e){var t=e.user,n=void 0===t?{}:t,r=e.backgroundColor;return f.a.createElement("div",{className:Ce.a.AvatarWrapper},f.a.createElement(Ee.a,{user:n,color:r,style:{borderColor:r},shape:"circle"}))};function Me(e){var t=e.children,n=O()(e,["children"]);return f.a.createElement("div",E()({},n,{className:Ce.a.MenuItem}),t)}function Ie(e){var t=e.children,n=O()(e,["children"]);return f.a.createElement("div",E()({className:Ce.a.Menu},n),f.a.createElement("div",{className:Ce.a.MenuItems},p.Children.map(t,function(e){return f.a.createElement(Me,null,e)})))}function Pe(e){var t=e.children;return p.Children.count(t)>0&&f.a.createElement("div",{className:Ce.a.AvatarsList},p.Children.toArray(t).reverse())}Te.propTypes={backgroundColor:p.PropTypes.string,user:p.PropTypes.object},Me.propTypes={children:p.PropTypes.node},Ie.propTypes={children:p.PropTypes.node},Pe.propTypes={children:p.PropTypes.node};var Ae=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.renderAvatar=function(e){var t=e.id,n=e.publicProfileUrl,a={user:e,backgroundColor:r.props.backgroundColor};return n?f.a.createElement("a",{key:t,href:n,target:"_blank"},f.a.createElement(Te,a)):f.a.createElement(Te,E()({key:t},a))},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"renderUserAvatars",value:function(){var e=this.props.users;return!e||e.isEmpty()?null:1!==e.size||Object(ye.b)(e.first())||e.first().bot?f.a.createElement(Pe,null,e.map(this.renderAvatar)):null}},{key:"render",value:function(){var e=this.props,t=e.backgroundColor,n=e.foregroundColor,r=e.title,a=e.children,o=e.users,i=e.menu,s=o&&!o.isEmpty(),c=o&&o.size>1;return f.a.createElement("div",{className:b()(Ce.a.Container,B()({},Ce.a.MultiAvatars,c)),style:{backgroundColor:t,color:n}},(s||r)&&f.a.createElement("div",{className:Ce.a.Header},f.a.createElement("div",{className:Ce.a.HeaderContent},this.renderUserAvatars(),r&&f.a.createElement("div",{className:Ce.a.Title,style:{color:n}},r)),f.a.createElement(Ie,null,i)),f.a.createElement("div",{className:Ce.a.Body},a))}}]),t}(p.Component);Ae.propTypes={title:p.PropTypes.node,message:p.PropTypes.node,menu:p.PropTypes.node,children:p.PropTypes.node,users:p.PropTypes.object,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string},Ae.defaultProps={users:Object(se.List)()};var Se=Ae,De=n(41),ke=n.n(De),we=n(537),je=n.n(we),Re=n(452),Be=n(553),Ne={onClick:p.PropTypes.func};function Ue(e,t,n){e&&void 0===t&&(t=e,e=null);var r=function(e){var n=e.className,r=e.style,a=e.onClick,o=O()(e,["className","style","onClick"]);return f.a.createElement(ke.a,E()({},o,{style:r,className:b()(je.a.Icon,n),element:"div",onClick:a,src:t}))};return e&&(r.displayName="Icon("+e+")"),r.defaultProps=E()({},n),r.propTypes=E()({},Ne),r}var Le=Ue("Profile",Re),We=Ue("Dismiss",Be,{className:je.a.DismissIcon}),xe=Le,He=n(736),Ke=n(734),Fe=n.n(Ke),qe=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"renderMenu",value:function(){var e=this.props,t=e.showProfileIcon,n=e.showDismissIcon,r=e.onProfileClick,a=e.onDismissClick;return[t&&f.a.createElement(xe,{key:"profile",onClick:r}),n&&f.a.createElement(We,{key:"dismiss",onClick:a})].filter(Boolean)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.users,r=e.message,a=e.backgroundColor,o=e.foregroundColor,i=e.children;return f.a.createElement("div",{className:Fe.a.Container},f.a.createElement(He.a,null,f.a.createElement(Se,{title:t,users:n,backgroundColor:a,foregroundColor:o,menu:this.renderMenu()},r),i))}}]),t}(p.Component);qe.propTypes={title:p.PropTypes.node,message:p.PropTypes.node,children:p.PropTypes.node,users:p.PropTypes.object,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,showProfileIcon:p.PropTypes.bool,onProfileClick:p.PropTypes.func,showDismissIcon:p.PropTypes.bool,onDismissClick:p.PropTypes.func},qe.defaultProps={users:Object(se.List)()};var ze=qe;function Ge(e){var t=e.users,n=e.separator,r=Object(se.List)(t);return f.a.createElement("div",null,r.map(function(e){var t=e.id,n=e.name,r=e.publicProfileUrl;return r?f.a.createElement("a",{key:t,href:r,target:"_blank"},n):f.a.createElement("span",{key:t},n)}).interleave(r.map(function(e,t){return f.a.createElement("span",{key:"sep-"+t},n)})).butLast())}Ge.propTypes={users:p.PropTypes.object,separator:p.PropTypes.string},Ge.defaultProps={users:Object(se.List)(),separator:", "};var Ve=n(52),Ye=n(34),Ze=n(42),Je=n(85),Qe=n(30),Xe=n(53),$e=n(342),et=n(51),tt=n(28),nt=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.handleResize=function(e){var t=e.height;r.props.actions.iframeOverrideSize({height:t+"px"})},r.handleClick=function(){r.props.welcomeMessageActive?r.props.actions.dismissWelcomeMessage():r.props.actions.openChat({autoFocus:!0})},r.getCalloutMessage=function(){return r.props.welcomeMessageActive?"Close the Chat Widget":"Begin an instant message conversation"},r.handleInputMouseDown=function(e){Object(Ye.b)()&&(e.preventDefault(),r.props.actions.dismissWelcomeMessage(),r.props.actions.goToNewConversation({sentWelcomeMessage:!0}))},r.handleProfileClick=function(){r.props.actions.hideWelcomeMessage(),r.props.actions.goToConversationList()},r.handleSubmit=function(e){var t;r.props.actions.dismissWelcomeMessage(),r.props.actions.createConversation({body:e,attributes:(t={},B()(t,Ve.g,!0),B()(t,"isFirstPopup",r.props.isFirstPopup),B()(t,"isTriggeredFromAPI",r.props.isTriggeredFromAPI),B()(t,"preMessages",[{body:r.linkifiedMessageContent,sender:r.props.sender,senders:r.props.users}]),t)})},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.props.welcomeMessageActive&&this.props.actions.trackImpression({view:tt.i.WELCOME_MESSAGE_COMPOSER})}},{key:"componentWillReceiveProps",value:function(e){!this.props.welcomeMessageActive&&e.welcomeMessageActive&&this.props.actions.trackImpression({view:tt.i.WELCOME_MESSAGE_COMPOSER})}},{key:"renderMessage",value:function(){var e=this;return f.a.createElement(re.a,{ref:function(t){e._bodyNode=t},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},this.props.message)}},{key:"renderComposer",value:function(){var e=tt.i.WELCOME_MESSAGE_COMPOSER;return Object(Ye.b)()?f.a.createElement(be,{style:{borderRadius:"0"},onMouseDown:this.handleInputMouseDown,utmContent:e}):f.a.createElement(ce.a,{size:"medium",variant:"minimal",minRows:2,maxRows:5,autoFocus:this.props.shouldAutoFocusComposer,onSubmit:this.handleSubmit,onInputMouseDown:this.handleInputMouseDown,hasActiveBorderOnFocus:!1,utmContent:e})}},{key:"renderTitle",value:function(){var e=this.props,t=e.organizationName,n=e.users;return!n||n.isEmpty()||1===n.size&&!n.first().name||n.every(function(e){return!e.name})?f.a.createElement("span",null,t):f.a.createElement(Ge,{users:n})}},{key:"renderWelcomeMessage",value:function(){if(!this.props.welcomeMessageActive)return null;var e=this.props,t=e.backgroundColor,n=e.foregroundColor,r=e.users,a=e.showProfileIcon;return f.a.createElement(ze,{message:this.renderMessage(),title:this.renderTitle(),users:r,backgroundColor:t,foregroundColor:n,showProfileIcon:a,onProfileClick:this.handleProfileClick,showDismissIcon:Object(Ye.b)(),onDismissClick:this.handleClick},this.renderComposer())}},{key:"render",value:function(){var e=Object(Ye.b)()?ve.a:he.a;return f.a.createElement(e,{ariaMessage:this.getCalloutMessage(),onResize:this.handleResize,onClick:this.handleClick},this.renderWelcomeMessage())}},{key:"linkifiedMessageContent",get:function(){return Object(ie.findDOMNode)(this._bodyNode).innerHTML}}]),t}(p.Component);nt.propTypes={welcomeMessageActive:p.PropTypes.bool,sender:p.PropTypes.object,users:p.PropTypes.object,organizationName:p.PropTypes.string,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,showProfileIcon:p.PropTypes.bool,onProfileClick:p.PropTypes.func,shouldAutoFocusComposer:p.PropTypes.bool,isFirstPopup:p.PropTypes.bool,isTriggeredFromAPI:p.PropTypes.bool,actions:p.PropTypes.shape({showWelcomeMessage:p.PropTypes.func.isRequired,hideWelcomeMessage:p.PropTypes.func.isRequired,dismissWelcomeMessage:p.PropTypes.func.isRequired,openChat:p.PropTypes.func.isRequired,openSidebar:p.PropTypes.func.isRequired,iframeOverrideSize:p.PropTypes.func.isRequired,createConversation:p.PropTypes.func.isRequired,goToConversationList:p.PropTypes.func.isRequired,goToNewConversation:p.PropTypes.func.isRequired})},nt.defaultProps={users:Object(se.List)()};var rt=oe()(Object(ge.a)(["activeColor","backgroundColor","foregroundColor"]),Object(h.connect)(function(e){return{welcomeMessageActive:e.WelcomeMessage.active,shouldAutoFocusComposer:e.WelcomeMessage.autoFocus,showProfileIcon:!Object(Qe.b)(e).isEmpty(),message:Object(Xe.j)(e),sender:Object(Xe.g)(e),users:Object(Xe.h)(e),isFirstPopup:Object($e.a)(e),isTriggeredFromAPI:Object($e.b)(e),organizationName:Object(G.k)(e)}},function(e){return{actions:Object(g.bindActionCreators)({showWelcomeMessage:Je.showWelcomeMessage,hideWelcomeMessage:Je.hideWelcomeMessage,dismissWelcomeMessage:Je.dismissWelcomeMessage,createConversation:Ze.a,openChat:D.openChat,openSidebar:D.openSidebar,goToConversationList:D.goToConversationList,goToNewConversation:D.goToNewConversation,iframeOverrideSize:D.iframeOverrideSize,trackImpression:et.e},e)}}))(nt),at=n(536),ot=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.state={step:1,body:void 0,email:void 0},r.handleComposerSubmit=function(e){r.preMessageBody=Object(ie.findDOMNode)(r._bodyNode).innerHTML,r.setState({body:e,step:2})},r.handleEmailCaptureSubmit=function(e){var t=e.email,n=r.props,a=n.onSubmit,o=n.sender,i=n.users;a&&a({body:r.state.body,attributes:{preMessages:[{body:r.preMessageBody,sender:o,senders:i}]},email:t})},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"renderMessage",value:function(){var e=this;switch(this.state.step){case 1:return f.a.createElement(re.a,{ref:function(t){e._bodyNode=t},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},this.props.message);case 2:return at.a.renderTitle();default:return}}},{key:"renderTitle",value:function(){var e=this.props,t=e.organizationName,n=e.users;return this.state.step>1?null:!n||n.isEmpty()||1===n.size&&!n.first().name||n.every(function(e){return!e.name})?f.a.createElement("span",null,t):f.a.createElement(Ge,{users:this.props.users})}},{key:"renderStep",value:function(){var e=tt.i.AWAY_MESSAGE_COMPOSER;if(this.props.isMobile)return f.a.createElement(be,{onMouseDown:this.props.onInputMouseDown,utmContent:e});switch(this.state.step){case 1:return f.a.createElement(ce.a,{size:"medium",variant:"minimal",isAway:!0,minRows:2,maxRows:5,autoFocus:!1,onSubmit:this.handleComposerSubmit,hasActiveBorderOnFocus:!1,utmContent:e});case 2:return f.a.createElement(at.a,{backgroundColor:this.props.backgroundColor,textColor:this.props.textColor,endUser:this.props.endUser,onSubmit:this.handleEmailCaptureSubmit});default:return}}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.backgroundColor,r=e.foregroundColor,a=e.showProfileIcon,o=e.onProfileClick,i=e.showDismissIcon,s=e.onDismissClick;return f.a.createElement(ze,{users:1===this.state.step?t:void 0,backgroundColor:n,foregroundColor:r,showProfileIcon:1===this.state.step&&a,onProfileClick:o,title:this.renderTitle(),message:this.renderMessage(),showDismissIcon:i,onDismissClick:s},this.renderStep())}}]),t}(p.Component);ot.propTypes={isMobile:p.PropTypes.bool,awayMessageActive:p.PropTypes.bool,sender:p.PropTypes.object,users:p.PropTypes.object,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,textColor:p.PropTypes.string,showProfileIcon:p.PropTypes.bool,organizationName:p.PropTypes.string,onProfileClick:p.PropTypes.func,showDismissIcon:p.PropTypes.bool,onDismissClick:p.PropTypes.func,onInputMouseDown:p.PropTypes.func,onSubmit:p.PropTypes.func},ot.defaultProps={users:Object(se.List)()};var it=ot,st=n(128),ct=n(137),ut=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.handleResize=function(e){var t=e.height;r.props.actions.iframeOverrideSize({height:t+"px"})},r.handleClick=function(){r.props.awayMessageActive?r.props.actions.hideAwayMessage():r.props.actions.openChat()},r.handleProfileClick=function(){r.props.actions.hideAwayMessage(),r.props.actions.goToConversationList()},r.handleInputMouseDown=function(e){Object(Ye.b)()&&(e.preventDefault(),r.props.actions.hideAwayMessage(),r.props.actions.goToNewConversation())},r.handleSubmit=function(e){var t=e.body,n=e.attributes,a=void 0===n?{}:n,o=e.email,i=r.props,s=i.orgId,c=i.endUser,u=i.anonymousId;c&&"LEAD"!==c.type||r.props.actions.identifyLead(s,u,o),r.props.actions.createConversation({body:t,attributes:E()({},a,{email:o})}),setTimeout(function(){r.props.actions.hideAwayMessage()},2500)},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.props.awayMessageActive&&this.props.actions.trackImpression({view:tt.i.AWAY_MESSAGE_COMPOSER})}},{key:"componentWillReceiveProps",value:function(e){!this.props.awayMessageActive&&e.awayMessageActive&&this.props.actions.trackImpression({view:tt.i.AWAY_MESSAGE_COMPOSER})}},{key:"renderAwayMessage",value:function(){if(!this.props.awayMessageActive)return null;var e=this.props,t=e.endUser,n=e.backgroundColor,r=e.foregroundColor,a=e.textColor,o=e.users,i=e.sender,s=e.message,c=e.showProfileIcon,u=e.organizationName;return f.a.createElement(it,{isMobile:Object(Ye.b)(),message:s,endUser:t,users:o,sender:i,backgroundColor:n,foregroundColor:r,textColor:a,showProfileIcon:c,organizationName:u,onProfileClick:this.handleProfileClick,showDismissIcon:Object(Ye.b)(),onDismissClick:this.handleClick,onSubmit:this.handleSubmit,onInputMouseDown:this.handleInputMouseDown})}},{key:"render",value:function(){var e=Object(Ye.b)()?ve.a:he.a;return f.a.createElement(e,{onResize:this.handleResize,onClick:this.handleClick},this.renderAwayMessage())}}]),t}(p.Component);ut.propTypes={welcomeMessageActive:p.PropTypes.bool,users:p.PropTypes.object,sender:p.PropTypes.object,message:p.PropTypes.node,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,textColor:p.PropTypes.string,awayMessageActive:p.PropTypes.bool,showProfileIcon:p.PropTypes.bool,endUser:p.PropTypes.object,anonymousId:p.PropTypes.string,orgId:p.PropTypes.number,organizationName:p.PropTypes.string,actions:p.PropTypes.shape({showAwayMessage:p.PropTypes.func.isRequired,hideAwayMessage:p.PropTypes.func.isRequired,iframeOverrideSize:p.PropTypes.func.isRequired,createConversation:p.PropTypes.func.isRequired,identifyLead:p.PropTypes.func.isRequired,goToConversationList:p.PropTypes.func.isRequired,goToNewConversation:p.PropTypes.func.isRequired,openChat:p.PropTypes.func.isRequired})};var lt=oe()(Object(ge.a)(["activeColor","textColor","foregroundColor","backgroundColor"]),Object(h.connect)(function(e){return{awayMessageActive:e.AwayMessage.active,showProfileIcon:!Object(Qe.b)(e).isEmpty(),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,message:Object(Xe.a)(e),thankYouMessage:Object(Xe.i)(e),organizationName:Object(G.k)(e),sender:Object(Xe.g)(e),users:Object(Xe.h)(e)}},function(e){return{actions:Object(g.bindActionCreators)({showAwayMessage:st.showAwayMessage,hideAwayMessage:st.hideAwayMessage,createConversation:Ze.a,iframeOverrideSize:D.iframeOverrideSize,identifyLead:ct.d,goToConversationList:D.goToConversationList,goToNewConversation:D.goToNewConversation,openChat:D.openChat,trackImpression:et.e},e)}}))(ut),dt=n(733),_t=n(208),pt=n(534),ft=n.n(pt),mt=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"renderComposer",value:function(){var e=tt.i.WELCOME_MESSAGE_COMPOSER;return this.props.isMobile?f.a.createElement(be,{onMouseDown:this.props.onInputMouseDown,utmContent:e}):f.a.createElement(ce.a,{size:"medium",variant:"minimal",minRows:1,maxRows:5,autoFocus:!1,onSubmit:this.props.onComposerSubmit,hasActiveBorderOnFocus:!1,utmContent:e})}},{key:"renderCtaButton",value:function(){var e=this.props,t=e.ctaCopy,n=e.onCtaClick,r=e.ctaHref,a=e.activeColor;return f.a.createElement(_t.a,{hollow:!0,className:ft.a.CtaButton,href:r,onClick:n,brandPrimary:a,style:{borderWidth:"0px"}},t)}},{key:"renderCta",value:function(){switch(this.props.ctaType){case"SCHEDULE_MEETING":case"LINK_TO_URL":return this.renderCtaButton();case"CHAT_RESPONSE":return this.renderComposer();default:return null}}},{key:"renderTitle",value:function(){var e=this.props,t=e.organizationName,n=e.users;return!n||n.isEmpty()||1===n.size&&!n.first().name||n.every(function(e){return!e.name})?f.a.createElement("span",null,t):f.a.createElement(Ge,{users:n})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.users,r=e.backgroundColor,a=e.foregroundColor,o=e.showDismissIcon,i=e.onDismissClick;return f.a.createElement("div",{style:{position:"relative"}},f.a.createElement(ze,{backgroundColor:r,foregroundColor:a,users:n,title:this.renderTitle(),message:f.a.createElement("div",{className:ft.a.CampaignBody,dangerouslySetInnerHTML:{__html:t}}),showDismissIcon:o,onDismissClick:i},this.renderCta()))}}]),t}(p.Component);mt.propTypes={isMobile:p.PropTypes.bool,sender:p.PropTypes.object,users:p.PropTypes.object,content:p.PropTypes.string,ctaType:p.PropTypes.string,ctaCopy:p.PropTypes.string,onCtaClick:p.PropTypes.func,ctaHref:p.PropTypes.string,backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,activeColor:p.PropTypes.string,organizationName:p.PropTypes.string,showProfileIcon:p.PropTypes.bool,onProfileClick:p.PropTypes.func,showDismissIcon:p.PropTypes.bool,onDismissClick:p.PropTypes.func,onInputMouseDown:p.PropTypes.func,onComposerSubmit:p.PropTypes.func};var bt=mt,gt=n(4),ht=n(273),vt=n(31),Et=n(54),yt=n(84),Ot=n(110),Ct=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.state={dismissed:!1},r.handleInputMouseDown=function(e){e.preventDefault();var t=r.props,n=t.ctaType,a=t.isMobile;if("CHAT_RESPONSE"===n&&a){var o=r.props,i=o.content,s=o.message,c=o.sender,u=o.campaignId;r.props.actions.hideOnStartup(),r.props.actions.goToNewConversationForCampaign({inboxId:s.inboxId,campaignId:u,messages:[{id:Object(Ot.a)(),body:i,sender:c}],campaignMessage:s}),r.props.actions.markAsRead({messageId:s.id})}},r.handleComposerSubmit=function(e){var t=r.props,n=t.message,a=t.campaignId,o=t.content,i=t.sender,s=t.users;r.props.actions.hideOnStartup(),r.props.actions.createConversation({body:e,inboxId:n.inboxId,attributes:{relatedCampaignId:a,preMessages:[{id:Object(Ot.a)(),body:o,sender:i,senders:s}]}}),r.props.actions.createConversationEvent({conversationId:n.conversationId,type:Et.e}),r.props.actions.markAsRead({messageId:n.id}),r.props.actions.unsetMostRecentlyReadCampaignConversation()},r.handleCtaClick=function(){var e=r.props,t=e.message,n=e.sender;r.props.actions.hideOnStartup(),r.props.actions.createConversationEvent({conversationId:t.conversationId,type:Et.a}),r.props.actions.markAsRead({messageId:t.id}),r.props.actions.unsetMostRecentlyReadCampaignConversation(),"SCHEDULE_MEETING"===r.props.ctaType&&r.props.actions.startScheduleMeetingFlow(n.id,{campaignMessage:t})},r.handleDismissClick=function(){var e=r.props.message;r.props.actions.hideOnStartup(),r.setState({dismissed:!0},function(){window.setTimeout(function(){r.props.actions.createConversationEvent({conversationId:e.conversationId,type:Et.b}),r.props.actions.markAsRead({messageId:e.id}),r.props.actions.unsetMostRecentlyReadCampaignConversation()},220)})},r.handleResize=function(e){var t=e.height;r.props.actions.iframeOverrideSize({height:t+"px"})},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"componentWillMount",value:function(){this.props.actions.trackImpression({view:tt.i.WELCOME_MESSAGE_COMPOSER})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.backgroundColor,r=e.foregroundColor,a=e.organizationName,o=e.activeColor,i=e.ctaCopy,s=e.ctaHref,c=e.ctaType,u=e.users,l=e.isOnline,d=Object(Ye.b)(),_=d?ve.a:he.a;return f.a.createElement(_,{onResize:this.handleResize,onClick:this.handleDismissClick},!this.state.dismissed&&f.a.createElement(bt,{users:u,content:t,ctaCopy:i,ctaHref:s,ctaType:c,backgroundColor:n,foregroundColor:r,activeColor:o,isOnline:l,isMobile:d,showDismissIcon:d,organizationName:a,onComposerSubmit:this.handleComposerSubmit,onInputMouseDown:this.handleInputMouseDown,onDismissClick:this.handleDismissClick,onCtaClick:this.handleCtaClick}))}}]),t}(p.Component);Ct.propTypes={message:p.PropTypes.object.isRequired,sender:p.PropTypes.object,users:p.PropTypes.object,campaignId:p.PropTypes.number.isRequired,avatarUrl:p.PropTypes.string,content:p.PropTypes.node,ctaType:p.PropTypes.oneOf(["LINK_TO_URL","CHAT_RESPONSE","SCHEDULE_MEETING"]),ctaCopy:p.PropTypes.string,ctaHref:p.PropTypes.string,backgroundColor:p.PropTypes.string.isRequired,foregroundColor:p.PropTypes.string.isRequired,activeColor:p.PropTypes.string.isRequired,isOnline:p.PropTypes.bool.isRequired,isMobile:p.PropTypes.bool,organizationName:p.PropTypes.string,actions:p.PropTypes.shape({createConversation:p.PropTypes.func.isRequired,iframeOverrideSize:p.PropTypes.func.isRequired,markAsRead:p.PropTypes.func.isRequired,createConversationEvent:p.PropTypes.func.isRequired,startScheduleMeetingFlow:p.PropTypes.func.isRequired,goToNewConversationForCampaign:p.PropTypes.func.isRequired,hideOnStartup:p.PropTypes.func.isRequired,unsetMostRecentlyReadCampaignConversation:p.PropTypes.func.isRequired})},Ct.defaultProps={isMobile:Object(Ye.b)()};var Tt=oe()(Object(ge.a)(["backgroundColor","foregroundColor","activeColor"]),Object(h.connect)(function(e,t){var n=t.message,r=n.attributes,a=r.cta,o=r.senderId,i=r.noSenderId,s=r.campaignId,c=r.automaticSender,u=!!o&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n)return!1;var a=Object(Xe.k)(e);return r&&a?a:Object(gt.j)(e)[t]}(e,o,i,c),l=u?se.List.of(u):Object(Xe.f)(e),d=l.first();return{campaignId:s,message:n,content:n.body,sender:d,ctaCopy:a&&a.copy,ctaType:a&&a.CtaType,ctaHref:a&&a.UrlLink,isOnline:Object(Y.h)(e,t),users:l,organizationName:Object(G.k)(e)}},function(e){return{actions:Object(g.bindActionCreators)({iframeOverrideSize:D.iframeOverrideSize,goToNewConversationForCampaign:D.goToNewConversationForCampaign,markAsRead:vt.p,createConversationEvent:vt.b,startScheduleMeetingFlow:yt.h,createConversation:Ze.a,hideOnStartup:ht.b,unsetMostRecentlyReadCampaignConversation:vt.z,trackImpression:et.e},e)}}))(Ct),Mt=n(238),It=n.n(Mt),Pt=n(98),At=n(130),St=n(285),Dt=n(435),kt=n.n(Dt),wt=n(332),jt=n.n(wt),Rt=n(727),Bt=n.n(Rt),Nt={width:"35px",height:"35px"},Ut=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||a()(t)).call(this,e));return n.state={hovered:!1},n}return _()(t,e),c()(t,[{key:"style",value:function(){var e=this.props.backgroundColor||"9A9A9A";return this.state.hovered?{backgroundColor:"#"+e,borderColor:"#"+e,color:"white"}:{backgroundColor:"white",borderColor:"#"+e,color:"#"+e}}},{key:"render",value:function(){var e=this;return f.a.createElement("button",{className:this.props.className,onMouseOver:function(){return e.setState({hovered:!0})},onMouseOut:function(){return e.setState({hovered:!1})},onClick:this.props.onClick,style:this.style()},this.props.children)}}]),t}(p.Component);Ut.propTypes={className:p.PropTypes.string,backgroundColor:p.PropTypes.string,children:p.PropTypes.string,onClick:p.PropTypes.func};var Lt=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||a()(t)).call(this,e));return n.state={denied:!1},n}return _()(t,e),c()(t,[{key:"handleClick",value:function(){return this.props.actions.recordConsent()}},{key:"handleCloseTakeover",value:function(){var e=this;this.props.actions.cancelPrivacyPolicyFlow(),this.props.emailCaptureSliderSubmitted?(this.props.actions.emailCaptureSliderDismissed(),setTimeout(function(){e.props.actions.emailCaptureSliderCleared(),e.props.actions.markAsRead({messageId:e.props.message.id})},1e3)):(this.props.actions.closeSidebarWithTween(),setTimeout(this.props.actions.closeSidebar,200))}},{key:"render",value:function(){var e=this,t=this.props.widgetHalfHeight;return f.a.createElement("div",{className:b()(t?kt.a.ConsentTakeoverHalfHeight:kt.a.ConsentTakeover,kt.a.ConsentTakeoverShared,{small:this.props.emailCaptureSliderSubmitted})},f.a.createElement("div",{className:"consent-takeover-content"},f.a.createElement("div",{className:"consent-content"},f.a.createElement("div",{className:"header"},f.a.createElement("div",{className:"flex"},this.state.denied&&f.a.createElement("div",{className:"go-back",onClick:function(){return e.setState({denied:!1})}},f.a.createElement(ke.a,{src:Bt.a})),f.a.createElement("div",{className:b()("title",{"denied-state":this.state.denied})},f.a.createElement(St.a,{className:"Avatar",type:"circle",style:Nt,color:"#"+this.props.backgroundColor}),f.a.createElement("div",{className:"bot-name"},"Data Protection Bot"))),f.a.createElement("div",{className:"dismiss",onClick:function(){return e.handleCloseTakeover()}},f.a.createElement(ke.a,{src:jt.a}))),f.a.createElement("div",{className:"body-wrapper"},f.a.createElement("div",{className:"body"},this.state.denied?this.props.consentDeclinedMessage:f.a.createElement("div",null,this.props.consentMessage,this.props.privacyPolicyLink&&f.a.createElement("span",null,f.a.createElement("br",null),f.a.createElement("br",null),f.a.createElement("a",{href:this.props.privacyPolicyLink,target:"_blank",rel:"noopener noreferrer"},this.props.privacyPolicyLinkText||this.props.privacyPolicyLink))))),f.a.createElement("div",{className:"footer"},!this.state.denied&&f.a.createElement("div",{className:"gdpr-consent-buttons"},f.a.createElement(Ut,{className:"accept",backgroundColor:this.props.backgroundColor,onClick:function(){return e.handleClick()}},this.props.giveConsentLabel),f.a.createElement(Ut,{onClick:function(){e.setState({denied:!0})}},this.props.declineConsentLabel)))),this.props.showBranding&&f.a.createElement("div",{className:"consent-footer"},f.a.createElement(le.a,{utmContent:tt.i.CONSENT_MODAL}))))}}]),t}(p.Component);Lt.propTypes={message:p.PropTypes.object,backgroundColor:p.PropTypes.string,showBranding:p.PropTypes.bool,consentMessage:p.PropTypes.string,privacyPolicyLink:p.PropTypes.string,privacyPolicyLinkText:p.PropTypes.string,consentDeclinedMessage:p.PropTypes.string,viewOptInButtonLabel:p.PropTypes.string,giveConsentLabel:p.PropTypes.string,declineConsentLabel:p.PropTypes.string,emailCaptureSliderSubmitted:p.PropTypes.bool,actions:p.PropTypes.shape({markAsRead:p.PropTypes.func.isRequired,recordConsent:p.PropTypes.func.isRequired,cancelPrivacyPolicyFlow:p.PropTypes.func.isRequired,closeSidebar:p.PropTypes.func.isRequired,closeSidebarWithTween:p.PropTypes.func.isRequired,emailCaptureSliderDismissed:p.PropTypes.func.isRequired,emailCaptureSliderCleared:p.PropTypes.func.isRequired}),widgetHalfHeight:p.PropTypes.bool};var Wt=Object(h.connect)(function(e){return{widgetHalfHeight:Object(z.m)(e)}})(Lt),xt=oe()(Object(h.connect)(function(e){var t=Object(At.d)(e);return{message:Object(gt.t)(e).message,backgroundColor:Object(G.n)(e).backgroundColor,emailCaptureSliderSubmitted:Object(z.f)(e),showBranding:Object(G.m)(e),consentMessage:t.message,privacyPolicyLink:t.privacyPolicyLink,privacyPolicyLinkText:t.privacyPolicyLinkText,consentDeclinedMessage:t.consentDeclinedMessage,consentConfirmationMessage:t.consentConfirmationMessage,viewOptInButtonLabel:t.viewOptInButtonLabel,giveConsentLabel:t.giveConsentLabel,declineConsentLabel:t.declineConsentLabel}},function(e){return{actions:Object(g.bindActionCreators)({markAsRead:vt.p,recordConsent:Pt.d,cancelPrivacyPolicyFlow:Pt.b,closeSidebar:D.closeSidebar,closeSidebarWithTween:D.closeSidebarWithTween,emailCaptureSliderDismissed:D.emailCaptureSliderDismissed,emailCaptureSliderCleared:D.emailCaptureSliderCleared,trackImpression:et.e},e)}}),It()({componentWillMount:function(){this.props.actions.trackImpression({view:tt.i.CONSENT_MODAL})}}))(Wt),Ht=n(726),Kt=n(722),Ft=n(712),qt=n(394),zt=n(35),Gt=n(708),Vt=n.n(Gt);n(968);Object(Ye.c)()&&Vt()();var Yt=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"componentWillMount",value:function(){if(!this.props.hasInitializedApi)return this.props.actions.initializeApi()}},{key:"renderWelcomeMessage",value:function(){if([zt.q,zt.r].includes(this.props.iframeSize)&&"ANNOUNCEMENT_PREVIEW"!==(null!=this.props.preview?this.props.preview.type:void 0))return Object(p.createElement)(rt,{key:"welcome-message"})}},{key:"renderAwayMessage",value:function(){if([zt.f,zt.g].includes(this.props.iframeSize))return Object(p.createElement)(lt,{key:"away-message"})}},{key:"renderMinimized",value:function(){var e=this.props,t=e.activationTakeoverOpen,n=e.preview;if([zt.j,zt.k].includes(this.props.iframeSize))return Object(p.createElement)(te.a,{key:n.message.id,message:n.message,className:b()({"iframe-full-screen":t})})}},{key:"renderMessenger",value:function(){if(this.props.iframeSize===zt.l||this.props.iframeSize===zt.m||this.props.iframeSize===zt.e)return Object(p.createElement)(ee,{key:"messenger"})}},{key:"renderActivationTakeover",value:function(){if(this.props.activationTakeoverOpen)return Object(p.createElement)(w,{key:"activation-takeover"})}},{key:"renderConsentTakeover",value:function(){var e=this.props.iframeSize;if((e===zt.b||e===zt.d||e===zt.c)&&this.props.showConsentTakeover)return p.DOM.div({className:b()("widget-container",{"widget-container-mobile":Object(Ye.d)()},"body-font",this.props.fontFamily)},Object(p.createElement)(xt,{key:"consent-takeover"}))}},{key:"renderTakeover",value:function(){var e=this.props,t=e.iframeSize,n=e.preview;if(t===zt.p&&"ANNOUNCEMENT_PREVIEW"===(null!=n?n.type:void 0))return Object(p.createElement)(Kt.a,{key:n.message.id,message:n.message})}},{key:"renderEmailCaptureSlider",value:function(){var e=this.props,t=e.iframeSize,n=e.preview;if(t===zt.h&&"EMAIL_CAPTURE"===(null!=n?n.type:void 0))return Object(p.createElement)(Ft.a,{key:n.message.id,message:n.message})}},{key:"renderPAWelcomeMessage",value:function(){var e=this.props,t=e.iframeSize,n=e.preview;if(t===zt.r&&"ANNOUNCEMENT_PREVIEW"===(null!=n?n.type:void 0))return Object(p.createElement)(Tt,{key:n.message.id,message:n.message})}},{key:"renderPASlider",value:function(){var e=this.props,t=e.iframeSize,n=e.preview;if(t===zt.n&&"ANNOUNCEMENT_PREVIEW"===(null!=n?n.type:void 0))return Object(p.createElement)(dt.a,{key:n.message.id,message:n.message})}},{key:"renderMessageSlider",value:function(){var e=this.props,t=e.iframeSize,n=e.latestMessage,r=e.preview;if(t===zt.n&&n&&"RECENT_MESSAGE_PREVIEW"===(null!=r?r.type:void 0))return Object(p.createElement)(Ht.a,{key:n.get("id"),message:n,conversationId:n.get("conversationId")})}},{key:"render",value:function(){return p.DOM.div({className:b()("widget-container",{"widget-container-mobile":Object(Ye.d)()},"body-font",this.props.fontFamily)},Object(p.createElement)(j.a),this.props.iframeRepositionPending?void 0:[this.renderWelcomeMessage(),this.renderAwayMessage(),this.renderEmailCaptureSlider(),this.renderMessenger(),this.renderPAWelcomeMessage()||this.renderPASlider()||this.renderMessageSlider()||this.renderMinimized(),this.renderActivationTakeover(),this.renderTakeover(),this.renderConsentTakeover()])}}]),t}(p.Component);Yt.propTypes={fontFamily:p.PropTypes.string,hasInitializedApi:p.PropTypes.any,preview:p.PropTypes.any,iframeSize:p.PropTypes.string,activationTakeoverOpen:p.PropTypes.any,latestMessage:p.PropTypes.object,iframeRepositionPending:p.PropTypes.any,showConsentTakeover:p.PropTypes.any,actions:p.PropTypes.shape({initializeApi:p.PropTypes.func.isRequired}).isRequired};t.a=Object(h.connect)(function(e){return{activationTakeoverOpen:z.a(e),latestMessage:Object(Qe.e)(e),hasInitializedApi:e.API.hasInitialized,preview:Object(gt.t)(e),fontFamily:e.Bootstrap.embedConfiguration.theme.fontFamily,iframeRepositionPending:z.h(e),iframeSize:z.i(e),sidebarOpen:z.l(e),widgetVisible:z.n(e),showConsentTakeover:z.k(e),isEmbeddedMessenger:z.g(e)}},function(e){return{actions:Object(g.bindActionCreators)({initializeApi:qt.a},e)}})(Yt)},function(e,t,n){"use strict";var r=n(106),a=n.n(r),o=n(21),i=n(5),s="@@HYDRATE_STATE",c=Object(i.b)(s);var u,l,d=n(404),_=n(1),p=n.n(_),f=n(298),m={message:void 0,sender:void 0,thankYouMessage:void 0,campaign:void 0,inboxId:void 0,attributes:void 0},b=n(47),g=n.n(b),h=n(24),v=n(18),E=n(4),y=n(94),O=n(3),C=n(2),T=O.Wa,M=O.w,I=O.x,P=O.v,A={activeCampaignsById:Object(C.Map)(),activeCampaignsNoAudienceById:Object(C.Map)()},S=n(76),D=n(343),k=n(172),w=n(93),j={attachmentsById:{}},R=function(e,t){var n={status:t,metadata:e},r=e.publicUrl;return n=p()({},n,{url:r}),function(e){return Object(k.a)(e,"image")}(e.mimeType)&&(n=p()({},n,{previewUrl:r})),n},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments[1],n=Object(D.a)(e.attachmentsById);switch(t.type){case w.b:return Object(S.a)(t.metadata.ids,function(e){n[e]=p()({},n[e],{status:"pending",metadata:{id:e}})}),p()({},e,{attachmentsById:n});case w.c:return Object(S.a)(t.payload,function(e){n[e.id]=p()({},n[e.id],R(e,"success"))}),p()({},e,{attachmentsById:n});case w.a:return Object(S.a)(t.metadata.ids,function(e){n[e]=p()({},n[e],{status:"failure"})}),p()({},e,{attachmentsById:n});case w.e:return p()({},e,{attachmentsById:n,status:t.type,error:null});case w.f:var r=t.payload;return n[r.id]=p()({},n[r.id],R(r,"success")),p()({},e,{attachmentsById:n,status:t.type,error:null});case w.d:return p()({},e,{attachmentsById:n,status:t.type,error:t.error});default:return e}},N=n(137),U=n(127),L=n(67),W=n(210),x=function(e){return"@@widget/externalApi/"+e},H=x("WIDGET_API"),K=x("EXTERNAL_IDENTIFY_SUCCESS"),F=n(48),q=function(e){return"@@widget/attributes/"+e},z=q("UPDATE_END_USER_ATTRIBUTES"),G=q("UPDATE_END_USER_ATTRIBUTES_PENDING"),V=q("UPDATE_END_USER_ATTRIBUTES_SUCCESS"),Y=q("UPDATE_END_USER_ATTRIBUTES_FAILURE"),Z=n(46),J=O.c,Q=O.Q,X={currentEndUser:void 0,authToken:void 0,segmentMembership:[],segmentMembershipFetched:!1,leadEmail:void 0,didConsentToRequestedConsentId:!1,externallyModifiedAttributes:void 0},$=function(e,t){switch(null==e&&(e=X),t.type){case J:var n=t.payload,r=n.accessToken,a=n.endUser,o=n.didConsentToRequestedConsentId;return Object(y.a)(e,{authToken:r,currentEndUser:a,didConsentToRequestedConsentId:!!o});case F.f:return Object(y.a)(e,{leadEmail:t.metadata.email});case F.b:var i=t.payload.email;return Object(y.a)(e,{leadEmail:i,currentEndUser:Object(y.a)(e.currentEndUser,{email:i})});case Q:return Object(y.a)(e,{segmentMembership:t.payload,segmentMembershipFetched:!0});case Z.i:return Object(y.a)(e,{didConsentToRequestedConsentId:!0});case K:var s=t.payload.attributes;return Object(y.a)(e,{externallyModifiedAttributes:p()({},e.externallyModifiedAttributes,s)});case V:var c=t.payload.toJS().attributes;return Object(y.a)(e,{externallyModifiedAttributes:p()({},e.externallyModifiedAttributes,c)});default:return e}},ee=n(531),te=n.n(ee),ne=O.Ma,re=O.e,ae=O.f,oe=O.Sa,ie=O.Z,se=O.y,ce=O.g,ue=O.S,le=O.R,de=O.U,_e=O.T,pe=O.Qa,fe=O.Fa,me=O.h,be=O.Ha,ge=O.Ia,he=O.Ga,ve=O.Pa,Ee=O.Ca,ye=O.Ba,Oe=O.Aa,Ce=O.Ka,Te=O.La,Me=O.Ra,Ie=O.u,Pe=O.t,Ae=O.s,Se={sidebarOpen:!1,sidebarTweening:!1,widgetVisible:window.__DRIFTT_SHOW_WIDGET_ON_BOOT__,widgetExpanded:!1,currentSidebarView:he,sentWelcomeMessage:!1,identifiedConversationId:void 0,iframeSize:void 0,iframeOverrides:void 0,iframeRepositionPending:!1,iframeWidth:void 0,iframeHeight:void 0,activationTakeoverOpen:!1,showTypingIndicatorButtonIcon:!1,emailCaptureSliderSubmitted:!1,emailCaptureSliderDismissed:!1,avatarUrl:void 0},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments[1];switch(t.type){case ne:return p()({},e,{sidebarOpen:!0,widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1});case re:return p()({},e,{sidebarOpen:!1,sidebarTweening:!1,activationTakeoverOpen:!1,showConsentTakeover:!1});case ae:return p()({},e,{sidebarOpen:!1,sidebarTweening:!0,activationTakeoverOpen:!1,showConsentTakeover:!1});case oe:return p()({},e,{widgetVisible:!0,sidebarOpen:!1,sidebarTweening:!1,activationTakeoverOpen:!1,showConsentTakeover:!1});case ie:return p()({},e,{widgetVisible:!1,activationTakeoverOpen:!1,showConsentTakeover:!1});case se:return p()({},e,{widgetExpanded:!0,activationTakeoverOpen:!1,showConsentTakeover:!1});case ce:return p()({},e,{widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1});case ue:return p()({},e,{sidebarOpen:!0,widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1,currentSidebarView:be,sentWelcomeMessage:te()(t.payload,"sentWelcomeMessage",!1),avatarUrl:te()(t.payload,"avatarUrl")});case _e:return p()({},e,{sidebarOpen:!0,widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1,currentSidebarView:ge});case le:return p()({},e,{sidebarOpen:!0,widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1,currentSidebarView:fe});case de:return p()({},e,{sidebarOpen:!0,widgetExpanded:!1,activationTakeoverOpen:!1,showConsentTakeover:!1,currentSidebarView:me});case ve:var n=t.payload.conversationId;return p()({},e,{identifiedConversationId:n});case F.b:return p()({},e,{identifiedConversationId:t.payload.conversationId});case pe:var r=t.payload.view;return p()({},e,{currentSidebarView:r});case Ee:return p()({},e,{iframeRepositionPending:!1,iframeWidth:t.payload.width,iframeHeight:t.payload.height});case ye:return p()({},e,{iframeSize:t.payload.size,iframeOverrides:void 0,iframeRepositionPending:t.payload.repositionPending||e.iframeRepositionPending});case Oe:return p()({},e,{iframeOverrides:t.payload.overrides});case Ce:return p()({},e,{activationTakeoverOpen:!0});case Te:return p()({},e,{showConsentTakeover:!0});case Z.c:return p()({},e,{showConsentTakeover:!1});case Z.b:return p()({},e,{showConsentTakeover:!1,emailCaptureSliderSubmitted:!1,emailCaptureSliderDismissed:!1});case Me:return p()({},e,{showTypingIndicatorButtonIcon:t.payload.showTypingIndicatorButtonIcon});case Ie:return p()({},e,{emailCaptureSliderSubmitted:!0});case Pe:return p()({},e,{emailCaptureSliderDismissed:!0});case Ae:return p()({},e,{emailCaptureSliderSubmitted:!1,emailCaptureSliderDismissed:!1});default:return e}},ke=n(85),we=n(128),je=n(394),Re=n(42),Be=n(7),Ne=n.n(Be),Ue=n(23),Le=n.n(Ue),We={},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments[1];switch(t.type){case"INTEGRATION_EVENT":var n=t.payload,r=n.integration,a=Le()(n,["integration"]);return p()({},e,Ne()({},r,a));default:return e}},He=n(95),Ke=n.n(He),Fe=function(e){return"@@widget/presence/"+e},qe=Fe("AUTHENTICATE"),ze=Fe("AUTHENTICATE_PENDING"),Ge=Fe("AUTHENTICATE_SUCCESS"),Ve=Fe("AUTHENTICATE_FAILURE"),Ye=Fe("CONNECT"),Ze=Fe("DISCONNECT"),Je=Fe("READY_STATE_CHANGED"),Qe=Fe("SEND_PACKET"),Xe=Fe("RECEIVE_PACKET"),$e=Fe("UPDATE_PRESENCE"),et=Fe("JOIN_ROOM_SUCCESS"),tt=Fe("JOIN_ROOM_FAILURE"),nt=Ke()({CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3}),rt=(Object(i.b)(qe),Object(i.b)(ze),Object(i.b)(Ge),Object(i.b)(Ve),Object(i.b)(Ye),Object(i.b)(Ze)),at=(Object(i.b)(Je),Object(i.b)(Qe)),ot=(Object(i.b)(Xe),Object(i.b)($e)),it=(Object(i.b)(et),Object(i.b)(tt),n(8)),st=n(15),ct=Object(C.Record)({userId:void 0,userIpAddress:void 0,sessionToken:void 0,readyState:nt.CLOSED}),ut=Object(i.c)((u={},Ne()(u,Ge,function(e,t){return e.set("userIpAddress",t.payload.remote_ip).set("userId",t.payload.user_id).set("sessionToken",t.payload.session_token)}),Ne()(u,Je,function(e,t){return e.set("readyState",t.payload)}),u),new ct),lt=function(e){return e.Presence},dt=Object(E.n)("has_presence"),_t=Object(E.n)("has_presence_beta"),pt=Object(E.n)("has_live_track"),ft=function(e){return dt(e)||_t(e)},mt=Object(it.createSelector)(E.i,E.q,function(e,t){return{userType:e&&e.type,userId:e&&e.id,email:e&&e.email||t}}),bt=Object(it.createSelector)(E.w,function(e){return{userAgent:navigator.userAgent,page:e.page,visits:e.visits,referrer:e.referrer,ad:e.ad,os:e.os,geo:e.geo,timezone:e.timezone,locale:e.locale}}),gt=Object(it.createSelector)(function(e){return lt(e).userIpAddress},mt,function(e){return{externalId:e.Bootstrap.externalId,anonymousId:e.Bootstrap.anonymousId}},bt,function(e,t,n,r){return p()({ip:e},t,n,r)}),ht=n(39),vt=n(14),Et=n(166),yt=(n(114),n(61),n(113),n(228),Object(i.b)(H)),Ot=Object(i.b)(K),Ct=n(31),Tt=n(25),Mt=Object(i.b)(Tt.a),It=(Object(i.b)(Tt.c),Object(i.b)(Tt.d)),Pt=Object(i.b)(Tt.b),At=Object(i.b)(Tt.e),St=(Object(i.b)(Tt.f),Object(i.b)(Tt.g)),Dt=Object(i.b)(Tt.i),kt=Object(i.b)(Tt.j),wt=Object(i.b)(Tt.h),jt=n(22),Rt=O.Da,Bt=O.Oa,Nt=O.c,Ut=O.N,Lt=Object(ht.combineEpics)(function(e,t){return e.ofType(Rt).filter(function(){return!Object(st.g)(t.getState())}).filter(function(){return!jt.v(t.getState())}).filter(function(){return ft(t.getState())}).map(function(){return Mt({clusterName:Tt.l.PRESENCE})})},function(e,t){return e.ofType(Nt).map(function(){return Mt({clusterName:Tt.l.PRESENCE})})},function(e,t){return e.ofType(Rt).filter(function(){return ft(t.getState())}).filter(function(){return!Object(E.C)(t.getState())}).map(U.b)},function(e,t){return e.ofType(Tt.i).pluck("payload").filter(function(e){return e.clusterName===Tt.l.PRESENCE}).filter(function(e){return e.channelName===Tt.k.USER}).switchMap(function(e){var t=e.channel,n=e.onMessageSubject;return vt.Observable.create(function(e){n.subscribe({next:function(t){var n=t.event,r=t.payload;n&&r&&n.startsWith("widget:")&&r.body&&e.next(yt({method:n.substring(7),options:r.body}))}}),t.on("conversation:start",function(t){var n=t.body;e.next(Object(ke.showWelcomeMessage)(n))}),t.on("change",function(t){var n=t.body,r=n.type,a=n.object,o=n.data;"CREATE"===r&&a&&"MESSAGE"===a.type&&e.next(Object(Ct.q)(o))})})})},function(e,t){return e.ofType(Tt.j).pluck("payload").filter(function(e){return e.clusterName===Tt.l.PRESENCE}).filter(function(e){return e.channelName===Tt.k.USER}).switchMap(function(n){var r=n.channel;return vt.Observable.create(function(){var n=e.ofType(Qe),a=new Et.Subscription;if(pt(t.getState())){var o=function(){r.push("live:track",gt(t.getState()))};o(),a.add(n.subscribe({next:function(){o()}}))}var i=function(){r.push("presence:update",gt(t.getState()))};return i(),a.add(n.subscribe({next:function(){i()}})),function(){a.unsubscribe()}})})},function(e){return e.ofType(Nt,F.f,Bt,Ut).map(function(){return ot()})},function(e,t){return e.ofType($e).filter(function(){return ft(t.getState())}).map(function(){return gt(t.getState())}).map(function(){return at()})}),Wt=n(169),xt=function(e){return"@@widget/clearbit/"+e},Ht=xt("FETCH_CLEARBIT"),Kt=xt("FETCH_CLEARBIT_SUCCESS"),Ft=xt("FETCH_CLEARBIT_FAILURE"),qt=Object(i.b)(Ht),zt=Object(i.b)(Kt),Gt=Object(i.b)(Ft),Vt=n(157),Yt=n(99),Zt=n(65),Jt=n(161),Qt=n(158),Xt=n(69),$t=n(56),en=Object(C.Set)(["targetAccount","targetAccountOwnerId"]),tn=function(e){return e.Clearbit},nn=function(e){return tn(e).get("statusByKey")},rn=Object(it.createSelector)(E.k,function(e){var t=e.campaigns.map(function(e){return e.conditions}),n=e.rules.map(function(e){return e.conditions}),r=Object(Yt.a)(Object(Vt.a)(t,n,e.theme.conditions)),a=Object(Zt.a)(r,function(e){return"clearbit"===e.field});return Object(Qt.a)(Object(Xt.a)(a,function(e){return e.value}))}),an=Object(it.createSelector)(E.k,function(e){var t=e.campaigns.map(function(e){return e.conditions}),n=e.rules.map(function(e){return e.conditions}),r=Object(Yt.a)(Object(Vt.a)(t,n,e.theme.conditions));return Object(Zt.a)(r,function(e){return en.has(e.field)}).length>0}),on=Object(it.createSelector)(E.k,function(e){var t=Object(Yt.a)(e.theme.conditions),n=Object(Zt.a)(t,function(e){return"clearbit"===e.field});return Object(Qt.a)(Object(Xt.a)(n,function(e){return e.value}))}),sn=Object(it.createSelector)(E.k,function(e){var t=Object(Yt.a)(e.theme.conditions);return Object(Zt.a)(t,function(e){return en.has(e.field)}).length>0}),cn=Object(it.createSelector)(E.z,$t.d,function(e,t){return!e||t}),un=Object(it.createSelector)(rn,nn,an,$t.d,function(e,t,n,r){return!(n&&!r)&&Object(Jt.a)(e,function(e){return"success"===t.get(e)})}),ln=(Object(it.createSelector)(on,nn,sn,$t.d,function(e,t,n,r){return!(n&&!r)&&Object(Jt.a)(e,function(e){return"success"===t.get(e)})}),n(102),n(135),n(199),n(151),n(81),n(562),[]),dn=Object(ht.combineEpics)(function(e,t){return e.filter(function(e){return-1!==ln.indexOf(e.type)}).filter(function(){return!cn(t.getState())||!un(t.getState())}).map(function(){var e=t.getState(),n=nn(e);return rn(e).filter(function(e){return"success"!==n.get(e)})}).map(function(e){return qt(e)})},function(e,t){return e.ofType(Ht).pluck("payload").switchMap(function(e){var n={orgId:Object(st.k)(t.getState())};return vt.Observable.ajax({url:h.e+"/reveal/v2?"+Object(v.c)(n),method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),Object(E.d)(t.getState())]),body:g()(e)}).map(function(e){return zt(Object(C.fromJS)(e.response))}).catch(function(){return vt.Observable.of(Gt(e))})})}),_n=Object(i.c)((l={},Ne()(l,Ht,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"pending")})})}),Ne()(l,Ft,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"failure"),e.setIn(["valuesByKey",t],!1)})})}),Ne()(l,Kt,function(e,t){var n=t.payload.get("reveal",Object(C.Map)());return e.withMutations(function(e){n.forEach(function(t,n){e.setIn(["statusByKey",n],"success"),e.setIn(["valuesByKey",n],t)})})}),l),Object(C.Map)({statusByKey:Object(C.Map)(),valuesByKey:Object(C.Map)()})),pn=n(84),fn=n(90),mn=n(55);function bn(e,t,n,r,a){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(C.Map)(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.type;if(s!==e&&s!==t&&s!==n&&s!==a)return o;var c=r(i);return o.update(c,function(r){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fn.c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(o.type){case a:return new fn.c;case e:return r.merge({pending:!0,success:!1,error:!1,lastFetched:+new Date});case t:return r.merge({pending:!1,success:!0});case n:return r.merge({pending:!1,error:!0,message:o.payload&&o.payload.error&&o.payload.error.message});default:return r}}(r,i)})}}var gn=function(e){return e.payload.agentId},hn=bn(mn.a,mn.c,mn.b,gn),vn=bn(mn.d,mn.g,mn.e,gn,mn.f);var En,yn,On,Cn,Tn,Mn,In,Pn,An,Sn=Object(o.combineReducers)({availabilityByAgentId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(C.Map)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case mn.a:case mn.c:return e.update(r.agentId,function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fn.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case mn.c:var a=Object(C.Set)(r.availability.slots);return e.set("agentTimeZone",r.availability.agentTimezone).update("slots",function(e){return e.union(a).sort()}).set("slotDuration",r.availability.slotDuration).set("nextRequestStartFrom",a.max());default:return e}}(e,t)});default:return e}},availabilityFetchStatusByAgentId:hn,appointmentsByConversationId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(C.Map)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case mn.g:return e.update(r.conversationId,new fn.b,function(e){return new fn.b(p()({},t.payload))});default:return e}},scheduleAppointmentFetchStatusByAgentId:vn}),Dn=(n(549),n(227),n(865),n(862),n(104)),kn=n(191),wn=n(97),jn=n.n(wn),Rn=n(153),Bn=n.n(Rn),Nn=Object(v.e)(),Un=h.e+"/scheduling",Ln=function(){var e=Bn()(jn.a.mark(function e(t,n){var r,a,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return jn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.meetingType,a=i.start,o=Un+"/"+n+"/availability?"+Object(v.c)({meetingType:r,start:a}),e.next=4,Object(v.b)(o,{method:"GET",headers:p()({},Nn,{Authorization:"bearer "+t})});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Wn=function(){var e=Bn()(jn.a.mark(function e(t){var n,r=t.accessToken,a=t.agentId,o=t.availabilitySlot,i=t.conversationId,s=t.meetingType;return jn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Un+"/"+a+"/schedule?"+Object(v.c)({conversationId:i,meetingType:s}),e.next=3,Object(v.b)(n,{method:"POST",headers:p()({},Nn,{Authorization:"bearer "+r}),body:g()(o)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),xn=Object(ht.combineEpics)(function(e,t){return e.ofType(mn.a).mergeMap(function(e){var n=e.payload,r=n.agentId,a=n.meetingType,o=n.start,i=Object(E.b)(t.getState());return vt.Observable.fromPromise(Ln(i,r,{meetingType:a,start:o})).map(function(e){return{availability:e,agentId:r,meetingType:a}}).map(pn.c).catch(function(e){return vt.Observable.of(Object(pn.b)({error:e,agentId:r,meetingType:a}))})})},function(e,t){return e.ofType(mn.d).mergeMap(function(e){var n=e.payload,r=n.agentId,a=n.availabilitySlot,o=n.conversationId,i=n.meetingType,s=Object(E.b)(t.getState());return vt.Observable.fromPromise(Wn({accessToken:s,agentId:r,availabilitySlot:a,conversationId:o,meetingType:i})).map(function(t){return Object(pn.g)(p()({},e.payload,t))}).catch(function(t){return vt.Observable.of(Object(pn.e)(p()({},e.payload,{error:new Error(t.message),meetingType:i})))})})},function(e,t){return e.ofType(mn.h).map(function(e){return{agentId:e.payload.agentId,campaignMessage:e.payload.campaignMessage,meetingType:e.payload.meetingType,widgetApiTriggered:e.payload.widgetApiTriggered}}).filter(function(e){return e.agentId}).map(function(e){var n=e.agentId,r=Le()(e,["agentId"]),a=Object(Dn.a)(t.getState(),{agentId:n});if(!a)throw new Error("Couldn't find agent with id \""+n+'"');return p()({agent:a},r)}).throttle(function(t){return e.ofType(O.k).race(vt.Observable.timer(1e3))}).mergeMap(function(n){return Object(E.b)(t.getState())?vt.Observable.of(n):e.ofType(O.c).map(function(){return n})}).map(function(e){var n=Object(E.l)(t.getState());return n?p()({},e,{endUserEmail:n}):e}).map(function(e){var n=e.agent,r=e.campaignMessage,a=e.meetingType,o=e.endUserEmail,i=e.widgetApiTriggered,s={body:"",attributes:{scheduleMeetingFlow:!0,scheduleMeetingWith:n.id,widgetApiTriggered:i,meetingType:a,endUserEmail:o},status:"BULK_SENT"};if(!r)return s;var c=r.attributes,u=c.senderId,l=c.noSenderId,d=c.automaticSender;return p()({},s,{inboxId:r.inboxId,attributes:p()({},s.attributes,{relatedCampaignId:r.attributes.campaignId,preMessages:Object(kn.c)(r,Object(kn.a)(t.getState(),u,l,d))})})}).map(function(e){return Object(Re.a)(e)})},function(e,t){return e.ofType(mn.g).map(function(e){var t=new fn.b(e.payload);return Object(Re.d)({conversationId:t.conversationId,body:"",attributes:{scheduleMeetingFlow:!0,scheduleMeetingWith:e.payload.agentId,meetingType:e.payload.meetingType,appointmentInfo:t.toJSON()}})})},function(e,t){return e.ofType(mn.h).filter(function(){return!t.getState().Bootstrap.hasBootstrapped}).map(function(){return Object(L.a)()})}),Hn=(n(256),n(856),n(111)),Kn=n(247),Fn=Object(ht.combineEpics)(function(e,t){return e.ofType(Hn.c).pluck("payload").mergeMap(function(t){var n=t.userId,r=t.userType,a=t.conversationId;return vt.Observable.merge(e.ofType(Hn.c,Hn.d).filter(function(e){return e.payload.userId===n&&e.payload.userType===r&&e.payload.conversationId===a}),vt.Observable.timer(5e3)).first().filter(function(e){return!e}).map(function(){return Kn.d({userId:n,userType:r,conversationId:a})})})},function(e,t){return e.ofType(Tt.i).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).switchMap(function(e){var t=e.channel;return vt.Observable.create(function(e){t.on("typing:started",function(t){e.next(Kn.c(t))}),t.on("typing:finished",function(t){e.next(Kn.d(t))})})})},function(e,t){return e.ofType(Tt.j).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).switchMap(function(n){var r=n.channel,a=e.ofType(Hn.a,Hn.b).map(function(e){var n=e.type,r=e.payload,a=Object(E.i)(t.getState());return{event:n===Hn.a?"typing:started":"typing:finished",data:p()({userId:a.id,userType:a.type,participants:[]},r)}});return vt.Observable.create(function(){var e=new Et.Subscription;return e.add(a.subscribe({next:function(e){var t=e.event,n=e.data;r.push(t,n)}})),function(){e.unsubscribe()}})})}),qn=Object(C.Record)({typingUsersByConversationId:Object(C.Map)()}),zn=Object(i.c)((En={},Ne()(En,Hn.c,function(e,t){var n=t.payload,r=n.userId,a=n.userType,o=n.conversationId;return e.updateIn(["typingUsersByConversationId",o],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(C.Set)()).add(Object(C.List)([a,r]))})}),Ne()(En,Hn.d,function(e,t){var n=t.payload,r=n.userId,a=n.userType,o=n.conversationId;return e.updateIn(["typingUsersByConversationId",o],function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(C.Set)()).remove(Object(C.List)([a,r]))})}),En),qn()),Gn=n(331),Vn=n(705),Yn=(n(311),n(36)),Zn=n(250),Jn=(n(548),n(547),yn={},Ne()(yn,Tt.l.MESSAGES,[Tt.k.USER]),Ne()(yn,Tt.l.PRESENCE,[Tt.k.USER]),yn),Qn=function(e){return Object(ht.combineEpics)(function(t,n){return t.ofType(Tt.a).pluck("payload").filter(function(t){return t.clusterName===e}).map(function(){var t=n.getState();return{apiBaseUrl:Zn.a(t,{clusterName:e}),authParams:Zn.b(t,{clusterName:e})}}).switchMap(function(t){return function(e){var t=e.apiBaseUrl,n=e.authParams;return vt.Observable.ajax({url:t+"/api/auth",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.e)(),body:g()(n)}).retryWhen(function(e){return e.scan(function(e,t){if(e>=3)throw t;return e+1},0).mergeMap(function(e){return vt.Observable.timer(2^1e3*e)})}).map(function(e){return{userIpAddress:e.response.remote_ip,userId:e.response.user_id,sessionToken:e.response.session_token}})}(t).map(function(t){return It(p()({clusterName:e},t))}).catch(function(t){return Yn.a.warn("Failed to authenticate to presence API -",t.xhr&&t.xhr.response),vt.Observable.of(Pt({clusterName:e,error:t}))})})},function(t,n){return t.ofType(Tt.d).pluck("payload").filter(function(t){return t.clusterName===e}).switchMap(function(r){var a=r.sessionToken,o=t.ofType(Tt.g).pluck("payload").filter(function(t){return t.clusterName===e});return vt.Observable.create(function(t){var r=new Vn.Socket(Zn.d(n.getState(),{clusterName:e})+"/ws",{params:{session_token:a}}),i=new Et.Subscription;return i.add(o.subscribe({next:function(a){var o=a.channelName,i=r.channel(Zn.c(n.getState(),{clusterName:e,channelName:o})),s=new Gn.Subject;i.onMessage=function(e,t,n){return s.next({event:e,payload:t,ref:n}),t},t.next(Dt({clusterName:e,channelName:o,channel:i,onMessageSubject:s})),i.join().receive("ok",function(n){t.next(kt({clusterName:e,channelName:o,channel:i}))}).receive("error",function(n){t.next(wt({clusterName:e,channelName:o,channel:i,error:n}))}).receive("timeout",function(){t.next(wt({clusterName:e,channelName:o,channel:i,error:"The request has timed out. please try again later"}))})}})),r.connect(),t.next(At({clusterName:e,socket:r})),function(){r.disconnect(function(){i.unsubscribe()})}}).takeUntil(t.ofType(Tt.f))})},function(t,n){return t.ofType(Tt.e).pluck("payload").filter(function(t){return t.clusterName===e}).flatMap(function(e){var t=e.clusterName;return Jn[t].map(function(e){return St({clusterName:t,channelName:e})})})})},Xn=Object(ht.combineEpics)(Qn(Tt.l.MESSAGES),Qn(Tt.l.PRESENCE)),$n=n(299),er=Object(i.c)((On={},Ne()(On,Tt.d,function(e,t){var n=t.payload,r=n.clusterName,a=n.userIpAddress,o=n.userId,i=n.sessionToken;return e.set(r,Object($n.b)({userIpAddress:a,userId:o,sessionToken:i,authenticateStatus:"success"}))}),Ne()(On,Tt.b,function(e,t){var n=t.payload.clusterName;return e.set(n,Object($n.b)({authenticateStatus:"failure"}))}),Ne()(On,Tt.e,function(e,t){var n=t.payload,r=n.clusterName,a=n.socket;return e.setIn([r,"socket"],a)}),Ne()(On,Tt.i,function(e,t){var n=t.payload,r=n.clusterName,a=n.channelName,o=n.channel,i=n.onMessageSubject;return e.setIn([r,"channels",a],Object($n.a)({channel:o,onMessageSubject:i}))}),On),Object(C.Map)()),tr=n(279),nr=Object(i.c)(Ne()({},tr.a,function(e,t){return t.payload}),!0),rr=Object(o.combineReducers)({visible:nr}),ar=n(80),or=Object(i.c)((Cn={},Ne()(Cn,ar.g,function(){return!1}),Ne()(Cn,ar.f,function(e,t){return 0===t.payload.filter(function(e){return"SENT"===e.status}).length}),Ne()(Cn,O.Oa,function(){return!0}),Cn),!0),ir=Object(i.c)((Tn={},Ne()(Tn,ar.a,function(e,t){return e.union(t.payload)}),Ne()(Tn,ar.f,function(e,t){var n=t.payload.filter(function(e){return"NOT_EVALUATED"!==e.status}).map(function(e){return e.campaignId});return e.union(n)}),Ne()(Tn,O.Oa,function(){return Object(C.Set)()}),Tn),Object(C.Set)()),sr=Object(i.c)((Mn={},Ne()(Mn,ar.e,function(e,t){return t.type}),Ne()(Mn,ar.d,function(e,t){return t.type}),Ne()(Mn,ar.f,function(e,t){return t.type}),Mn),!1),cr=Object(o.combineReducers)({enrollmentEnabled:or,enrolledCampaignIds:ir,bulkEnrollStatus:sr}),ur=function(e){return"@@widget/enrichment/clearbit/"+e},lr=ur("EVALUATE_CLEARBIT_TARGETING_CONDITIONS"),dr=ur("EVALUATE_CLEARBIT_TARGETING_CONDITIONS_SUCCESS"),_r=ur("EVALUATE_CLEARBIT_TARGETING_CONDITIONS_FAILURE"),pr=function(e){return"@@widget/enrichment/demandbase/"+e},fr=pr("EVALUATE_DEMANDBASE_TARGETING_CONDITIONS"),mr=pr("EVALUATE_DEMANDBASE_TARGETING_CONDITIONS_SUCCESS"),br=pr("EVALUATE_DEMANDBASE_TARGETING_CONDITIONS_FAILED"),gr=Object(i.c)(Ne()({},Object(i.a)(dr,_r,mr,br),function(){return!0}),!1),hr=Object(i.c)(Ne()({},Object(i.a)(dr,mr),function(e,t){return t.payload.get("account",Object(C.Map)())}),Object(C.Map)()),vr=Object(i.c)(Ne()({},Object(i.a)(dr,mr),function(e,t){return t.payload.get("segments",Object(C.List)())}),Object(C.List)()),Er=Object(o.combineReducers)({fetched:gr,account:hr,accountSegments:vr}),yr=Object(i.b)(fr),Or=Object(i.b)(mr),Cr=Object(i.b)(br),Tr=n(185),Mr=[O.Da,O.B,O.K],Ir=Object(ht.combineEpics)(function(e,t){return e.filter(function(e){return Mr.includes(e.type)}).filter(function(){return Object(E.I)("demandbase")(t.getState())}).map(function(){var e=t.getState(),n=Object(Tr.b)(e);return Object(Tr.a)(e).filter(function(e){return"success"!==n.get(e)})}).map(function(e){return yr(e)})},function(e,t){return e.ofType(fr).pluck("payload").mergeMap(function(e){var n=t.getState(),r=Object(E.i)(n),a={orgId:Object(st.k)(n)};return r&&(a.endUserId=r.id),function(e){var t=e.params,n=e.encryptedConditions;return vt.Observable.ajax({url:h.e+"/targeting/enrichment/demandbase?"+Object(v.c)(t),method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)()]),body:g()(n)}).map(function(e){return e.response})}({params:a,encryptedConditions:e}).map(function(e){return Or(Object(C.fromJS)(e))}).catch(function(){return vt.Observable.of(Cr(e))})})}),Pr=Object(i.c)((In={},Ne()(In,fr,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"pending")})})}),Ne()(In,br,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"failure"),e.setIn(["valuesByKey",t],Object(C.Map)())})})}),Ne()(In,mr,function(e,t){return e.withMutations(function(e){t.payload.get("conditions").forEach(function(t,n){e.setIn(["statusByKey",n],"success"),e.setIn(["valuesByKey",n],t)})})}),In),Object(C.Map)({statusByKey:Object(C.Map)(),valuesByKey:Object(C.Map)()})),Ar=Object(i.b)(lr),Sr=Object(i.b)(dr),Dr=Object(i.b)(_r),kr=n(160),wr=[O.Da,O.K],jr=Object(ht.combineEpics)(function(e,t){return e.filter(function(e){return-1!==wr.indexOf(e.type)}).filter(function(){return!Object(E.I)("demandbase")(t.getState())}).filter(function(){return!Object(kr.d)(t.getState())||!Object(kr.e)(t.getState())}).map(function(){var e=t.getState(),n=Object(kr.b)(e);return Object(kr.a)(e).filter(function(e){return"success"!==n.get(e)})}).map(function(e){return Ar(e)})},function(e,t){return e.ofType(lr).pluck("payload").mergeMap(function(e){var n=t.getState();return function(e){var t=e.params,n=e.encryptedConditions;return vt.Observable.ajax({url:h.e+"/targeting/enrichment/clearbit?"+Object(v.c)(t),method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)()]),body:g()(n)}).map(function(e){return e.response})}({params:{orgId:Object(st.k)(n)},encryptedConditions:e}).map(function(e){return Sr(Object(C.fromJS)(e))}).catch(function(){return vt.Observable.of(Dr(e))})})}),Rr=Object(i.c)((Pn={},Ne()(Pn,lr,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"pending")})})}),Ne()(Pn,_r,function(e,t){return e.withMutations(function(e){t.payload.forEach(function(t){e.setIn(["statusByKey",t],"failure"),e.setIn(["valuesByKey",t],!1)})})}),Ne()(Pn,dr,function(e,t){return e.withMutations(function(e){t.payload.get("conditions").forEach(function(t,n){e.setIn(["statusByKey",n],"success"),e.setIn(["valuesByKey",n],t)})})}),Pn),Object(C.Map)({statusByKey:Object(C.Map)(),valuesByKey:Object(C.Map)()})),Br=Object(ht.combineEpics)(Ir,jr),Nr=Object(o.combineReducers)({demandbase:Pr,clearbit:Rr}),Ur=(n(383),n(204),n(52)),Lr=n(283),Wr=Object(ht.combineEpics)(function(e){return e.ofType(Lr.a).pluck("payload").map(function(e){var t=e.conversationId,n=e.rating;return Object(Re.d)({conversationId:t,type:Ur.h,attributes:{rating:n}})})}),xr=n(19),Hr=Object(i.c)((An={},Ne()(An,xr.o,function(e,t){var n=t.payload;return e.withMutations(function(e){n.forEach(function(t){var n=t.getIn(["latestRating","attributes","rating"]);n&&e.set(t.getIn(["conversation","id"]),n)})})}),Ne()(An,Lr.a,function(e,t){var n=t.payload,r=n.conversationId,a=n.rating;return e.set(r,a)}),An),Object(C.Map)()),Kr=Object(o.combineReducers)({latestRatingByConversationId:Hr}),Fr=Object(o.combineReducers)({Bootstrap:L.d,ConversationUI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case f.b:var n=t.payload||{},r=n.message,a=n.sender,o=n.thankYouMessage,i=n.inboxId,s=n.attributes;return p()({},e,{message:r,sender:a,thankYouMessage:o,inboxId:i,attributes:s});case f.a:return p()({},e,{campaign:t.payload});default:return e}},Campaign:function(e,t){switch(null==e&&(e=A),null==t&&(t={}),t.type){case T:return Object(y.a)(e,t.payload);default:return e}},Attachment:B,DriftUser:W.a,EndUser:$,UI:De,API:je.b,Event:N.b,form:d.reducer,Targeting:U.a,Message:Re.e,WelcomeMessage:ke.default,AwayMessage:we.default,Integration:xe,Presence:ut,Cards:Wt.b,Clearbit:_n,Enrichment:Nr,ScheduleMeeting:Sn,Typing:zn,Socket:er,Visibility:rr,CampaignTargeting:cr,Accounts:Er,Rating:Kr}),qr=n(704),zr=n.n(qr),Gr=n(386),Vr=n(244),Yr=n.n(Vr),Zr=function(){var e=Bn()(jn.a.mark(function e(t,n){var r;return jn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Yr.a.isSetup()){e.next=2;break}return e.abrupt("return");case 2:e.t0=n.type,e.next=e.t0===O.c?5:e.t0===O.b?8:10;break;case 5:return(r=t.EndUser.currentEndUser)&&Yr.a.setUserContext(Object(Gr.a)(r,["name","id","orgId","status","type","externalId","email","avatarUrl"])),e.abrupt("break",10);case 8:return Yr.a.setUserContext(),e.abrupt("break",10);case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Jr=function(e){return function(t){return function(n){var r=t(n),a=e.getState();return Zr(a,n).catch(function(e){Yn.a.error(e,{action:n})}),r}}},Qr=n(140),Xr=n(240),$r=n(174),ea=Object(i.b)(ar.g),ta=Object(i.b)(ar.c),na=Object(i.b)(ar.f),ra=Object(i.b)(ar.e),aa=Object(i.b)(ar.d),oa=(Object(i.b)(ar.a),n(193)),ia=n(246),sa=n(170),ca=n(134),ua=n(30),la=n(88),da=Object(it.createSelector)(E.f,function(e){return e},E.G,kr.f,Tr.e,function(e,t,n,r,a){return!(!n&&Object(Qr.b)(e))&&(!!r&&(!(Object(E.I)("demandbase")&&!a)&&Object(Qr.a)(e,t)))}),_a=Object(it.createSelector)([Object(E.n)("show_chat_existing_conversations"),E.B],function(e,t){return Object(sa.a)(t)?e:!!t}),pa=Object(it.createSelector)(ua.b,_a,function(e,t){return t&&!e.isEmpty()}),fa=Object(it.createSelector)([E.F,E.E,da,E.e,E.g,E.u,pa],function(e,t,n,r,a,o,i){return function(e){var t=e.isEndUser,n=void 0!==t&&t,r=e.isChatEnabled,a=void 0===r||r,o=e.isChatTargeted,i=void 0===o||o,s=e.audience,c=void 0===s?ca.a:s,u=e.segments,l=void 0===u?[]:u,d=e.segmentMembership,_=void 0===d?[]:d,p=e.hasExistingConversations;return!(void 0===p||!p)||!!a&&!!i&&(c===ca.a||c!==ca.b&&(!(c!==ca.d||!n)||c===ca.c&&Object(ia.a)(l,_).length>0))}({isEndUser:e,isChatEnabled:t,isChatTargeted:n,audience:r,segments:a,segmentMembership:o,hasExistingConversations:i})}),ma=Object(it.createSelector)(la.h,la.f,la.g,function(e,t,n){return e&&t&&n}),ba=n(27),ga=n(338),ha=n(78),va=n(339),Ea=function(e){var t=e.getState(),n=t.Bootstrap.embedConfiguration,r=function(e){return Date.now()/1e3-function(e){return function(e){return function(e){return e.Targeting}(e).visits}(e).currentSessionStartedAt}(e)}(t),a=Object(Xt.a)(Object(jt.l)(t),function(e){return e.conditions}),o=Object(Vt.a)(a,n.theme.conditions),i=Object(Yt.a)(o),s=Object(Zt.a)(i,function(e){return"secondsOnPage"===e.field||"secondsOnSite"===e.field}),c=Object(Xt.a)(s,function(e){switch(e.field){case"secondsOnPage":return e.value;case"secondsOnSite":return e.value-Math.floor(r)}}),u=Object(Qt.a)(Object(Xt.a)(c),function(e){return Math.max(e,0)});Object(S.a)(u,function(t){setTimeout(function(){ya(e)},1e3*t)})},ya=function(e){var t=e.getState();if(function(e){if(Object(E.G)(e))return!1;if(Object(E.C)(e))return!1;var t=e.Bootstrap.embedConfiguration,n=Object(ha.a)(Object(jt.l)(e),function(e){return Object(Qr.b)(e.conditions)}),r=Object(Qr.b)(t.theme.conditions),a=Object(oa.b)(e);return n||r||a}(t))Object(E.H)(t)||e.dispatch(Object(U.b)());else if(Object(kr.e)(t)&&(!Object(E.I)("demandbase")||Object(Tr.d)(t))){var n=function(e){var t=Object(Zt.a)(Object(jt.l)(e),function(t){return $r.b(t)&&$r.c(t)&&$r.a(t,Object(E.i)(e),Object(E.u)(e),Object($t.c)(e))&&Object(Qr.a)(t.conditions,e)});return Object(ga.a)(t)}(t),r=Object(C.fromJS)(n).reduce(function(e,t){return e.set(t.get("id"),t)},Object(C.Map)()),a=function(e){var t=Object(Zt.a)(Object(jt.l)(e),function(t){return $r.b(t)&&$r.c(t)&&Object(Qr.a)(t.conditions,e)});return Object(ga.a)(t)}(t),o=Object(C.fromJS)(a).reduce(function(e,t){return e.set(t.get("id"),t)},Object(C.Map)());e.dispatch(function(e){var t=e.activeCampaignsById,n=e.activeCampaignsNoAudienceById;return{type:T,payload:{activeCampaignsById:t,activeCampaignsNoAudienceById:n}}}({activeCampaignsById:r,activeCampaignsNoAudienceById:o}));var i=Object(Xr.b)(t);if(0!==i.length)if(t.Bootstrap.hasBootstrapped){if(ma(t)&&(Object(E.J)(t)||!Object(jt.u)(t))&&(Object($t.d)(t)||!Object(jt.r)(t))){var s=i[0];Object(Xr.c)(t)&&r.has(s.id)&&e.dispatch(ta({campaignIds:[s.id],sessionId:Object(st.l)(t)}))}}else t.Bootstrap.isBootstrapping||e.dispatch(Object(L.a)())}},Oa=Object(va.a)(ya,1e3),Ca=Object(va.a)(function(e){var t=Object(st.f)(e.getState());t&&e.dispatch(Object(L.b)(t))},3e4),Ta=function(){return{type:O.Ea}},Ma=function(e){return function(t){return function(n){var r=t(n),a=e.getState();if(Object(ba.g)(a))return r;switch(n.type){case O.Da:!function(e){setTimeout(function(){e.dispatch(Ta())},2e3)}(e),Ea(e);break;case O.Ea:case O.B:case xr.l:case O.Q:ya(e);break;case O.N:case O.L:ya(e);break;case dr:case _r:case mr:case br:ya(e);break;case O.K:case O.Na:ya(e);break;case O.Oa:Ea(e),ya(e),Ca(e);break;case O.Y:case O.W:case O.X:Oa(e)}return r}}},Ia=n(59),Pa=n.n(Ia),Aa=n(91),Sa=n(20),Da=n(173),ka=n(215),wa=n(45),ja=n(87),Ra=n(148),Ba=n(54),Na=n(82),Ua=n(29),La=function(e){return"@@widget/interaction/"+e},Wa=La("START_BOT_INTERACTION"),xa=La("SDK_START_BOT_INTERACTION"),Ha=Object(i.b)(Wa),Ka=Object(i.b)(xa),Fa=Object(C.Set)(),qa=function(e){return!Fa.has(e)&&(Fa=Fa.add(e),!0)},za=0;var Ga=function(e){return{type:"@@SDK/EVENT",data:e}};function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||e.type!==xr.e)throw new Error("Cannot create campaign event message for action of type "+function(e){try{return null==e?g()(e):g()(e.type)}catch(t){return""+e.type}}(e));var t=Object(Sa.a)(e,"payload.conversationEvent.type",null),n=Object(Sa.a)(e,"payload.attributes.campaignId",null);if(n&&t){var r={campaignId:n};switch(t){case Ba.a:return{type:"campaign:click",payload:r};case Ba.e:return{type:"campaign:submit",payload:r};case Ba.d:return{type:"campaign:open",payload:r};case Ba.b:return{type:"campaign:dismiss",payload:r}}}return null}function Ya(e){var t=e.user;return t?{type:"scheduling:requestMeeting",payload:{teamMember:{id:t.id,name:t.name}}}:null}var Za=function(e){return function(t){return function(n){var r=t(n),a=e.getState();!function(e){var t=Object(ua.h)(e);za!==t&&(window.parent.postMessage(Ga({type:"notification",payload:{notificationCount:t}}),"*"),za=t)}(a);var o={data:{sidebarOpen:a.UI.sidebarOpen,widgetVisible:a.UI.widgetVisible,isOnline:Object(st.h)(a)}};switch(n.type){case O.Da:window.parent.postMessage(Ga({type:"ready",payload:o}),"*");break;case xr.t:if(function(e){return qa(e.id)}(n.payload)){var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(e&&e.type&&e.payload&&e.type===xr.t))return null;var r=Object(Sa.a)(e,"payload.authorType"),a=Object(Sa.a)(e,"payload.authorId"),o=r===wa.a.USER&&a&&Object(E.j)(t)[a];return o?{type:"message",payload:p()({},n,{conversationId:Object(Sa.a)(e,"payload.conversationId"),inboxId:Object(Sa.a)(e,"payload.inboxId"),teamMember:{id:o.id,name:o.name}})}:null}(n,a,o);if(i&&window.parent.postMessage(Ga(i),"*"),Object(kn.e)(n.payload)){var u=Object(Sa.a)(n,"payload.attributes.offerSchedule"),l=Object(E.j)(a)[u],d=l&&Ga(Ya({user:l}));d&&window.parent.postMessage(d,"*")}}break;case xr.e:var _=Va(n);_&&window.parent.postMessage(Ga({type:_.type,payload:p()({},o,_.payload)}),"*");break;case O.Ka:window.parent.postMessage(Ga({type:"activationSuccess"}),"*");break;case O.d:window.parent.postMessage(Ga({type:"activationClose"}),"*");break;case ja.d:window.parent.postMessage(Ga({type:"welcomeMessage:open"}),"*");break;case ja.b:window.parent.postMessage(Ga({type:"welcomeMessage:close"}),"*");break;case Ra.d:window.parent.postMessage(Ga({type:"awayMessage:open"}),"*");break;case Ra.b:window.parent.postMessage(Ga({type:"awayMessage:close"}),"*");break;case xr.H:window.parent.postMessage(Ga({type:"sliderMessage:close",payload:n.payload}),"*");break;case O.k:var f=Ga({type:"startConversation",payload:p()({},o,{conversationId:Object(Sa.a)(n,"payload.conversationId"),inboxId:Object(Sa.a)(n,"payload.inboxId")})});window.parent.postMessage(f,"*");break;case O.n:window.parent.postMessage(Ga({type:"message:sent",payload:p()({},o,{conversationId:Object(Sa.a)(n,"payload.conversationId"),inboxId:Object(Sa.a)(n,"payload.inboxId")})}),"*");break;case F.h:window.parent.postMessage(Object(Na.g)({endUser:{email:n.payload.attributes.email,type:"LEAD"}}),"*");break;case F.b:window.parent.postMessage(Object(Na.g)({endUser:{email:n.payload.email,type:"LEAD"}}),"*");break;case O.B:window.parent.postMessage(Object(Na.a)(),"*");break;case ja.e:window.parent.postMessage(n,"*");break;case mn.h:var m=Object(E.j)(a)[n.payload.agentId],b=m&&Ga(Ya({user:m}));b&&window.parent.postMessage(b,"*");break;case mn.g:window.parent.postMessage(Ga(function(e,t){if(!(e&&e.type&&e.payload&&e.type===mn.g))return null;var n=new fn.b(e.payload),r=Object(E.j)(t)[n.agentId];return r?{type:"scheduling:meetingBooked",payload:{conversationId:n.conversationId,teamMember:{id:r.id,name:r.name},meeting:{time:n.availabilitySlot,duration:n.slotDuration,timeZone:n.agentTimeZone}}}:null}(n,a)),"*");break;case F.l:case F.k:case ka.a:window.parent.postMessage(n,"*");break;case O.V:!function(e,t){var n=e.getState(),r=t.type,a=t.payload;switch(r){case"openActivationTakeover":return e.dispatch(Ua.displayActivationTakeover());case"scroll":return e.dispatch(Object(U.f)(a));case"mouseLeave":return e.dispatch(Object(U.e)(a));case"mouseEnter":return e.dispatch(Object(U.d)(a));case"slugChange":return e.dispatch(Ha(a));case"iframeResized":return e.dispatch(Ua.iframeResizeDone(window.innerWidth,window.innerHeight));case"integrationEvent":return e.dispatch({type:"INTEGRATION_EVENT",payload:a});case Da.a:return e.dispatch(rt());case O.Na:case Da.b:return e.dispatch(Object(L.c)(a));case O.Oa:case Da.c:return e.dispatch({type:O.Oa,payload:a});case s:case Da.d:if(!Object(E.L)(n,a))return void Yn.a.log("Not rehydrating store due to matching identifiers");var o=Object(Aa.a)({},n.UI,a.UI,{currentSidebarView:O.Ga}),i=Object(Aa.a)({},n.WelcomeMessage,a.WelcomeMessage),u=Object(Aa.a)({},n.AwayMessage,a.AwayMessage),l=Object(Aa.a)({},n.Targeting,a.Targeting),d=Object(Aa.a)({},n.DriftUser,a.DriftUser),_=Object(Aa.a)({},{externallyModifiedAttributes:n.EndUser.externallyModifiedAttributes}),f=p()({},a,{UI:o,WelcomeMessage:i,AwayMessage:u,DriftUser:d,Targeting:l,EndUser:_});return e.dispatch(c(f)).then(function(){var t=n.Bootstrap.embedConfigurationOverride;return t?e.dispatch(Object(L.c)(t)):Pa.a.resolve()});default:e.dispatch(yt({method:r,options:a}))}}(e,n.payload);break;case s:Object(E.a)(a)&&e.dispatch(Object(L.a)())}return r}}},Ja=n(89),Qa=n.n(Ja);var Xa=n(282),$a=function(e,t,n){var r=[],a=Object(C.Map)();Object(S.a)(e,function(e){e.attachments&&Object(S.a)(e.attachments,function(e){t.Attachment.attachmentsById[e]||r.push(e)});var n=function(e){if(e.attributes&&e.attributes.supportBotLinks)return[];var t=[],n=(new DOMParser).parseFromString(e.body||"","text/html");return Object(S.a)(n.getElementsByTagName("a"),function(e){/^mailto:/.test(e.href)||t.push(e.href)}),t}(e);n.length>0&&(a=a.set(e.id,Object(C.Set)(n)))}),a.isEmpty()||n.dispatch(Wt.a.updateLinks(a)),r.length>0&&n.dispatch(Object(Xa.b)(r))},eo=function(e){return function(t){return function(n){var r=t(n),a=e.getState();switch(n.type){case xr.r:$a(n.payload.toJS(),a,e);break;case xr.t:$a([n.payload],a,e);break;case O.j:n.metadata.options.goToConversation&&e.dispatch(Object(Re.f)(n.metadata.localConversationId));break;case O.k:a.Message.getIn(["messageIdsByConversationId",n.metadata.localConversationId],Object(C.List)()).filter(function(e){return e!==n.metadata.localConversationId}).map(function(e){return a.Message.getIn(["messagesById",e])}).sortBy(function(e){return e.get("createdAt")}).forEach(function(t){e.dispatch(Object(Re.d)({conversationId:n.payload.conversationId,body:t.get("body"),attachments:t.get("attachments").toJS(),createdAt:t.get("createdAt"),localId:t.getIn(["attributes","widgetGuid"])}))}),n.metadata.options.goToConversation&&e.dispatch(Object(Re.f)(n.payload.conversationId))}return r}}},to=new Audio(n(847)),no=function(e,t){(function(e){return!ro.has(e)&&(ro=ro.add(e),!0)})(t.id)&&e.Bootstrap.embedConfiguration.theme.soundNotificationEnabled&&function(e,t){return("hidden"===document.visibilityState||!e.UI.sidebarOpen)&&t&&"CHAT"===t.type&&t.authorType===wa.a.USER}(e,t)&&to.play()},ro=Object(C.Set)(),ao=function(e){return function(t){return function(n){var r=t(n),a=e.getState();switch(n.type){case xr.t:!function(e,t){no(e,t)}(a,n.payload)}return r}}},oo=n(35),io=Object(it.createSelector)(function(e){return e.WelcomeMessage},function(e){return e.active||e.hovered||e.dismissed}),so=Object(it.createSelector)(function(e){return e.AwayMessage},function(e){return e.active||e.dismissed}),co=Object(it.createSelector)([function(e){return e.UI},E.t,st.h,fa,io,so,E.o,ba.f,ba.m,ba.g],function(e,t,n,r,a,o,i,s,c,u){return function(e){var t=e.UI,n=void 0===t?{}:t,r=e.preview,a=void 0===r?{}:r,o=e.isOnline,i=void 0===o||o,s=e.isAudienceTargeted,c=void 0!==s&&s,u=e.isWelcomeMessageVisible,l=void 0!==u&&u,d=e.isAwayMessageVisible,_=void 0!==d&&d,p=(e.gates,e.emailCaptureSliderSubmitted),f=void 0!==p&&p,m=e.widgetHalfHeight,b=void 0!==m&&m,g=e.embeddedMessenger,h=void 0!==g&&g;return n.activationTakeoverOpen?oo.a:n.showConsentTakeover&&!f?b?oo.c:oo.b:n.showConsentTakeover&&f?oo.d:h?oo.e:n.sidebarOpen||n.sidebarTweening?b?oo.m:oo.l:"EMAIL_CAPTURE"===a.type?oo.h:"ANNOUNCEMENT_PREVIEW"===a.type&&a.attributes&&"WELCOME_MESSAGE"===a.attributes.campaignDisplayType?oo.r:a.attributes&&"TAKEOVER"===a.attributes.campaignDisplayType?oo.p:"ANNOUNCEMENT_PREVIEW"===a.type||"RECENT_MESSAGE_PREVIEW"===a.type?oo.n:"NO_PREVIEW"!==a.type?oo.k:l?oo.r:_?oo.g:n.widgetVisible&&c?i?oo.q:oo.f:oo.i}({UI:e,preview:t,isOnline:n,isAudienceTargeted:r,isWelcomeMessageVisible:a,isAwayMessageVisible:o,gates:i,emailCaptureSliderSubmitted:s,widgetHalfHeight:c,embeddedMessenger:u})}),uo=n(703);var lo=function(e){return function(t){return function(n){var r=e.getState(),a=t(n),o=e.getState(),i=co(o);return o.UI.iframeSize!==i?(window.parent.postMessage({type:"changeSize",displayType:i},"*"),i===oo.l?window.parent.postMessage({type:"enableSidebarModal"},"*"):o.UI.iframeSize===oo.l&&window.parent.postMessage({type:"disableSidebarModal"},"*"),e.dispatch(Object(Ua.iframeResize)(i,function(e,t){if(!e||!t)return!0;var n=oo.o[e].default,r=oo.o[t].default;return n.top!==r.top||n.left!==r.left||n.bottom!==r.bottom||n.right!==r.right}(i,o.UI.iframeSize)))):n.type===O.Aa&&function(e,t){return!Object(uo.a)(e.UI.iframeOverrides,t.UI.iframeOverrides)}(o,r)&&window.parent.postMessage({type:"changeSize",displayType:i,overrides:o.UI.iframeOverrides},"*"),a}}},_o=function(e){return function(t){return function(n){var r=t(n),a=e.getState();if(n&&n.type)switch(n.type){case N.a:var o=Object(ua.g)(a);e.dispatch(Object(Ua.setIdentifiedConversation)(o));break;case xr.o:if(a.UI.currentSidebarView===O.Ga){var i=Object(ua.b)(a);i.isEmpty()?e.dispatch(Object(Ua.setSidebarView)(O.Ha)):e.dispatch(Object(Re.i)(i.getIn([0,"id"])))}}return r}}},po=Object(i.b)(z),fo=Object(i.b)(G),mo=Object(i.b)(V),bo=Object(i.b)(Y),go=Object(ht.combineEpics)(function(e,t){return e.ofType(H).map(function(e){return e.payload}).map(function(e){var n=e.method,r=e.options;switch(n){case"showWidget":case"hideWidget":case"showWelcomeOrAwayMessage":case"openChat":case"hideChat":case"openSidebar":case"closeSidebar":case"toggleSidebar":case"goToNewConversation":case"goToConversationList":return Ua[n](r);case"showWelcomeMessage":case"hideWelcomeMessage":return ke[n](r);case"showAwayMessage":case"hideAwayMessage":return we[n](r);case"enrollInCampaign":return function(e){var t=e.campaignId,n=e.attributes;return function(e,r){var a=h.d+"/campaigns/"+t+"/enroll",o=Object(v.b)(a,{method:"POST",body:g()({attributes:n}),headers:Object(v.a)([Object(v.e)(),Object(E.d)(r())])});return e({types:[M,I,P],promise:o})}}(r);case"bootstrapEndUser":return Object(L.a)();case z:case Da.f:return po(r);case"startInteraction":return Object(st.q)(t.getState())?Ka(r):(Yn.a.warn("Unknown widget API call: "+n),null);case mn.h:case Da.e:return r&&r.agentId?(Yn.a.info("Starting schedule meeting flow for agent id = "+r.agentId+"…"),Object(pn.h)(r.agentId,{meetingType:r.meetingType,widgetApiTriggered:!0})):(Yn.a.warn("Malformed "+n+" payload. Expects 'agentId'",r),null);case"widgetEventV1":var a=Qa()(r,3),o=a[0],i=a[2];return"identify"===o?Ot({attributes:i}):null;default:return Yn.a.warn("Unknown widget API call: "+n),null}}).mergeMap(function(e){return e?vt.Observable.of(e):vt.Observable.empty()})}),ho=!1,vo=function(e,t){return e.mergeMap(function(){var e=t.getState(),n=e.UI.sidebarOpen,r={data:{sidebarOpen:n,widgetVisible:e.UI.widgetVisible,isOnline:Object(st.h)(e)}};if(n!==ho){ho=n;var a=n?"sidebarOpen":"sidebarClose";window.parent.postMessage(function(e){return{type:"@@SDK/EVENT",data:e}}({type:a,payload:r}),"*")}return vt.Observable.empty()})},Eo=function(e){return function(t){return Object(jt.f)(t).find(function(t){return t.attributes.interactionId===e})}},yo=function(e,t){var n={body:"",attributes:{withGreeting:!0,startInteraction:e},status:"BULK_SENT"};return t&&(n.inboxId=t.inboxId),n},Oo=Object(ht.combineEpics)(function(e,t){return e.ofType(Wa).waitForBootstrap(e,t).pluck("payload").map(function(e){return function(e){return function(t){var n=Object(E.k)(t).interactionSlugMap;return n&&n[e]}}(e.slug.replace(/^#/,""))(t.getState())}).filter(function(e){return!!e}).map(function(e){return Object(Re.a)(yo(e,Eo(e)))})},function(e,t){return e.ofType(Wa,xa).filter(function(){return!Object(jt.o)(t.getState())}).filter(function(){return Object(jt.a)(t.getState())}).map(function(){return Object(L.a)()})},function(e,t){return e.ofType(xa).waitForBootstrap(e,t).pluck("payload").filter(function(e){return!!e.interactionId}).map(function(e){var n=e.interactionId;return Object(Re.a)(yo(n,Eo(n)(t.getState())))})}),Co=n(188),To=n(333),Mo=Object(v.e)(),Io=function(){var e=Bn()(jn.a.mark(function e(t,n){return jn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.b)(h.d+"/agents/"+n+"/status",{method:"GET",headers:p()({},Mo,{Authorization:"bearer "+t})}));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),Po=function(e,t){return e.ofType(Co.a).pluck("payload").mergeMap(function(e){var n=Object(E.b)(t.getState());return vt.Observable.fromPromise(Io(n,e)).map(function(t){return To.c(p()({},t,{agentId:e}))}).catch(function(t){return vt.Observable.of(To.b({error:t,agentId:e}))})})},Ao=(n(846),n(845),n(356),n(401)),So=n(98),Do=Object(C.Set)(),ko=Object(ht.combineEpics)(function(e,t){var n=t.dispatch;return e.ofType(xr.C).mergeMap(function(t){var r=t.payload;return n(Object(So.a)()),e.ofType(Z.c).first().map(function(){return Object(Re.c)(r)}).takeUntil(e.ofType(Z.b))})},function(e,t){var n=t.dispatch;return e.ofType(xr.x).mergeMap(function(t){var r=t.payload;return n(Object(So.a)()),e.ofType(Z.c).first().map(function(){return Object(Re.b)(r)}).takeUntil(e.ofType(Z.b))})},function(e,t){return e.ofType(xr.s).map(function(e){return e.payload.messageId}).filter(function(e){return Object(la.j)(t.getState(),{messageId:e})}).mergeMap(function(n){return function(e){return function(e){return e.Visibility}(e).visible}(t.getState())?vt.Observable.of(n):e.ofType(tr.a).filter(function(e){return!!e.payload}).map(function(){return n}).first()}).map(function(e){return Ct.x(e)})},function(e,t){return e.ofType(Tt.j).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).first().map(function(){var e=t.getState();return{endUserId:Object(E.i)(e).id,authorizationHeader:Object(E.d)(e)}}).mergeMap(function(e){return function(e){var t=e.endUserId,n=e.limit,r=void 0===n?50:n,a=e.authorizationHeader,o={limit:r,onlyInboxVisible:!0};return vt.Observable.ajax({url:h.d+"/conversations/end_users/"+t+"/extra?"+Object(v.c)(o),method:"GET",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),a])}).map(function(e){return Object(C.fromJS)(e.response)})}(e).map(function(e){return Ct.l(e)}).catch(function(e){return vt.Observable.of(Ct.k(e))})})},function(e,t){return e.ofType(Tt.j).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).first().map(function(){var e=t.getState();return{endUserId:Object(E.i)(e).id,sessionId:Object(st.l)(e),authorizationHeader:Object(E.d)(e)}}).mergeMap(function(e){return function(e){var t=e.endUserId,n=e.sessionId,r=e.limit,a=void 0===r?50:r,o=e.authorizationHeader,i={sessionId:n,limit:a};return vt.Observable.ajax({url:h.d+"/conversations/end_users/"+t+"/campaigns2?"+Object(v.c)(i),method:"GET",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),o])}).map(function(e){return Object(C.fromJS)(e.response)}).map(function(e){return Object(Ao.b)(e)})}(e).map(function(e){return Ct.h(e)}).catch(function(e){return vt.Observable.of(Ct.g(e))})})},function(e,t){return e.ofType(Tt.j).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).first().map(function(){var e=t.getState();return{campaignIds:Object(jt.l)(e).map(function(e){return e.id}),authorizationHeader:Object(E.d)(e)}}).mergeMap(function(e){var n=Object(st.l)(t.getState());return function(e){var t=e.sessionId,n=e.campaignIds,r=e.authorizationHeader;return vt.Observable.ajax({url:h.d+"/campaigns/enrolled_at",method:"POST",crossDomain:!0,responseType:"json",body:g()({sessionId:t,campaignIds:n}),headers:Object(v.a)([Object(v.e)(),r])}).map(function(e){return Object(C.fromJS)(e.response).mapEntries(function(e){var t=Qa()(e,2),n=t[0],r=t[1];return[parseInt(n),r]}).filter(function(e){return!!e})})}(p()({},e,{sessionId:n})).map(function(e){return Ct.j(e)}).catch(function(e){return vt.Observable.of(Ct.i(e))})})},function(e,t){return e.ofType(xr.p).map(function(e){return p()({},e.payload,{authorizationHeader:Object(E.d)(t.getState())})}).mergeMap(function(e){return function(e){var t=e.conversationId,n=e.authorizationHeader;return vt.Observable.ajax({url:h.d+"/conversations/"+t+"/messages?"+Object(v.c)({withReceipts:!0}),method:"GET",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),n])}).map(function(e){return Object(C.fromJS)(e.response)})}(e).map(function(e){return Ct.o(e)}).catch(function(e){return vt.Observable.of(Ct.n(e))})})},function(e,t){return e.ofType(xr.f,xr.a).mergeMap(function(t){var n=t.type===xr.a,r=t.payload,a=Object(Sa.a)(r,"attributes.widgetGuid"),o=Object(Sa.a)(r,"attributes.clientTimestamp"),i=e.ofType(xr.t).pluck("payload").filter(function(e){return Object(Sa.a)(e,"attributes.widgetGuid")===a}).filter(function(e){return!Do.has(a)}),s=e.ofType(n?O.i:O.l).pluck("metadata","message").filter(function(e){return Object(Sa.a)(e,"attributes.widgetGuid")===a}).do(function(){Yn.a.log("Canceling scheduled timeout for failed message send "+a)});return vt.Observable.merge(i,vt.Observable.timer(15e3)).first().mergeMap(function(e){var t=Date.now()-o;if(t<0)return Yn.a.warn("not logging negative message round trip time"),vt.Observable.empty();Do=Do.add(a);var r=!e;return r?Yn.a.warn("message took longer than timeout: "+t+"ms, newConvo="+n+", timeout="+r):Yn.a.log("message round trip time: "+t+"ms, newConvo="+n+", timeout="+r),vt.Observable.of(Ct.r({isFirstMessage:n,isTimeout:r,roundTripMilliseconds:t}))}).takeUntil(s)})},function(e,t){return e.ofType(xr.u).map(function(e){return p()({},e.payload,{authorizationHeader:Object(E.d)(t.getState())})}).mergeMap(function(e){return function(e){var t=e.isFirstMessage,n=e.isTimeout,r=e.roundTripMilliseconds,a=e.authorizationHeader,o=[],i=t?"conversationRoundTripTime":"messageRoundTripTime";return o.push({name:i,value:r}),n&&o.push({name:i+"-timeout",value:1}),vt.Observable.ajax({url:h.d+"/stats/widget",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),a]),body:g()(o)})}(e).map(function(){return Ct.t()}).catch(function(e){return vt.Observable.of(Ct.s(e))})})},function(e,t){return e.ofType(Tt.i).pluck("payload").filter(function(e){return e.clusterName===Tt.l.MESSAGES}).filter(function(e){return e.channelName===Tt.k.USER}).switchMap(function(e){var t=e.channel;return vt.Observable.create(function(e){t.on("change",function(t){var n=t.body,r=n.type,a=n.object,o=n.data;"CREATE"===r&&a&&"MESSAGE"===a.type&&e.next(Object(Ct.q)(o))}),t.on("event",function(t){var n=t.body,r=n.type,a=n.data;"emailCapture"===r&&e.next(Object(Na.b)(a))})})})},function(e,t){return e.ofType(O.c).map(function(){return Mt({clusterName:Tt.l.MESSAGES})})},function(e,t){var n=t.dispatch;return e.ofType(xr.y).mergeMap(function(t){var r=t.payload;return n(Object(So.a)()),e.ofType(Z.c).first().map(function(){return Ct.b(r)}).takeUntil(e.ofType(Z.b))})},function(e,t){var n=t.getState;return e.ofType(xr.b).pluck("payload").mergeMap(function(e){return function(e){var t=e.conversationId,n=e.type,r=e.authorizationHeader,a=e.conversationEventExtra,o=void 0===a?void 0:a;return vt.Observable.ajax({url:h.d+"/conversations/"+t+"/messages",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),r]),body:g()({type:"CONVERSATION_EVENT",conversationEvent:p()({type:n},o)})}).map(function(e){return e.response})}(p()({},e,{authorizationHeader:Object(E.d)(n())})).map(function(e){return Ct.e(e)}).startWith(Ct.d(e)).catch(function(t){return vt.Observable.of(Ct.c(p()({},e,{error:t})))})})},function(e){return e.ofType(O.k).pluck("payload").mergeMap(function(e){var t=e.attributes,n=t.email,r=t.integrations;return n?vt.Observable.of(Ct.b({conversationId:e.conversationId,type:Ba.c,conversationEventExtra:{email:n,leadCapture:{email:n,integrations:r,context:e.context}}})):vt.Observable.empty()})},function(e){return e.ofType(xr.i).pluck("payload").map(function(e){return e.filter(function(e){return"Read"!==e.getIn(["messages",0,"viewerRecipientStatus"])}).map(function(e){return e.get("conversation")}).filter(function(e){return!!e.get("campaignId")}).reduce(function(e,t){return e.add(t.get("campaignId"))},Object(C.Set)())}).map(function(e){return Ct.B(e)})}),wo=function(e){return"@@widget/integration/"+e},jo=wo("IDENTIFY_BY_HUBSPOT_UTK"),Ro=wo("IDENTIFY_BY_HUBSPOT_UTK_SUCCESS"),Bo=wo("IDENTIFY_BY_HUBSPOT_UTK_FAILURE"),No=wo("IDENTIFY_BY_MARKETO_MUNCHKIN"),Uo=wo("IDENTIFY_BY_MARKETO_MUNCHKIN_SUCCESS"),Lo=wo("IDENTIFY_BY_MARKETO_MUNCHKIN_FAILURE"),Wo=(Object(i.b)(jo),Object(i.b)(Ro)),xo=Object(i.b)(Bo),Ho=(Object(i.b)(No),Object(i.b)(Uo)),Ko=Object(i.b)(Lo),Fo=Object(ht.combineEpics)(function(e,t){return e.ofType("INTEGRATION_EVENT").pluck("payload").filter(function(e){return"hubspot"===e.integration}).filter(function(e){return!!e.isNewUtk}).map(function(e){var n=t.getState();return{utk:e.utk,orgId:n.Bootstrap.orgId,anonId:n.Bootstrap.anonymousId}}).mergeMap(function(e){return function(e){return vt.Observable.ajax({url:h.e+"/integrations/hubspot/utk",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)()]),body:g()(e)}).map(function(e){return e.response}).map(function(e){if(e.email)return e;throw new Error("No identity for utk")})}(e).retryWhen(function(e){return e.scan(function(e,t){if(e>=3)throw t;return e+1},0).mergeMap(function(e){return vt.Observable.timer(5e3*e)})}).map(function(e){return Wo(e)}).catch(function(e){return vt.Observable.of(xo(e))})})},function(e,t){return e.ofType(Ro).pluck("payload").filter(function(e){return!!e.email}).map(function(){return Object(L.a)()})},function(e,t){return e.ofType("INTEGRATION_EVENT").pluck("payload").filter(function(e){return"marketo"===e.integration}).filter(function(e){return!!e.isNewMunchkinCookie}).map(function(e){var n=t.getState();return{munchkin:e.munchkinValue,orgId:n.Bootstrap.orgId,anonId:n.Bootstrap.anonymousId}}).mergeMap(function(e){return function(e){return vt.Observable.ajax({url:h.e+"/integrations/marketo/munchkin",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)()]),body:g()(e)}).map(function(e){return e.response}).map(function(e){if(e.email)return e;throw new Error("No identity for munchkin")})}(e).retryWhen(function(e){return e.scan(function(e,t){if(e>=3)throw t;return e+1},0).mergeMap(function(e){return vt.Observable.timer(5e3*e)})}).map(function(e){return Ho(e)}).catch(function(e){return vt.Observable.of(Ko(e))})})},function(e,t){return e.ofType(Uo).pluck("payload").filter(function(e){return!!e.email}).map(function(){return Object(L.a)()})}),qo=n(205),zo=n(192),Go=O.a,Vo=O.c,Yo=O.b,Zo=O.P,Jo=O.Q,Qo=O.O,Xo=function(e){var t=e.externalId,n=e.email,r=e.anonymousId,a=e.orgId,o=e.oneshotToken,i=e.consentId,s={};s=null!=t?{user_id:t,email:n,oneshot_token:o}:{lead_id:r,oneshot_token:o};var c={method:"POST",headers:Object(v.d)(),body:Object(v.c)(Object(zo.a)({},s,{org_id:a,grant_type:"sdk",redirect_uri:"http://localhost:3000/",client_id:h.c,skip_layer:!0,consent_id:i}))},u=Object(v.b)(h.b+"/oauth/token",c);return{types:[Go,Vo,Yo],promise:u}},$o=n(130),ei=Object(i.b)(ka.a),ti=n(132),ni=[O.Ma,O.S,O.R,O.U],ri=[xr.n,Tt.b],ai=Object(ht.combineEpics)(function(e,t){return e.ofType(O.K,O.B).switchMap(function(){return vt.Observable.timer(3e5,6e5).map(function(){return Object(st.f)(t.getState())}).map(function(e){return Object(qo.b)(e)})})},function(e,t){var n=t.getState;return e.ofType(O.c).map(function(){return Object(W.c)(Object(st.k)(n()))})},function(e,t){var n=t.getState;return e.ofType(O.c).filter(function(){return!Object(E.J)(n())&&jt.u(n())}).map(function(){var e=n();return function(e,t){return function(n,r){var a={method:"GET",headers:Object(v.a)([Object(v.e)(),Object(E.d)(r())])},o=Object(v.b)(h.e+"/end_users/"+e+"/memberships?orgId="+t,a);return n({types:[Zo,Jo,Qo],promise:o})}}(Object(E.i)(e).id,Object(st.k)(e))})},function(e,t){var n=t.getState;return e.ofType(O.Da).filter(function(){return jt.v(n())}).filter(function(){return jt.a(n())}).map(function(){return Object(qo.a)()})},function(e,t){var n=t.getState;return e.ofType.apply(e,ni).filter(function(){return jt.a(n())}).map(function(){return Object(qo.a)()})},function(e,t){var n=t.getState;return e.ofType(O.z).map(function(){var e=n(),t=Object(st.k)(e),r=jt.i(e),a=jt.e(e),o=jt.h(e),i=jt.j(e),s=Object($o.c)(e);return Xo(r?{externalId:r,email:o,orgId:t,oneshotToken:i,consentId:s}:{anonymousId:a,email:o,orgId:t,oneshotToken:i,consentId:s})})},function(e,t){var n=t.getState;return e.ofType(O.c).pluck("payload","endUser").mergeMap(function(e){var t=e.primaryIdentity,r=e.type,a=n(),o=jt.i(a),i=jt.e(a);return o?t!==o&&r===ti.a&&(o=t):t!==i&&(r===ti.a?o=t:r===ti.b&&(i=t)),vt.Observable.of(Object(Na.h)({externalId:o,anonymousId:i}))})},function(e,t){t.getState;return e.ofType(O.c).switchMap(function(){return e.ofType(xr.o).first().map(function(){return{type:O.B}})})},function(e,t){var n=t.getState;return e.ofType.apply(e,ri).filter(function(){return jt.t(n())}).filter(function(e){return jt.s(n())}).map(function(){return{type:O.A}})},function(e,t){var n=t.getState;return e.ofType(O.c).filter(function(){return!!jt.j(n())}).pluck("payload","endUser").mergeMap(function(e){var t=e.primaryIdentity,r=e.type,a=n(),o=jt.i(a),i=jt.e(a);if(o){if(t!==o){if(r===ti.a)return vt.Observable.of(Object(Na.i)({externalId:t}));console.warn("Cannot convert end user type from END_USER to LEAD")}}else if(t!==i){if(r===ti.a)return vt.Observable.of(Object(Na.i)({externalId:t}));if(r===ti.b)return vt.Observable.of(Object(Na.i)({anonymousId:t}));console.warn("Unknown end user type",r)}return vt.Observable.empty()})},function(e,t){var n=t.getState;return e.ofType(O.c).filter(function(){return!!jt.j(n())}).pluck("payload","assignedAgentId").filter(function(e){return!!e}).map(function(e){return ei(e)})}),oi=(n(838),n(342)),ii=n(273),si=Object(ht.combineEpics)(function(e,t){return e.ofType(O.Ba).filter(function(e){return e.payload.size!==oo.i}).first().filter(function(e){return e.payload.size===oo.q}).mergeMap(function(){return vt.Observable.race(vt.Observable.timer(Object(st.n)(t.getState())),e.ofType(O.Ba)).first().filter(function(e){return!e}).filter(function(){return Object(oi.c)(t.getState())}).map(function(){return ii.d({forceMobilePopUp:!0,msgFromFirstPopup:!0})})})}),ci=Object(ht.combineEpics)(function(e){return e.ofType(O.Ba).pluck("payload","size").filter(function(e){return e===oo.n||e===oo.g||e===oo.r||e===oo.h||e===oo.p||e===oo.k}).first().map(ea)},function(e,t){return e.ofType(ar.c).filter(function(){return Object(Xr.a)(t.getState())!==ar.e}).pluck("payload").mergeMap(function(e){return vt.Observable.ajax({url:h.d+"/campaigns/bulk_enroll",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),Object(E.d)(t.getState())]),body:g()(e)}).pluck("response").map(na).startWith(ra()).catch(function(){return vt.Observable.of(aa())})})}),ui=Object(ht.combineEpics)(function(e,t){return e.ofType(z).pluck("payload").map(function(e){return{orgId:Object(st.k)(t.getState()),userId:Object(st.g)(t.getState()),anonymousId:Object(st.a)(t.getState()),attributes:e}}).mergeMap(function(e){return function(e){var t=e.attributes,n=e.orgId,r=e.userId,a=e.anonymousId;return vt.Observable.ajax({url:h.g+"/identify",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)()]),body:g()({orgId:n,userId:r,anonymousId:a,attributes:t})}).map(function(e){return Object(C.fromJS)(e.response)})}(e).map(function(e){return mo(e)}).startWith(fo({attributes:e.attributes})).catch(function(e){return vt.Observable.of(bo(e))})})}),li=Object(ht.combineEpics)(function(e,t){var n=t.getState;return e.ofType(Z.f).mergeMap(function(){var e=n(),t=$o.d(e).message,r=$o.c(e);return function(e){var t=e.endUserId,n=e.consentId,r=e.message,a=e.authorizationHeader;return vt.Observable.ajax({url:h.e+"/end_users/"+t+"/consent",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),a]),body:g()({consentId:n,message:r})})}({endUserId:Object(E.i)(e).id,consentId:r,message:t,authorizationHeader:Object(E.d)(e)}).map(function(){return So.f()}).catch(function(e){return vt.Observable.of(So.e(e))})})},function(e,t){var n=t.getState,r=t.dispatch;return e.ofType(Z.a).filter(function(){return!Object(ba.k)(n())}).mergeMap(function(){var t=n(),a=$o.b(t);if($o.a(t)||!$o.e(t)&&a===Z.d.NONE)return r(So.c());if($o.e(t)||a===Z.d.ALL)return r(Object(Ua.displayConsentTakeover)()),e.ofType(Z.i).map(function(){return So.c()}).takeUntil(e.ofType(Z.b));if(a===Z.d.EU){var o=function(){return $o.f(n())?(r(Object(Ua.displayConsentTakeover)()),e.ofType(Z.i).map(function(){return So.c()}).takeUntil(e.ofType(Z.b))):r(So.c())};return Object(E.G)(t)?o():(Object(E.H)(t)||r(Object(U.b)()),e.ofType(O.N,O.L).mergeMap(o))}return vt.Observable.empty()})}),di=Object(ht.combineEpics)(function(e,t){var n=t.dispatch;return e.ofType(F.i).mergeMap(function(t){var r=t.payload;return n(Object(So.a)()),e.ofType(Z.c).first().map(function(){return Na.c(r)}).takeUntil(e.ofType(Z.b))})},function(e,t){var n=t.dispatch;return e.ofType(F.j).mergeMap(function(t){var r=t.payload;return n(Object(So.a)()),e.ofType(Z.c).first().map(function(){return Na.d(r)}).takeUntil(e.ofType(Z.b))})}),_i=n(390),pi=n(409),fi=n(702),mi=n(34),bi=n(28),gi=n(51),hi=function(e){var t=e.authorizationHeader,n=e.metric,r=e.value,a=e.dimensions;return vt.Observable.ajax({url:h.k+"/monitoring/metrics/add",method:"POST",crossDomain:!0,responseType:"json",headers:Object(v.a)([Object(v.e)(),t]),body:{metric:n,dimensions:a,value:r}})},vi=function(e,t){return t+"="+e},Ei=function(e,t){return e+":"+Object(Xt.a)(Object(_i.a)(t,Object(fi.a)(pi.a)),vi).join(";")},yi=Object(ht.combineEpics)(function(e,t){return e.ofType(bi.e).pluck("payload").mergeMap(function(e){var n=e.view,r=e.version,a=t.getState(),o=Object(E.d)(a),i=Object(st.s)(a),s=Object(st.k)(a),c=Object(E.r)(a),u=Ei("widget.impression",{view:n,version:r,locale:c,mobile:Object(mi.b)(),branding_enabled:i,org_1:1===s});return hi({value:1,dimensions:{type:"counter"},metric:u,authorizationHeader:o}).map(gi.h).startWith(gi.g()).catch(function(){return vt.Observable.of(gi.f())})})},function(e,t){return e.ofType(bi.a).pluck("payload").mergeMap(function(e){var n=e.view,r=e.version,a=e.ctaType,o=t.getState(),i=Object(E.d)(o),s=Object(st.s)(o),c=Object(st.k)(o),u=Object(E.r)(o),l=Ei("widget.click",{view:n,version:r,locale:u,cta_type:a,mobile:Object(mi.b)(),branding_enabled:s,org_1:1===c});return hi({value:1,dimensions:{type:"counter"},metric:l,authorizationHeader:i}).map(gi.d).startWith(gi.c()).catch(function(){return vt.Observable.of(gi.b())})})}),Oi=[li,di,Lt,Wt.c,go,xn,dn,Br,Fn,ko,Fo,Xn,ai,Oo,Po,si,ci,ui,vo,Wr,yi],Ci=ht.combineEpics.apply(void 0,Oi);var Ti=Object(ht.createEpicMiddleware)(Ci),Mi=[zr.a,function(e){var t=this,n=e.dispatch,r=e.getState;return function(e){return function(){var a=Bn()(jn.a.mark(function a(o){var i,s,c,u,l,d,_,f;return jn.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof o){t.next=2;break}return t.abrupt("return",o(n,r));case 2:if(i=o.promise,s=o.types,c=Le()(o,["promise","types"]),i){t.next=5;break}return t.abrupt("return",e(o));case 5:return u=Qa()(s,3),l=u[0],d=u[1],_=u[2],n(p()({},c,{type:l})),t.prev=7,t.next=10,i;case 10:return f=t.sent,t.abrupt("return",n(p()({},c,{payload:f,type:d})));case 14:return t.prev=14,t.t0=t.catch(7),Yn.a.error(t.t0,{action:o}),t.abrupt("return",n(p()({},c,{error:t.t0,type:_})));case 18:case"end":return t.stop()}},a,t,[[7,14]])}));return function(e){return a.apply(this,arguments)}}()}},Jr,Za,eo,ao,Ma,_o,lo,Ti];function Ii(e){var t=void 0;t=Object(o.compose)(o.applyMiddleware.apply(void 0,a()(Mi)));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return function(n,r){switch(r.type){case t:return e(r.payload,r);default:return e(n,r)}}}(Fr);return Object(o.createStore)(n,e,t)}n.d(t,"a",function(){return Ii})},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),a=n.n(r),o=n(244),i=n.n(o),s=n(24),c=[/https?:\/\/((js|www)\.)?driftt?\.com/,/https?:\/\/((customer|event|conversation)\.)(dev\.)?api\.driftt?\.com/,/https?:\/\/s3\.amazonaws\.com\/js-driftt?-com/],u=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/extensions\//i,/^chrome:\/\//i,/^file:\/\//i],l=["Error in websocket connection","Failed to fetch","Network request failed"];var d=.1;function _(){return function(e){return/^https?:\/\/(.+\.)?drift\.com/.test(e)}(document.referrer)&&Math.random()<=d}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a()({logger:"drift-sdk-js",release:__BUILD_ID__,whitelistUrls:c,ignoreUrls:u,ignoreErrors:l,shouldSendCallback:_},e);i.a.config(s.n,t).install()}},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(97),a=n.n(r),o=n(106),i=n.n(o),s=n(153),c=n.n(s),u=n(17),l=n(40),d=n.n(l),_=n(2),p=n(36),f=Object(_.Set)(["en","es","de","de-DE","de-DE-formal","hi","hu","et","is","nl","pt","pt-PT","pt-BR","sv","zh","fr","it","tr","ru","pl","sl","da","fi","hr","ko","nb","ro","sr","th","vi","ja","ka"]);function m(e){for(;!f.includes(e)&&-1!==e.indexOf("-");)e=e.substring(0,e.lastIndexOf("-"));if(f.includes(e))return e;throw new Error("Unsupported locale "+e)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";switch(e){case"en":return n(964);case"es":return n(963);case"et":return n(962);case"de":case"de-DE":case"de-DE-formal":return n(961);case"hi":return n(960);case"hu":return n(959);case"is":return n(958);case"nl":return n(957);case"pt":case"pt-PT":case"pt-BR":return n(956);case"sv":return n(955);case"zh":return n(954);case"fr":return n(953);case"it":return n(952);case"pl":return n(951);case"ru":return n(950);case"tr":return n(949);case"sl":return n(948);case"da":return n(947);case"fi":return n(946);case"hr":return n(945);case"ko":return n(944);case"nb":return n(943);case"ro":return n(942);case"sr":return n(941);case"th":return n(940);case"vi":return n(939);case"ja":return n(938);case"ka":return n(937);default:throw new Error('Unsupported locale "'+e+'"')}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";switch(e){case"en":break;case"es":return n(936);case"et":return n(935);case"de":case"de-DE":case"de-DE-formal":return n(934);case"hi":return n(933);case"hu":return n(932);case"is":return n(931);case"nl":return n(930);case"pt":case"pt-PT":return n(929);case"pt-BR":return n(928);case"sv":return n(927);case"zh":return n(926);case"fr":return n(925);case"it":return n(924);case"pl":return n(923);case"ru":return n(922);case"tr":return n(921);case"sl":return n(920);case"da":return n(919);case"fi":return n(918);case"hr":return n(917);case"ko":return n(916);case"nb":return n(915);case"ro":return n(914);case"sr":return n(913);case"th":return n(912);case"vi":return n(911);case"ja":return n(910);case"ka":return n(909);default:throw new Error('Unsupported locale "'+e+'"')}}var h=function(){var e=c()(a.a.mark(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=m(n),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("Unsupported locale "+n);case 7:e.prev=7,t=b(n),Object(u.g)([].concat(i()(t))),e.next=16;break;case 12:throw e.prev=12,e.t1=e.catch(7),p.a.warn('Failed to load react-intl locale data for "'+n+'"'),e.t1;case 16:e.prev=16,g(n),d.a.locale(n),e.next=25;break;case 21:throw e.prev=21,e.t2=e.catch(16),p.a.warn('Failed to load moment locale data for "'+n+'"'),e.t2;case 25:case"end":return e.stop()}},e,this,[[0,4],[7,12],[16,21]])}));return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(89),b=n.n(m),g=n(0),h=n(16),v=n(17),E=n(2),y=n(36),O=n(4),C=n(706),T=n(908),M=n(907),I=n(906),P=n(905),A=n(904),S=n(903),D=n(902),k=n(901),w=n(900),j=n(899),R=n(898),B=n(897),N=n(896),U=n(895),L=n(894),W=n(893),x=n(892),H=n(891),K=n(890),F=n(889),q=n(888),z=n(887),G=n(886),V=n(885),Y=n(884),Z=n(883),J=n(882),Q={en:T,es:M,et:I,de:P,"de-DE-formal":A,fr:N,it:U,hi:S,hu:n(881),is:n(880),nl:D,pt:k,"pt-BR":w,"pt-PT":k,sv:j,zh:R,"zh-HK":B,pl:L,ru:W,tr:x,sl:H,da:K,fi:F,hr:q,ko:z,nb:G,ro:V,sr:Y,th:Z,vi:J,ja:n(879),ka:n(878)};var X=function(t){function n(e){c()(this,n);var t=_()(this,(n.__proto__||i()(n)).call(this,e));return t.polyfillLocale=function(e){Object(C.a)(e).then(function(){t.setState({locale:e,locales:t.state.locales.add(e)})}).catch(function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];y.a.error(t,a()({locale:e},r))})},t.state={locale:void 0,locales:Object(E.Set)()},t}return f()(n,t),l()(n,[{key:"componentWillMount",value:function(){this.polyfillLocale(this.props.locale)}},{key:"componentWillReceiveProps",value:function(e){this.props.locale!==e.locale&&(this.state.locales.includes(e.locale)?this.setState({locale:e.locale}):this.polyfillLocale(e.locale))}},{key:"render",value:function(){var t=this.state.locale;if(t){var n=t.split("-"),r=b()(n,1)[0],a=Q[t]||Q[r];return e.createElement(v.f,{locale:function(e){var t=e.split("-"),n=b()(t,2),r=n[0],a=n[1];return a?r+"-"+a:r}(t),messages:a},this.props.children)}return e.createElement("div",null)}}]),n}(g.Component);X.propTypes={locale:g.PropTypes.string,children:g.PropTypes.node.isRequired},X.defaultProps={locale:"en"},t.a=Object(h.connect)(function(e){return{locale:Object(O.r)(e)}})(X)}).call(this,n(0))},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var r=n(1),a=n.n(r),o=n(0),i=n(17),s=Object(i.h)({returnKey:{id:"system.key.return",description:"The return key on the keyboard",defaultMessage:"return"},enterKey:{id:"system.key.enter",description:"The enter key on the keyboard",defaultMessage:"enter"},submitKeyHint:{id:"app.composer.submitKeyHint",description:"Hint text for submitting the form by hitting the return/enter key",defaultMessage:"{key} to submit"}});function c(t){var n=t.isAppleDevice?s.returnKey:s.enterKey,r=e.createElement("span",{className:"dsg-bold-weight"},e.createElement(i.b,n));return e.createElement(i.b,a()({},s.submitKeyHint,{values:{key:r}}))}c.propTypes={isAppleDevice:o.PropTypes.bool}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(10),c=n.n(s),u=n(12),l=n.n(u),d=n(11),_=n.n(d),p=n(6),f=n.n(p),m=n(13),b=n.n(m),g=n(0),h=n(381),v=n(380),E=n(709),y=n.n(E),O=n(9),C=n.n(O),T=n(79),M=n.n(T),I=n(382),P=function(t){function n(){var e,t,r,a;l()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=f()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(i))),r.state={hoverDismiss:!1},r.scheduleSyncIframe=function(){window.requestAnimationFrame&&window.requestAnimationFrame(function(){r.syncIframe()}),window.setTimeout(function(){r.syncIframe()},0)},r.syncIframe=function(){if(r.node){var e=r.node.offsetHeight,t=r.node.offsetWidth;r.props.onResize&&r.props.onResize({width:t,height:e})}},r.handleDismissMouseEnter=function(){r.setState({hoverDismiss:!0})},r.handleDismissMouseLeave=function(){r.setState({hoverDismiss:!1})},a=t,f()(r,a)}return b()(n,t),_()(n,[{key:"componentDidMount",value:function(){this.scheduleSyncIframe()}},{key:"componentDidUpdate",value:function(){this.scheduleSyncIframe()}},{key:"render",value:function(){var t=this,n=this.props,r=n.className,o=n.style,s=i()(n,["className","style"]),c=s.brandColor,u=s.onDismiss,l=s.dismissed,d=s.submitted,_=s.isAppleDevice,p={backgroundColor:this.state.hoverDismiss?"#"+c:null},f=l?M.a.slideOut:M.a.slideIn;return e.createElement("div",{ref:function(e){t.node=e},className:C()(r,M.a.EmailCaptureSlider,f),style:o},e.createElement("div",{className:C()("flex-1",M.a.EmailCaptureSlider__Bubble)},e.createElement(y.a,{transitionName:"cross-fade",transitionEnterTimeout:250,transitionLeaveTimeout:250},d?e.createElement(v.a,a()({key:"submitted"},s)):e.createElement(h.a,a()({key:"unsubmitted",isAppleDevice:_},s)))),e.createElement("div",{className:C()("flex-center",M.a.EmailCaptureSlider__Dismiss),style:p,onMouseEnter:this.handleDismissMouseEnter,onMouseLeave:this.handleDismissMouseLeave,onClick:u},e.createElement("img",{src:I})))}}]),n}(g.Component);P.propTypes={className:g.PropTypes.string,style:g.PropTypes.object,bodyNode:g.PropTypes.node,title:g.PropTypes.string,thankYouMessageNode:g.PropTypes.node,thankYouHeadline:g.PropTypes.string,organizationName:g.PropTypes.string,showBranding:g.PropTypes.bool,brandColor:g.PropTypes.string,avatarUrl:g.PropTypes.string,dismissed:g.PropTypes.bool,submitted:g.PropTypes.bool,isAppleDevice:g.PropTypes.bool,onSubmit:g.PropTypes.func,onDismiss:g.PropTypes.func,onResize:g.PropTypes.func},P.defaultProps={brandColor:"0176FF",isAppleDevice:!1},t.a=P}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(10),c=n.n(s),u=n(12),l=n.n(u),d=n(11),_=n.n(d),p=n(6),f=n.n(p),m=n(13),b=n.n(m),g=n(0),h=n(16),v=n(21),E=n(711),y=n(4),O=n(29),C=n(27),T=n(137),M=n(34),I=n(54),P=n(31),A=function(t){function n(){var e,t,r,a;l()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=f()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(i))),r.handleResize=function(e){var t=e.height;r.props.actions.iframeOverrideSize({height:t+"px"})},r.handleDismiss=function(){r.props.emailCaptureSliderDismissed||(r.props.actions.emailCaptureSliderDismissed(),setTimeout(function(){r.props.actions.createConversationEvent({conversationId:r.props.conversationId,type:I.b}),r.props.actions.emailCaptureSliderCleared(),r.props.actions.markAsRead({messageId:r.props.messageId})},1e3))},r.handleSubmit=function(e){if(!r.props.emailCaptureSliderSubmitted){var t=r.props,n=t.orgId,a=t.externalId,o=t.anonymousId,i=t.currentEndUser,s=t.integrations,c=t.context;i&&"LEAD"!==i.type?i&&"END_USER"===i.type&&r.props.actions.identifyEndUser(n,a,e,{_lastCampaignId:r.props.campaignId}):r.props.actions.identifyLead(n,o,e,{_lastCampaignId:r.props.campaignId}),r.props.actions.emailCaptureSliderSubmitted(),r.props.actions.requestCreateConversationEvent({conversationId:r.props.conversationId,type:I.c,conversationEventExtra:{email:e,leadCapture:{email:e,integrations:s,context:c}}}),r.props.actions.requestCreateConversationEvent({conversationId:r.props.conversationId,type:I.e})}},a=t,f()(r,a)}return b()(n,t),_()(n,[{key:"render",value:function(){var t=this.props,n=t.body,r=t.thankYouMessage,o=t.sender,s=t.emailCaptureSliderSubmitted,c=t.emailCaptureSliderDismissed,u=i()(t,["body","thankYouMessage","sender","emailCaptureSliderSubmitted","emailCaptureSliderDismissed"]),l=e.createElement("div",{dangerouslySetInnerHTML:{__html:n}}),d=e.createElement("div",{dangerouslySetInnerHTML:{__html:r}}),_=o?o.avatarUrl:null;return e.createElement(E.a,a()({onResize:this.handleResize,onDismiss:this.handleDismiss,onSubmit:this.handleSubmit,bodyNode:l,thankYouMessageNode:d,avatarUrl:_,isAppleDevice:Object(M.a)(),submitted:s,dismissed:c},u))}}]),n}(g.Component);A.propTypes={orgId:g.PropTypes.number,externalId:g.PropTypes.string,anonymousId:g.PropTypes.string,currentEndUser:g.PropTypes.shape({type:g.PropTypes.string}),organizationName:g.PropTypes.string,showBranding:g.PropTypes.bool,brandColor:g.PropTypes.string,messageId:g.PropTypes.number,conversationId:g.PropTypes.number,campaignId:g.PropTypes.number,body:g.PropTypes.string,title:g.PropTypes.string,thankYouMessage:g.PropTypes.string,thankYouHeadline:g.PropTypes.string,integrations:g.PropTypes.object,context:g.PropTypes.object,sender:g.PropTypes.shape({avatarUrl:g.PropTypes.string}),emailCaptureSliderSubmitted:g.PropTypes.any,emailCaptureSliderDismissed:g.PropTypes.any,actions:g.PropTypes.shape({identifyEndUser:g.PropTypes.func.isRequired,identifyLead:g.PropTypes.func.isRequired,iframeOverrideSize:g.PropTypes.func.isRequired,markAsRead:g.PropTypes.func.isRequired,createConversationEvent:g.PropTypes.func.isRequired,requestCreateConversationEvent:g.PropTypes.func.isRequired,emailCaptureSliderSubmitted:g.PropTypes.func.isRequired,emailCaptureSliderDismissed:g.PropTypes.func.isRequired,emailCaptureSliderCleared:g.PropTypes.func.isRequired})};t.a=Object(h.connect)(function(e,t){var n=e.Bootstrap,r=n.orgId,a=n.externalId,o=n.anonymousId,i=n.embedConfiguration,s=i.organizationName,c=i.showBranding,u=i.integrations,l=i.theme.backgroundColor,d=e.EndUser.currentEndUser,_=t.message,p=_.attributes,f=_.body,m=p.title,b=p.thankYouMessage,g=p.thankYouHeadline,h=p.senderId,v=p.noSenderId,E=p.campaignId,O=!v&&h,T=O?e.DriftUser.driftUsersById[O]:null;return{orgId:r,externalId:a,anonymousId:o,organizationName:s,showBranding:c,currentEndUser:d,messageId:_.id,conversationId:_.conversationId,body:f,title:m,thankYouMessage:b,thankYouHeadline:g,sender:T,campaignId:E,brandColor:l,integrations:u,context:Object(y.s)(e),connectionStatus:Object(y.h)(e),emailCaptureSliderSubmitted:C.f(e),emailCaptureSliderDismissed:C.e(e)}},function(e){return{actions:Object(v.bindActionCreators)({identifyLead:T.d,identifyEndUser:T.c,markAsRead:P.p,createConversationEvent:P.b,requestCreateConversationEvent:P.v,emailCaptureSliderSubmitted:O.emailCaptureSliderSubmitted,emailCaptureSliderDismissed:O.emailCaptureSliderDismissed,emailCaptureSliderCleared:O.emailCaptureSliderCleared,iframeOverrideSize:O.iframeOverrideSize},e)}})(A)}).call(this,n(0))},function(e,t,n){"use strict";var r=n(16),a=n(340);t.a=Object(r.connect)(function(e,t){var n=t.agentId,r=e.Bootstrap.embedConfiguration.organizationName,a=e.DriftUser.driftUsersById[n];return a?{displayName:a.name,orgName:r,sender:a}:{}})(a.c)},,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0),a=n(9),o=n.n(a),i=n(405),s=n(340),c=n(532),u=n.n(c),l=function(t){var n=t.body,r=t.ctaCopy,a=t.ctaHref,c=t.headline,l=t.onCloseClick,d=t.onCtaClick,_=t.primaryColor,p=t.secondaryColor,f=t.showBranding,m=t.brandingContent,b=t.theme,g=t.children;return e.createElement(i.HotKeys,{keyMap:{onEscape:["escape"]},handlers:{onEscape:l},style:{width:"100%",height:"100%"}},e.createElement("div",{className:o()(u.a.ProductAnnouncement,"fadeIn","flex-column","flex-center")},e.createElement(s.a,{onCloseClick:l,theme:b},e.createElement(s.b,{headline:c,theme:b,primaryColor:_,secondaryColor:p,onCtaClick:d,ctaCopy:r,ctaHref:a,brandingContent:m,showBranding:f},e.createElement("div",{className:u.a.ProductAnnouncement__Content},e.createElement("div",{dangerouslySetInnerHTML:{__html:n}})),g))))};l.propTypes={body:r.PropTypes.string.isRequired,ctaCopy:r.PropTypes.string,ctaHref:r.PropTypes.string,headline:r.PropTypes.string.isRequired,onCloseClick:r.PropTypes.func,onCtaClick:r.PropTypes.func,primaryColor:r.PropTypes.string,secondaryColor:r.PropTypes.string,theme:r.PropTypes.string,showBranding:r.PropTypes.bool,brandingContent:r.PropTypes.node,children:r.PropTypes.any},t.a=l}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(21),g=n(16),h=n(75),v=n(721),E=n(713),y=n(92),O=n(29),C=n(31),T=n(54),M=n(84),I=n(110),P=n(51),A=n(28),S=e.createElement(h.a,{utmContent:A.i.TAKEOVER}),D=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.handleCtaClick=function(){switch(r.props.actions.createConversationEvent({conversationId:r.props.message.conversationId,type:T.a}),r.props.actions.markAsRead({messageId:r.props.message.id}),r.props.ctaType){case"CHAT_RESPONSE":return r.handleChatResponseCtaClick();case"SCHEDULE_MEETING":return r.handleScheduleMeetingCtaClick()}},r.handleChatResponseCtaClick=function(){if("CHAT_RESPONSE"===r.props.ctaType){var e=r.props,t=e.body,n=e.headline,a=e.senderId,o=e.campaignId,i=e.inboxId;r.props.actions.goToNewConversationForCampaign({campaignId:o,inboxId:i,campaignMessage:r.props.message,messages:[{id:Object(I.a)(),body:n,sender:{id:a}},{id:Object(I.a)(),body:t,sender:{id:a}}]})}},r.handleScheduleMeetingCtaClick=function(){"SCHEDULE_MEETING"===r.props.ctaType&&r.props.senderId&&r.props.actions.startScheduleMeetingFlow(r.props.senderId,{campaignMessage:r.props.message})},r.handleCloseClick=function(){r.props.actions.createConversationEvent({conversationId:r.props.message.conversationId,type:T.b}),r.props.actions.markAsRead({messageId:r.props.message.id})},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.props.actions.trackImpression({view:A.i.TAKEOVER}),this.props.actions.createConversationEvent({conversationId:this.props.message.conversationId,type:T.d})}},{key:"renderSenderInfo",value:function(){var t=this.props.senderId;if(t)return e.createElement(E.a,{agentId:t})}},{key:"render",value:function(){return e.createElement(v.a,a()({onCtaClick:this.handleCtaClick,onCloseClick:this.handleCloseClick,brandingContent:S},this.props),this.renderSenderInfo())}}]),n}(m.Component);D.propTypes={campaignId:m.PropTypes.number,inboxId:m.PropTypes.number,body:m.PropTypes.string,headline:m.PropTypes.string,message:m.PropTypes.object,theme:m.PropTypes.oneOf([y.a.LIGHT,y.a.DARK]),ctaCopy:m.PropTypes.string,ctaType:m.PropTypes.oneOf(["LINK_TO_URL","CHAT_RESPONSE","SCHEDULE_MEETING"]),ctaHref:m.PropTypes.string,senderId:m.PropTypes.number,showBranding:m.PropTypes.bool,actions:m.PropTypes.shape({createConversationEvent:m.PropTypes.func.isRequired,goToNewConversationForCampaign:m.PropTypes.func.isRequired,startScheduleMeetingFlow:m.PropTypes.func.isRequired,markAsRead:m.PropTypes.func.isRequired})},t.a=Object(g.connect)(function(e,t){var n=e.Bootstrap.embedConfiguration,r=t.message,a=r.authorId,o=r.inboxId,i=r.body,s=r.attributes,c=s.cta,u=s.title,l=s.campaignTheme,d=s.senderId,_=s.noSenderId;return{campaignId:s.campaignId,message:r,inboxId:o,body:i,headline:u,senderId:!_&&(d||a),theme:l,ctaCopy:c&&c.copy,ctaType:c&&c.CtaType,ctaHref:c&&c.UrlLink,primaryColor:"#"+n.theme.backgroundColor,secondaryColor:"#"+n.theme.foregroundColor,showBranding:n.showBranding}},function(e){return{actions:Object(b.bindActionCreators)({createConversationEvent:C.b,goToNewConversationForCampaign:O.goToNewConversationForCampaign,startScheduleMeetingFlow:M.h,markAsRead:C.p,trackImpression:P.e},e)}})(D)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(129),m=n(212),b=(n(75),n(28)),g=(n(34),n(224)),h=n.n(g),v=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.onClick,r=t.onDismissClick,a=t.children,o=t.name,i=t.bot;t.showBranding,i?b.i.MESSAGE_CALLOUT_BOT:b.i.MESSAGE_CALLOUT_USER;return e.createElement("div",{className:h.a.Slider},e.createElement(m.a,null,e.createElement("div",{className:h.a.FlexContentWrapper,key:"slider"},e.createElement("div",{className:h.a.DismissButtonWrapper},e.createElement(f.b,{className:h.a.DismissButton,onClick:r})),e.createElement(f.a,{onClick:n},e.createElement("div",{className:h.a.Content},e.createElement("div",{className:h.a.ContentHeader},e.createElement("div",{className:h.a.ContentHeaderSender},o),!1),a)))))}}]),n}(p.Component);v.propTypes={children:p.PropTypes.node,onClick:p.PropTypes.func.isRequired,onDismissClick:p.PropTypes.func.isRequired},t.a=v}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(129),m=n(212),b=n(50),g=n.n(b),h=n(121),v=n.n(h),E=n(723),y=n(303),O=n.n(y),C=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.onClick,r=t.onDismissClick,a=t.children;return e.createElement("div",{className:O.a.Slider},e.createElement(m.a,null,e.createElement("div",{className:O.a.FlexContentWrapper,key:"slider"},e.createElement("div",{className:O.a.DismissButtonWrapper},e.createElement(f.b,{className:O.a.DismissButton,onClick:r})),e.createElement(f.a,{onClick:n},e.createElement("div",{className:O.a.Content},a)))))}}]),n}(p.Component);C.propTypes={children:p.PropTypes.node,onClick:p.PropTypes.func.isRequired,onDismissClick:p.PropTypes.func.isRequired},t.a=g()(function(e){return e.showNewCallout},v()(E.a))(C)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(0),i=n(17),s=Object(i.h)({attachmentCount:{id:"app.message.attachmentCount",description:"Displays a messages's number of attachments",defaultMessage:"{count, plural,\n        =0 {No attachments}\n        one {1 attachment}\n        other {# attachments}\n      }"}}),c=function(t){return e.createElement(i.b,a()({},s.attachmentCount,{values:{count:t.count}}))};c.propTypes={count:o.PropTypes.number.isRequired},t.a=c}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(21),g=n(16),h=n(20),v=n(396),E=n(725),y=n(724),O=n(77),C=n(29),T=n(42),M=n(4),I=n(15),P=n(31),A=n(88),S=n(51),D=n(28),k=function(t){var n=t.attachmentCount,r=t.messagePreview,a=t.maxLength;if("string"==typeof r){var o=r.length>a?r.trim().slice(0,a)+"…":r.trim();if(o)return e.createElement("span",null,o)}return n>0?e.createElement(E.a,{count:n}):e.createElement("span",null,e.createElement("em",null,"No preview"))};k.propTypes={messagePreview:m.PropTypes.string,attachmentCount:m.PropTypes.number,maxLength:m.PropTypes.number},k.defaultProps={attachmentCount:0,maxLength:100};var w=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.handleClick=function(e){var t=r.props,n=t.actions,a=t.view,o=t.version,i=t.message;n.trackClick({ctaType:"content",view:a,version:o}),n.markConversationAsRead(i.get("conversationId")),n.goToConversation(i.get("conversationId"))},r.handleDismissClick=function(){var e=r.props,t=e.actions,n=e.version,a=e.view,o=e.driftUsersById,i=e.message,s=e.conversation;t.trackClick({ctaType:"dismiss",view:a,version:n});var c=o[i.get("authorId")];t.sliderMessageDismissed({botMessage:c&&!!c.bot,userInteractedWithConversation:"BULK_SENT"===!s.get("status")}),t.markConversationAsRead(i.get("conversationId"))},r.handleResize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.height,n=e.width;r.props.actions.iframeOverrideSize({height:t?t+"px":void 0,width:n?n+"px":void 0})},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.actions,n=e.version,r=e.view;t.trackImpression({view:r,version:n})}},{key:"render",value:function(){var t=this.props,n=t.message,r=t.avatarUrl,a=t.bot,o=t.name,i=t.showNewCallout,s=n.get("attachments").size,c=n.getIn(["attributes","preview"]);return e.createElement(v.a,{avatarUrl:r,bot:a,iconType:O.a.CHAT,onResize:this.handleResize,onWidgetClick:this.handleClick},e.createElement(y.a,{onClick:this.handleClick,name:o,bot:a,onDismissClick:this.handleDismissClick,showNewCallout:i,showBranding:I.s},e.createElement(k,{attachmentCount:s,messagePreview:c})))}}]),n}(m.Component);w.propTypes={message:m.PropTypes.object.isRequired,avatarUrl:m.PropTypes.string,bot:m.PropTypes.bool,name:m.PropTypes.string.isRequired,conversation:m.PropTypes.object,driftUsersById:m.PropTypes.object,actions:m.PropTypes.shape({iframeOverrideSize:m.PropTypes.func.isRequired,goToConversation:m.PropTypes.func.isRequired,markConversationAsRead:m.PropTypes.func.isRequired,sliderMessageDismissed:m.PropTypes.func.isRequired})},t.a=Object(g.connect)(function(e,t){var n,r=e.DriftUser.driftUsersById[t.message.get("authorId")],o=t.message.get("conversationId"),i=r&&r.bot,s=Object(I.j)(e),c=s&&Object(M.v)(e);return n={showBranding:Object(I.s)(e),avatarUrl:r&&r.avatarUrl,bot:r&&r.bot,name:Object(h.a)(r,"name",""),conversation:Object(A.a)(e,{conversationId:o}),driftUsersById:Object(M.j)(e),view:i?D.i.MESSAGE_CALLOUT_BOT:D.i.MESSAGE_CALLOUT_USER,version:s?c?"callout-style-new-no-branding":"callout-style-control":void 0},a()(n,"bot",i),a()(n,"showNewCallout",c),n},function(e){return{actions:Object(b.bindActionCreators)({iframeOverrideSize:C.iframeOverrideSize,goToConversation:T.f,markConversationAsRead:T.g,sliderMessageDismissed:P.y,trackImpression:S.e,trackClick:S.a},e)}})(w)}).call(this,n(0))},function(e,t){e.exports='<svg width="12" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M10.285 17a.738.738 0 0 0 .528-.216.637.637 0 0 0-.044-.942L2.77 9l7.998-6.842c.29-.249.31-.67.044-.942a.751.751 0 0 0-1.01-.04L1.232 8.508a.65.65 0 0 0-.232.49c0 .188.084.366.232.492l8.57 7.334c.138.117.31.175.483.175z" stroke="#CCC" stroke-width=".667" fill="#CCC" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>'},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(1),f=n.n(p),m=n(23),b=n.n(m),g=n(0),h=n(9),v=n.n(h),E=n(208),y=n(129),O=n(212),C=n(226),T=n.n(C),M=function(t){var n=t.className,r=t.onClick,a=t.href,o=t.backgroundColor,i=t.color,s=b()(t,["className","onClick","href","backgroundColor","color"]);return e.createElement(E.a,f()({className:v()(T.a.CtaButton,n),href:a,onClick:r,style:{backgroundColor:o,color:i,lineHeight:"18px",height:"initial",padding:"8px"}},s))};M.propTypes={className:g.PropTypes.string,onClick:g.PropTypes.func,href:g.PropTypes.string,backgroundColor:g.PropTypes.string,color:g.PropTypes.string};var I=function(t){var n=t.children,r=b()(t,["children"]);return e.createElement("div",f()({},r,{className:v()(T.a.Headline,"dsg-medium-weight")}),n)},P=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.content,r=t.ctaCopy,a=t.headline,o=t.isExpanded,i=t.onCtaClick,s=t.ctaHref,c=t.onClick,u=t.onDismissClick,l=t.primaryColor,d=t.secondaryColor;if(!n||!a)return null;var _=o&&r&&(s||i),p={onClick:i,href:s,brandPrimary:l,brandSecondary:d,children:r};return e.createElement("div",{className:T.a.Slider},e.createElement(O.a,null,e.createElement("div",{className:T.a.FlexContentWrapper,key:"slider"},e.createElement("div",{className:T.a.DismissButtonWrapper},e.createElement(y.b,{className:T.a.DismissButton,onClick:u})),e.createElement(y.a,{onClick:c},e.createElement(I,null,a),o&&e.createElement(y.c,{className:T.a.Content},n),_&&e.createElement(M,p)))))}}]),n}(g.Component);t.a=P,P.propTypes={content:g.PropTypes.node,ctaCopy:g.PropTypes.string,headline:g.PropTypes.string,isExpanded:g.PropTypes.bool,ctaHref:g.PropTypes.string,onCtaClick:g.PropTypes.func,onClick:g.PropTypes.func,onDismissClick:g.PropTypes.func.isRequired,primaryColor:g.PropTypes.string,secondaryColor:g.PropTypes.string},P.defaultProps={isExpanded:!1}}).call(this,n(0))},function(e,t,n){e.exports={ScrollableContent:"_3qJrcSln-TzTgp5jAZsvE-"}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f});var r=n(1),a=n.n(r),o=n(7),i=n.n(o),s=n(23),c=n.n(s),u=n(0),l=n(9),d=n.n(l),_=n(436),p=n.n(_);function f(t){var n=t.className,r=t.children,o=t.onClick,s=c()(t,["className","children","onClick"]);return e.createElement("div",a()({},s,{onClick:o,className:d()(p.a.Callout,i()({},p.a.hasClickHandler,o),n)}),e.createElement("div",{className:p.a.Content},r))}f.propTypes={onClick:u.PropTypes.func,className:u.PropTypes.string,children:u.PropTypes.node}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(1),f=n.n(p),m=n(23),b=n.n(m),g=n(0),h=n(9),v=n.n(h),E=n(208),y=n(129),O=n(212),C=n(50),T=n.n(C),M=n(26),I=n.n(M),P=n(121),A=n.n(P),S=n(16),D=n(728),k=(n(20),n(4)),w=n(15),j=n(225),R=n.n(j),B=function(t){var n=t.className,r=t.onClick,a=t.href,o=t.backgroundColor,i=t.color,s=b()(t,["className","onClick","href","backgroundColor","color"]);return e.createElement(E.a,f()({className:v()(R.a.CtaButton,n),href:a,onClick:r,style:{backgroundColor:o,color:i,lineHeight:"18px",height:"initial",padding:"8px"}},s))};B.propTypes={className:g.PropTypes.string,onClick:g.PropTypes.func,href:g.PropTypes.string,backgroundColor:g.PropTypes.string,color:g.PropTypes.string};var N=function(t){var n=t.children,r=b()(t,["children"]);return e.createElement("div",f()({},r,{className:v()(R.a.Headline,"dsg-medium-weight")}),n)},U=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.content,r=t.ctaCopy,a=t.headline,o=t.isExpanded,i=t.onCtaClick,s=t.ctaHref,c=t.onClick,u=t.onDismissClick,l=t.primaryColor,d=t.secondaryColor;if(!n||!a)return null;var _=o&&r&&(s||i),p={onClick:i,href:s,brandPrimary:l,brandSecondary:d,children:r};return e.createElement("div",{className:R.a.Slider},e.createElement(O.a,null,e.createElement("div",{className:R.a.FlexContentWrapper,key:"slider"},e.createElement("div",{className:R.a.DismissButtonWrapper},e.createElement(y.b,{className:R.a.DismissButton,onClick:u})),e.createElement(y.a,{hasTail:!_,onClick:c},e.createElement(N,null,a),o&&e.createElement(y.c,{className:R.a.Content},n),_&&e.createElement(B,p)))))}}]),n}(g.Component);U.propTypes={content:g.PropTypes.node,ctaCopy:g.PropTypes.string,headline:g.PropTypes.string,isExpanded:g.PropTypes.bool,ctaHref:g.PropTypes.string,onCtaClick:g.PropTypes.func,onClick:g.PropTypes.func,onDismissClick:g.PropTypes.func.isRequired,primaryColor:g.PropTypes.string,secondaryColor:g.PropTypes.string},U.defaultProps={isExpanded:!1};t.a=I()(Object(S.connect)(function(e){return{showNewCallout:Object(k.v)(e)&&Object(w.j)(e)}}),T()(function(e){return e.showNewCallout},A()(D.a)))(U)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(21),m=n(16),b=n(396),g=n(732),h=n(77),v=n(4),E=n(29),y=n(31),O=n(54),C=n(110),T=n(84),M=n(51),I=n(28),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return/(\d+)(r?em|%|px|vh|vw)$/.test(e)?e:""+e+t},A=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={isExpanded:!1},r.handleChatResponseCtaClick=function(){if("CHAT_RESPONSE"===r.props.ctaType){var e=r.props,t=e.message,n=e.headline,a=e.sender,o=e.campaignId;r.props.actions.goToNewConversationForCampaign({inboxId:t.inboxId,campaignId:o,campaignMessage:t,messages:[{id:Object(C.a)(),body:n,sender:a},{id:Object(C.a)(),body:t.body,sender:a}]})}},r.handleScheduleMeetingCtaClick=function(){"SCHEDULE_MEETING"===r.props.ctaType&&r.props.sender&&r.props.actions.startScheduleMeetingFlow(r.props.sender.id,{campaignMessage:r.props.message})},r.handleCtaClick=function(){switch(r.props.actions.trackClick({ctaType:"cta",view:I.i.SLIDER_EXPANDED}),r.props.actions.createConversationEvent({conversationId:r.props.message.conversationId,type:O.a}),r.props.actions.markAsRead({messageId:r.props.message.id}),r.props.ctaType){case"CHAT_RESPONSE":return r.handleChatResponseCtaClick();case"SCHEDULE_MEETING":return r.handleScheduleMeetingCtaClick()}},r.handleDismissClick=function(){r.props.actions.trackClick({ctaType:"dismiss",view:r.state.isExpanded?I.i.SLIDER_EXPANDED:I.i.SLIDER_CALLOUT}),r.props.actions.createConversationEvent({conversationId:r.props.message.conversationId,type:O.b}),r.props.actions.markAsRead({messageId:r.props.message.id})},r.handleClick=function(){r.state.isExpanded||(r.props.actions.trackClick({ctaType:"content",view:I.i.SLIDER_CALLOUT}),r.setState({isExpanded:!0}),r.props.actions.trackImpression({view:I.i.SLIDER_EXPANDED}),r.props.actions.createConversationEvent({conversationId:r.props.message.conversationId,type:O.d}))},r.handleResize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.height,n=e.width;r.props.actions.iframeOverrideSize({height:P(t,"px"),width:P(n,"px")})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"componentWillMount",value:function(){this.props.actions.trackImpression({view:I.i.SLIDER_CALLOUT})}},{key:"render",value:function(){var t=this.props,n=t.content,r=t.headline,a=t.primaryColor,o=t.secondaryColor,i=t.avatarUrl,s=t.ctaCopy,c=t.ctaHref,u=this.state.isExpanded,l=u?void 0:this.handleClick;return e.createElement(b.a,{avatarUrl:i,iconType:h.a.ANNOUNCEMENT,onWidgetClick:l,onResize:this.handleResize},e.createElement(g.a,{content:n,headline:r,ctaCopy:s,ctaHref:c,primaryColor:a,secondaryColor:o,isExpanded:u,onClick:l,onDismissClick:this.handleDismissClick,onCtaClick:this.handleCtaClick}))}}]),n}(p.Component);A.propTypes={message:p.PropTypes.object.isRequired,sender:p.PropTypes.object,campaignId:p.PropTypes.number.isRequired,headline:p.PropTypes.string.isRequired,avatarUrl:p.PropTypes.string,content:p.PropTypes.node,ctaType:p.PropTypes.oneOf(["LINK_TO_URL","CHAT_RESPONSE","SCHEDULE_MEETING"]),ctaCopy:p.PropTypes.string,ctaHref:p.PropTypes.string,primaryColor:p.PropTypes.string,secondaryColor:p.PropTypes.string,actions:p.PropTypes.shape({iframeOverrideSize:p.PropTypes.func.isRequired,goToNewConversationForCampaign:p.PropTypes.func.isRequired,startScheduleMeetingFlow:p.PropTypes.func.isRequired,markAsRead:p.PropTypes.func.isRequired,createConversationEvent:p.PropTypes.func.isRequired})},t.a=Object(m.connect)(function(t,n){var r=Object(v.k)(t).theme,a=r.backgroundColor,o=r.foregroundColor,i=n.message,s=i.attributes,c=s.cta,u=s.title,l=s.senderId,d=s.noSenderId,_=s.campaignId,p=!d&&l&&Object(v.j)(t)[l];return{campaignId:_,message:i,content:e.createElement("div",{dangerouslySetInnerHTML:{__html:i.body}}),sender:p,ctaCopy:c&&c.copy,ctaType:c&&c.CtaType,ctaHref:c&&c.UrlLink,avatarUrl:p&&p.avatarUrl,headline:u,primaryColor:a&&"#"+a,secondaryColor:o&&"#"+o}},function(e){return{actions:Object(f.bindActionCreators)({iframeOverrideSize:E.iframeOverrideSize,goToNewConversationForCampaign:E.goToNewConversationForCampaign,startScheduleMeetingFlow:T.h,markAsRead:y.p,createConversationEvent:y.b,trackImpression:M.e,trackClick:M.a},e)}})(A)}).call(this,n(0))},function(e,t,n){e.exports={Container:"_1_OkBQ8wzMdsYC_9TqA1_1"}},function(e,t,n){e.exports={WelcomeMessageCard:"_1b8HzQM8nmpP_VSMq7OnIz"}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(735),u=n.n(c);function l(t){var n=t.children,r=i()(t,["children"]);return e.createElement("div",a()({className:u.a.WelcomeMessageCard},r),n)}l.propTypes={children:s.PropTypes.node}}).call(this,n(0))},function(e,t,n){e.exports={UnreadCountBadgeWrapper:"_33pYdbFiRwcStQ9-M9UKRm"}},function(e,t,n){"use strict";var r={getSenderId:function(e){var t=e.authorId,n=e.attributes.senderId;return!e.attributes.noSenderId&&(n||t)}};t.a=r},,,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),lodash_es_cloneDeep__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(343),lodash_es_times__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(740),lodash_es_assign__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(192),classnames__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_8__),moment__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(40),moment__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_9__),imagesloaded__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(739),imagesloaded__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(imagesloaded__WEBPACK_IMPORTED_MODULE_10__),redux__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(21),react_redux__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(16),react_intl__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(17),shared_web_src_helpers_InputHelpers__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(525),shared_web_src_helpers_InputHelpers__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(shared_web_src_helpers_InputHelpers__WEBPACK_IMPORTED_MODULE_14__),modules_UI__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(29),_messages__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(349),_style_styl__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1023),_style_styl__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_17__),_React=React,Component=_React.Component,dom=_React.DOM,PropTypes=_React.PropTypes,component=_React.createElement,NPSExpanded=function(_Component){function NPSExpanded(props){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,NPSExpanded);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.syncIframe=_this.syncIframe.bind(_this),_this.renderRatingStep=_this.renderRatingStep.bind(_this),_this.renderFreeResponseStep=_this.renderFreeResponseStep.bind(_this),_this.renderThankYouStep=_this.renderThankYouStep.bind(_this),_this.handleSubmitClick=_this.handleSubmitClick.bind(_this),_this.inputChanged=_this.inputChanged.bind(_this);var ctaParams=props.message.attributes.cta;return _this.state={freeInput:"",isHoveredByRating:[],ctaCopy:null!=ctaParams?ctaParams.copy:void 0,driftMessage:props.message},babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(_this)}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(NPSExpanded,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(NPSExpanded,null,[{key:"initClass",value:function(){this.propTypes={message:PropTypes.object.isRequired,npsStep:PropTypes.number,selectedRating:PropTypes.number}}}]),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(NPSExpanded,[{key:"componentDidMount",value:function(){return this._timer=window.setTimeout(this.syncIframe,0),this._imagesLoaded=imagesloaded__WEBPACK_IMPORTED_MODULE_10___default()(this._node),this._imagesLoaded.on("progress",this.syncIframe)}},{key:"componentDidUpdate",value:function(e,t){if(this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(this.syncIframe,0),e.npsStep!==this.props.npsStep)return setTimeout(this.syncIframe,0)}},{key:"componentWillUnmount",value:function(){return this._timer&&window.clearTimeout(this._timer),this._imagesLoaded.off("progress",this.syncIframe)}},{key:"syncIframe",value:function(){if(this._node){var e=this._node.offsetHeight+75;return this.props.actions.iframeOverrideSize({height:e+"px"})}}},{key:"renderRatingStep",value:function(){var e=this;return dom.div({},dom.div({className:"ratings"},Object(lodash_es_times__WEBPACK_IMPORTED_MODULE_6__.a)(11,function(t){var n=e.state.isHoveredByRating[t];return dom.div({key:t,className:classnames__WEBPACK_IMPORTED_MODULE_8___default()("rating",{hovered:n}),style:{backgroundColor:n?"#"+e.props.theme.backgroundColor:void 0},onClick:function(){return e.props.onSubmitNumericResponse(t)},onMouseOver:function(){var n=Object(lodash_es_cloneDeep__WEBPACK_IMPORTED_MODULE_5__.a)(e.state.isHoveredByRating);return n[t]=!0,e.setState({isHoveredByRating:n})},onMouseOut:function(){var n=Object(lodash_es_cloneDeep__WEBPACK_IMPORTED_MODULE_5__.a)(e.state.isHoveredByRating);return n[t]=!1,e.setState({isHoveredByRating:n})}},component(react_intl__WEBPACK_IMPORTED_MODULE_13__.c,{value:t}))})),dom.div({className:"labels"},component(react_intl__WEBPACK_IMPORTED_MODULE_13__.b,Object(lodash_es_assign__WEBPACK_IMPORTED_MODULE_7__.a)({},_messages__WEBPACK_IMPORTED_MODULE_16__.a.notLikely)),component(react_intl__WEBPACK_IMPORTED_MODULE_13__.b,Object(lodash_es_assign__WEBPACK_IMPORTED_MODULE_7__.a)({},_messages__WEBPACK_IMPORTED_MODULE_16__.a.veryLikely))))}},{key:"renderFreeResponseStep",value:function(){return dom.div({},dom.textarea({valueLink:{value:this.state.freeInput,requestChange:this.inputChanged},onKeyDown:Object(shared_web_src_helpers_InputHelpers__WEBPACK_IMPORTED_MODULE_14__.makeOnCommandEnterKeyHandler)(this.submitNPSTextResponse)}),dom.button({style:{backgroundColor:"#"+this.props.theme.backgroundColor},onClick:this.handleSubmitClick,disabled:!this.state.freeInput},this.state.ctaCopy))}},{key:"renderThankYouStep",value:function(){var e=component(react_intl__WEBPACK_IMPORTED_MODULE_13__.b,Object(lodash_es_assign__WEBPACK_IMPORTED_MODULE_7__.a)({},_messages__WEBPACK_IMPORTED_MODULE_16__.a.feedbackApproval));if(this.props.selectedRating>6){var t=void 0;return t=this.props.selectedRating>8?__webpack_require__(1021):__webpack_require__(1020),dom.div({className:"thank-you-container"},dom.img({src:t}),dom.div({className:"note"},e))}return dom.div({className:"thank-you-sorry-container"},dom.div({className:"note"},e),dom.div({},component(react_intl__WEBPACK_IMPORTED_MODULE_13__.b,Object(lodash_es_assign__WEBPACK_IMPORTED_MODULE_7__.a)({},_messages__WEBPACK_IMPORTED_MODULE_16__.a.detractorFeedbackApproval))))}},{key:"getStep",value:function(){switch(this.props.npsStep){case 0:return{render:this.renderRatingStep,class:"rating-step"};case 1:return{render:this.renderFreeResponseStep,class:"free-response-step"};case 2:return{render:this.renderThankYouStep,class:"thank-you-step"}}}},{key:"render",value:function(){var e=this,t=this.getStep();return dom.div({className:"NPSExpanded minimized-expanded "+t.class,ref:function(t){return e._node=t}},t.render())}},{key:"handleSubmitClick",value:function(e){return this.props.onSubmitTextResponse(this.state.freeInput)}},{key:"inputChanged",value:function(e){return this.setState({freeInput:e})}}]),NPSExpanded}(Component);NPSExpanded.initClass();var mapStateToProps=function(e,t){return{endUser:e.EndUser.currentEndUser,theme:e.Bootstrap.embedConfiguration.theme}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_11__.bindActionCreators)({iframeOverrideSize:modules_UI__WEBPACK_IMPORTED_MODULE_15__.iframeOverrideSize},e)}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_12__.connect)(mapStateToProps,mapDispatchToProps)(NPSExpanded)}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=(n(1026),e.DOM),f=e,m=f.Component,b=f.PropTypes,g=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"getText",value:function(){return 0===this.props.npsStep?null!=this.props.message.attributes?this.props.message.attributes.preview:void 0:1===this.props.npsStep?null!=this.props.message.attributes?this.props.message.attributes.followUpMessage:void 0:"Thanks!"}},{key:"render",value:function(){return p.div({className:"NPSPreview minimized-preview-content"},p.div({className:"nps-question"},this.getText()))}}],[{key:"initClass",value:function(){this.propTypes={message:b.object.isRequired,npsStep:b.number.isRequired}}}]),t}(m);g.initClass(),t.a=g}).call(this,n(0))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_5__),redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(21),react_redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(16),_NPSPreview__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(742),_NPSExpanded__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(741),Widget_containers_WidgetButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(209),Widget_containers_UnreadCountBadge__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(398),modules_Message__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(42),modules_Conversation_Constants__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(52),Widget_modules_Message_actions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(31),Widget_components_WidgetButton__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(77),_helpers__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(738),_style_styl__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(737),_style_styl__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_17__),_React=React,Component=_React.Component,dom=_React.DOM,component=_React.createElement,PropTypes=_React.PropTypes,getSenderId=_helpers__WEBPACK_IMPORTED_MODULE_16__.a.getSenderId,Minimized=function(_Component){function Minimized(props){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,Minimized);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.markAsRead=_this.markAsRead.bind(_this),_this.handleSubmitNumericResponse=_this.handleSubmitNumericResponse.bind(_this),_this.handleSubmitTextResponse=_this.handleSubmitTextResponse.bind(_this);var _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,(Minimized.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_0___default()(Minimized)).call(this,props));return _this.state={npsStep:0,npsRating:void 0},babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(_this)}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Minimized,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Minimized,null,[{key:"initClass",value:function(){this.propTypes={totalUnreadCount:PropTypes.number,previewMessage:PropTypes.object,previewSender:PropTypes.object,style:PropTypes.object},this.defaultProps={totalUnreadCount:0}}}]),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(Minimized,[{key:"renderPreviewContent",value:function(){return component(_NPSPreview__WEBPACK_IMPORTED_MODULE_8__.a,{message:this.props.previewMessage,npsStep:this.state.npsStep})}},{key:"renderExpandedContent",value:function(){return component(_NPSExpanded__WEBPACK_IMPORTED_MODULE_9__.a,{message:this.props.previewMessage,npsStep:this.state.npsStep,selectedRating:this.state.npsRating,onSubmitNumericResponse:this.handleSubmitNumericResponse,onSubmitTextResponse:this.handleSubmitTextResponse})}},{key:"getIconType",value:function(){return Widget_components_WidgetButton__WEBPACK_IMPORTED_MODULE_15__.a.NPS}},{key:"markAsRead",value:function(){return this.props.actions.markAsRead({messageId:this.props.previewMessage.id})}},{key:"handleSubmitNumericResponse",value:function(e){return this.setState({npsStep:1,npsRating:e}),this.props.actions.createMessage({conversationId:this.props.previewMessage.conversationId,body:e,type:modules_Conversation_Constants__WEBPACK_IMPORTED_MODULE_13__.i,attributes:{numericResponse:e}})}},{key:"handleSubmitTextResponse",value:function(e){var t=this;return this.setState({npsStep:2}),this.props.actions.createMessage({conversationId:this.props.previewMessage.conversationId,body:e,type:modules_Conversation_Constants__WEBPACK_IMPORTED_MODULE_13__.i,attributes:{textResponse:e}}),setTimeout(function(){return t.props.actions.markAsRead({messageId:t.props.previewMessage.id})},2e3)}},{key:"render",value:function(){return dom.div({className:classnames__WEBPACK_IMPORTED_MODULE_5___default()("Minimized",this.props.className)},dom.div({className:"minimized-content type-nps-preview"},dom.div({className:"minimized-preview",onClick:this.handlePreviewClick},this.renderPreviewContent(),component(Widget_containers_WidgetButton__WEBPACK_IMPORTED_MODULE_10__.a,{iconType:this.getIconType(),avatarUrl:null!=this.props.previewSender?this.props.previewSender.avatarUrl:void 0})),this.renderExpandedContent()),dom.div({className:"dismiss-button",onClick:this.markAsRead},dom.img({src:__webpack_require__(382)})),this.props.totalUnreadCount>0?dom.div({className:_style_styl__WEBPACK_IMPORTED_MODULE_17___default.a.UnreadCountBadgeWrapper},component(Widget_containers_UnreadCountBadge__WEBPACK_IMPORTED_MODULE_11__.a)):void 0)}}]),Minimized}(Component);Minimized.initClass();var mapStateToProps=function(e,t){var n=void 0,r=t.message,a=getSenderId(r);return a&&(n=e.DriftUser.driftUsersById[a]),{previewMessage:r,previewSender:n}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_6__.bindActionCreators)({markAsRead:Widget_modules_Message_actions__WEBPACK_IMPORTED_MODULE_14__.p,createMessage:modules_Message__WEBPACK_IMPORTED_MODULE_12__.d},e)}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_7__.connect)(mapStateToProps,mapDispatchToProps)(Minimized)}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){var r=n(406);t.a=function(t){t.brandColor,t.connectionStatus;return e.createElement("div",{className:"flex-column flex-1"},e.createElement("div",{className:"flex-1 flex-center"},e.createElement(r.a,null)))}}).call(this,n(0))},function(e,t,n){e.exports={NewConversationCampaign:"vqwyEgk0Xfa_pE8GRUe9P"}},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(2),m=n(16),b=n(21),g=n(122),h=n(403),v=n(53),E=n(159),y=n(42),O=n(31),C=n(51),T=n(28),M=n(54),I=n(745),P=n.n(I),A=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.handleSubmit=function(e){var t=r.props.campaign,n=t.inboxId,a=t.campaignId,o=t.messages,i=t.campaignMessage;r.props.actions.createConversation({body:e,inboxId:n,attributes:{relatedCampaignId:a,preMessages:o}}),i&&r.props.actions.createConversationEvent({conversationId:i.conversationId,type:M.e})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"componentWillMount",value:function(){this.props.actions.trackImpression({view:T.i.CONVERSATION_COMPOSER})}},{key:"componentWillUnmount",value:function(){this.props.actions.setCampaignMessage()}},{key:"render",value:function(){var t=this.props.theme;return e.createElement("div",{className:P.a.NewConversationCampaign},e.createElement("div",{className:"flex-1 Conversation",style:{backgroundColor:"#"+t.widgetBackgroundColor}},e.createElement(h.a,{messages:Object(f.fromJS)(this.props.campaign.messages)})),e.createElement(g.a,{onSubmit:this.handleSubmit,utmContent:T.i.CONVERSATION_COMPOSER}))}}]),n}(p.Component);A.propTypes={campaign:p.PropTypes.shape({inboxId:p.PropTypes.number,campaignId:p.PropTypes.number,messages:p.PropTypes.array,campaignMessage:p.PropTypes.object}).isRequired,actions:p.PropTypes.shape({createConversation:p.PropTypes.func.isRequired,createConversationEvent:p.PropTypes.func.isRequired,setCampaignMessage:p.PropTypes.func.isRequired,trackImpression:p.PropTypes.func.isRequired}),theme:p.PropTypes.shape({backgroundColor:p.PropTypes.string,foregroundColor:p.PropTypes.string,textColor:p.PropTypes.string,activeColor:p.PropTypes.string,widgetBackgroundColor:p.PropTypes.string,widgetHalfHeight:p.PropTypes.bool})};t.a=Object(m.connect)(function(e){return{campaign:Object(v.b)(e)}},function(e){return{actions:Object(b.bindActionCreators)({createConversation:y.a,createConversationEvent:O.b,setCampaignMessage:E.a,trackImpression:C.e},e)}})(A)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(17),i=n(41),s=n.n(i),c=n(38),u=n(539),l=n.n(u),d=n(1029);t.a=function(t){var n=t.backgroundColor,r=t.email,i=t.thankYouMessage;return e.createElement("div",{className:l.a.Container},e.createElement(s.a,{className:l.a.Icon,src:d,style:{color:n}}),i||e.createElement(o.b,a()({},c.a.asyncMessageThankYou,{values:{email:e.createElement("span",{style:{fontWeight:600}},r)}})))}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(17),m=n(284),b=n.n(m),g=n(41),h=n.n(g),v=n(38),E=n(214),y=n(9),O=n.n(y),C=n(252),T=n.n(C),M=n(554),I=function(t){function n(e){i()(this,n);var t=l()(this,(n.__proto__||a()(n)).call(this,e));return t.handleChange=function(e){t.setState({email:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.isValid()?t.props.onSubmit&&t.props.onSubmit({email:t.state.email}):t.setState({error:!0})},t.isValid=function(){return!!t.state.email&&Object(E.isEmail)(t.state.email)},t.state={email:e.endUser&&e.endUser.email||"",error:void 0},t}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.backgroundColor,r=t.textColor,a=this.isValid();return e.createElement("div",{className:T.a.Container},e.createElement("div",{className:T.a.Header},e.createElement(f.b,v.a.asyncMessageContactPrompt)),e.createElement("form",{className:T.a.Form,onSubmit:this.handleSubmit},e.createElement("div",{className:T.a.Body},e.createElement(b.a,{className:T.a.Input,placeholder:this.state.email?void 0:"email@domain.com",value:this.state.email,onChange:this.handleChange,label:e.createElement(f.b,v.a.emailAddressInputLabel),invalidLabel:!a&&e.createElement(f.b,v.a.invalidEmail),errorOverride:this.state.error,childrenFirst:!0,isValid:a,type:"email",autoFocus:!0,autoCapitalize:"none",size:"medium"},e.createElement(h.a,{className:"flex icon",src:M}))),e.createElement("button",{className:O()("flex-center",T.a.SubmitButton),style:{backgroundColor:a?n:void 0,color:r}},e.createElement("span",{style:{textAlign:"center",width:"100%"}},e.createElement(f.b,v.a.submitButtonLabel)))))}}]),n}(p.Component);t.a=I}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(71),g=n(9),h=n.n(g),v=n(16),E=n(122),y=n(139),O=n.n(y),C=n(22),T=n(28),M=n(162),I=n.n(M),P=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.handleSubmit=function(e){r.props.onSubmit&&r.props.onSubmit({body:e,attributes:{preMessages:[{body:Object(b.findDOMNode)(r._bodyNode).innerHTML,sender:r.props.sender}]}})},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"renderAvatar",value:function(){var t=this.props,n=t.sender,r=(n=void 0===n?{}:n).title,a=n.avatarUrl,o=n.publicProfileUrl,i=t.overrideAvatarUrl,s=t.backgroundColor,c=i||a,u=a&&e.createElement("div",{className:h()(I.a.Header__avatar__border,{small:!r}),style:{borderColor:s}},e.createElement("div",{className:I.a.Header__avatar,style:{backgroundImage:"url("+c+")"}}));return u&&o?e.createElement("a",{href:o,target:"_blank"},u):u}},{key:"renderName",value:function(){var t=this.props,n=t.sender,r=(n=void 0===n?{}:n).name,a=n.publicProfileUrl,o=t.organizationName;return e.createElement("span",{className:I.a.Header__name},a?e.createElement("a",{href:a,target:"_blank"},r):r||o)}},{key:"renderHeader",value:function(){var t=this.props,n=t.sender,r=(n=void 0===n?{}:n).title,a=t.hasConsolidatedWelcomeMsg,o=t.overrideAvatarUrl,i=t.hasOverrideSender,s=!!o;return e.createElement("div",null,!!a&&(s||i)&&e.createElement("div",{className:I.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),r&&e.createElement("span",{className:I.a.Header__title},r))),!a&&e.createElement("div",{className:I.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),r&&e.createElement("span",{className:I.a.Header__title},r))))}},{key:"render",value:function(){var t=this,n=this.props,r=n.awayMessage,o=n.showBranding,i=n.organizationName,s=n.connectionStatus,c=n.onChange,u=n.hasConsolidatedWelcomeMsg;return e.createElement("div",{className:I.a.Container},this.renderHeader(),e.createElement("div",{className:h()(I.a.Body,a()({},I.a.ConsolidatedWelcomeMsgBody,u))},e.createElement(O.a,{ref:function(e){t._bodyNode=e},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},r)),e.createElement(E.a,{size:"medium",variant:"minimal",showBranding:o,isAway:!0,minRows:1,maxRows:5,organizationName:i,autoFocus:!0,connectionStatus:s,onChange:c,onSubmit:this.handleSubmit,utmContent:T.i.NEW_CONVERSATION_AWAY_COMPOSER}))}}]),n}(m.Component);t.a=Object(v.connect)(function(e){return{hasConsolidatedWelcomeMsg:Object(C.p)(e)}})(P)}).call(this,n(0))},function(e,t,n){e.exports={AsyncMessage:"_2TapetCnEUXrUAlyKj7G3H"}},function(e,t,n){"use strict";(function(e){var r=n(154),a=n.n(r),o=n(1),i=n.n(o),s=n(10),c=n.n(s),u=n(12),l=n.n(u),d=n(11),_=n.n(d),p=n(6),f=n.n(p),m=n(13),b=n.n(m),g=n(0),h=n(750),v=n.n(h),E=n(16),y=n(189),O=n(21),C=n(44),T=n(45),M=n(42),I=n(137),P=n(4),A=n(53),S=n(27),D=n(51),k=n(28),w=n(75),j=n(749),R=n(748),B=n(747),N=function(t){function n(){var e,t,r,a;l()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=f()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(i))),r.state={step:1,body:void 0,attributes:void 0,email:void 0},r.handleSubmit=function(e){var t=e.body,n=e.attributes;r.props.actions.trackImpression({view:k.i.NEW_CONVERSATION_EMAIL_CAPTURE}),r.setState({body:t,attributes:n,step:2})},r.handleEmailCaptureSubmit=function(e){var t=e.email,n=r.props,a=n.orgId,o=n.endUser,i=n.anonymousId;o&&"LEAD"!==o.type||r.props.actions.identifyLead(a,i,t),r.props.actions.createConversation({body:r.state.body,attributes:r.state.attributes})},a=t,f()(r,a)}return b()(n,t),_()(n,[{key:"componentWillMount",value:function(){this.props.actions.trackImpression({view:k.i.NEW_CONVERSATION_AWAY_COMPOSER})}},{key:"renderStep",value:function(){switch(this.state.step){case 1:return e.createElement(j.a,i()({},this.props,{onSubmit:this.handleSubmit}));case 2:return e.createElement(R.a,i()({},this.props,{onSubmit:this.handleEmailCaptureSubmit}));case 3:return e.createElement(B.a,i()({},this.props,{email:this.state.email}))}}},{key:"renderBranding",value:function(){return!!this.props.showBranding&&(1!==this.state.step&&e.createElement(w.a,{style:{marginTop:"16px"},utmContent:k.i.NEW_CONVERSATION_EMAIL_CAPTURE}))}},{key:"render",value:function(){return e.createElement("div",{className:v.a.AsyncMessage,style:{backgroundColor:"#"+this.props.widgetBackgroundColor}},this.renderStep(),this.renderBranding())}}]),n}(g.Component);N.propTypes={sender:g.PropTypes.shape({name:g.PropTypes.string,title:g.PropTypes.string,avatarUrl:g.PropTypes.string}),awayMessage:g.PropTypes.node,thankYouMessage:g.PropTypes.node,showBranding:g.PropTypes.bool,connectionStatus:g.PropTypes.string,overrideAvatarUrl:g.PropTypes.string,orgId:g.PropTypes.number,endUser:g.PropTypes.shape({type:g.PropTypes.oneOf(a()(T.a))}),anonymousId:g.PropTypes.string,actions:g.PropTypes.shape({createConversation:g.PropTypes.func.isRequired,identifyLead:g.PropTypes.func.isRequired}),widgetBackgroundColor:g.PropTypes.string};t.a=Object(y.compose)(Object(C.a)(["activeColor","textColor","backgroundColor"]),Object(E.connect)(function(e){return{sender:Object(A.g)(e),hasOverrideSender:Object(A.l)(e),awayMessage:Object(A.a)(e),thankYouMessage:Object(A.i)(e),showBranding:!!e.Bootstrap.embedConfiguration.showBranding,connectionStatus:Object(P.h)(e),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,organizationName:e.Bootstrap.embedConfiguration.organizationName,overrideAvatarUrl:Object(S.b)(e)}},function(e){return{actions:Object(O.bindActionCreators)({createConversation:M.a,identifyLead:I.d,trackImpression:D.e},e)}}))(N)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(71),g=n(9),h=n.n(g),v=n(16),E=n(21),y=n(51),O=n(28),C=n(122),T=n(139),M=n.n(T),I=n(196),P=n.n(I),A=n(22),S=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.handleSubmit=function(e){r.props.onSubmit&&r.props.onSubmit({body:e,attributes:{sentWelcomeMessage:r.props.sentWelcomeMessage,preMessages:[{body:Object(b.findDOMNode)(r._bodyNode).innerHTML,sender:r.props.sender}]}})},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"componentWillMount",value:function(){this.props.actions.trackImpression({view:O.i.NEW_CONVERSATION_COMPOSER})}},{key:"renderAvatar",value:function(){var t=this.props,n=t.sender,r=(n=void 0===n?{}:n).title,a=n.avatarUrl,o=n.publicProfileUrl,i=t.backgroundColor,s=a&&e.createElement("div",{className:h()(P.a.Header__avatar__border,{small:!r}),style:{borderColor:i}},e.createElement("div",{className:P.a.Header__avatar,style:{backgroundImage:"url("+a+")"}}));return s&&o?e.createElement("a",{href:o,target:"_blank"},s):s}},{key:"renderName",value:function(){var t=this.props,n=t.sender,r=(n=void 0===n?{}:n).name,a=n.publicProfileUrl,o=t.organizationName;return e.createElement("span",{className:P.a.Header__name},a?e.createElement("a",{href:a,target:"_blank"},r):r||o)}},{key:"renderHeader",value:function(){var t=this.props.sender,n=(t=void 0===t?{}:t).title;return e.createElement("div",null,e.createElement("div",{className:P.a.Header},this.renderAvatar(),e.createElement("div",{className:"flex-column"},this.renderName(),n&&e.createElement("span",{className:P.a.Header__title},n))))}},{key:"render",value:function(){var t=this,n=this.props,r=n.message,o=n.sender,i=((o=void 0===o?{}:o).title,n.showBranding),s=n.organizationName,c=n.connectionStatus,u=n.onChange,l=n.hasConsolidatedWelcomeMsg;return e.createElement("div",{className:P.a.Container},this.renderHeader(),e.createElement("div",{className:h()(P.a.Body,a()({},P.a.ConsolidatedWelcomeMsgBody,l))},e.createElement(M.a,{ref:function(e){t._bodyNode=e},properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},r)),e.createElement(C.a,{size:"medium",variant:"minimal",showBranding:i,minRows:1,maxRows:5,organizationName:s,autoFocus:!0,connectionStatus:c,onChange:u,onSubmit:this.handleSubmit,utmContent:O.i.NEW_CONVERSATION_COMPOSER}))}}]),n}(m.Component);t.a=Object(v.connect)(function(e){return{hasConsolidatedWelcomeMsg:Object(A.p)(e)}},function(e){return{actions:Object(E.bindActionCreators)({trackImpression:y.e},e)}})(S)}).call(this,n(0))},function(e,t,n){e.exports={SyncMessage:"_2ypiAK4FPsbkjz6t21g2BV"}},function(e,t,n){"use strict";(function(e){var r=n(154),a=n.n(r),o=n(1),i=n.n(o),s=n(10),c=n.n(s),u=n(12),l=n.n(u),d=n(11),_=n.n(d),p=n(6),f=n.n(p),m=n(13),b=n.n(m),g=n(0),h=n(753),v=n.n(h),E=n(16),y=n(189),O=n(21),C=n(44),T=n(45),M=n(42),I=n(4),P=n(53),A=n(27),S=n(752),D=function(t){function n(){return l()(this,n),f()(this,(n.__proto__||c()(n)).apply(this,arguments))}return b()(n,t),_()(n,[{key:"render",value:function(){return e.createElement("div",{className:v.a.SyncMessage},e.createElement(S.a,i()({},this.props,{onSubmit:this.props.actions.createConversation})))}}]),n}(g.Component);D.propTypes={senderName:g.PropTypes.string,senderTitle:g.PropTypes.string,senderAvatarUrl:g.PropTypes.string,showBranding:g.PropTypes.bool,connectionStatus:g.PropTypes.string,overrideAvatarUrl:g.PropTypes.string,orgId:g.PropTypes.number,endUser:g.PropTypes.shape({type:g.PropTypes.oneOf(a()(T.a))}),anonymousId:g.PropTypes.string,actions:g.PropTypes.shape({createConversation:g.PropTypes.func.isRequired})};t.a=Object(y.compose)(Object(C.a)(["activeColor","textColor","backgroundColor"]),Object(E.connect)(function(e){return{message:Object(P.j)(e),sender:Object(P.g)(e),showBranding:!!e.Bootstrap.embedConfiguration.showBranding,connectionStatus:Object(I.h)(e),orgId:e.Bootstrap.orgId,endUser:e.EndUser.currentEndUser,anonymousId:e.Bootstrap.anonymousId,organizationName:e.Bootstrap.embedConfiguration.organizationName,sentWelcomeMessage:e.UI.sentWelcomeMessage,overrideAvatarUrl:Object(A.b)(e),hasOverrideSender:Object(P.l)(e)}},function(e){return{actions:Object(O.bindActionCreators)({createConversation:M.a},e)}}))(D)}).call(this,n(0))},function(e,t,n){e.exports={TimestampHeader:"_8snJWqrr4MdPqCYvbjnmw"}},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(8),a=n(30),o=n(15),i=n(4),s=n(132);function c(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getMessages,t=void 0===e?Object(a.q)():e;return Object(r.createSelector)([t,i.i],function(e,t){if(e)return e.find(function(e){return e.get("authorType")===t.type&&e.get("authorId")===t.id})})}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getIsBotConversation,n=void 0===t?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getFirstEndUserMessage,t=void 0===e?c():e;return Object(r.createSelector)(t,function(e){return e&&1!==e.getIn(["attributes","botClassification"],1)})}():t,u=e.getIsLocalConversation,l=void 0===u?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getFirstEndUserMessage,t=void 0===e?c():e;return Object(r.createSelector)(t,function(e){return e&&e.get("local",!1)})}():u,d=e.getConversation,_=void 0===d?Object(a.i)():d;return Object(r.createSelector)([i.i,i.D,_,i.p,n,l,o.d],function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(!(arguments.length>6&&void 0!==arguments[6])||arguments[6])&&!a&&!o&&e&&e.type===s.b&&!e.email&&!t&&(!r||n&&n.get("id")===r)})}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(9),i=n.n(o),s=n(16),c=n(4),u=n(27),l=n(438),d=n.n(l),_=function(){return a.a.createElement("svg",{className:d.a.DottedLine,x:"0px",y:"0px",width:"400px",height:"10",viewBox:"0 0 400 1"},a.a.createElement("line",{x1:"0",y1:"0.5",x2:"400",y2:"0.5"}))},p=function(e){var t=e.endUserEmail,n=e.isEmbeddedMessenger;return a.a.createElement("div",{className:i()(d.a.OfflineHeading,{floating:n})},a.a.createElement(_,null),a.a.createElement("div",{className:d.a.Prompt},"The team is out right now, but they’ll get back to you ",a.a.createElement("span",null,t?a.a.createElement("span",null,"at ",a.a.createElement("span",{className:"dsg-medium-weight"},t)):"soon")))};p.propTypes={endUserEmail:r.PropTypes.string},t.a=Object(s.connect)(function(e){return{endUserEmail:Object(c.l)(e),isEmbeddedMessenger:Object(u.g)(e)}})(p)},function(e,t,n){e.exports={TimestampHeader:"_1trdmLCx1n1kWgTx0skYlm"}},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(1),f=n.n(p),m=n(0),b=n(17),g=n(40),h=n.n(g),v=n(9),E=n.n(v),y=n(759),O=n.n(y),C=b.e,T=function(t){return e.createElement(b.a,f()({},t,{weekday:"short",hour:"numeric",minute:"numeric"}))},M=function(t){return e.createElement(b.a,f()({},t,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}))},I=function(t){return e.createElement(b.a,f()({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}))};function P(e,t){if(e===t)return!0;var n=new Date(e).getTime(),r=new Date(t).getTime();return isFinite(n)&&isFinite(r)&&n===r}var A=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={now:Date.now()},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"componentWillReceiveProps",value:function(e){P(this.props.value,e.value)||this.setState({now:Date.now()})}},{key:"shouldComponentUpdate",value:function(e,t){return!P(e.value,this.props.value)||!P(t.now,this.state.now)}},{key:"render",value:function(){var t=h()(this.props.value),n=h()(this.state.now),r=t.format("llll"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h()(),n=e.clone().startOf("day"),r=t.clone().startOf("day");return n.isSame(r)?C:r.diff(n,"weeks")<1?T:r.diff(n,"years")<1?M:I}(t,n);return e.createElement("time",{className:E()(O.a.TimestampHeader,{floating:this.props.isEmbeddedMessenger}),dateTime:r,title:r},e.createElement(a,{value:t}))}}]),n}(m.Component);A.propTypes={value:m.PropTypes.number.isRequired},t.a=A}).call(this,n(0))},function(e,t,n){"use strict";function r(e,t){return e.DriftUser.driftUsersById[t.userId]}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(16),m=n(400),b=n(399),g=function(t){function n(){return i()(this,n),l()(this,(n.__proto__||a()(n)).apply(this,arguments))}return _()(n,t),c()(n,[{key:"componentDidUpdate",value:function(){this.props.onChange&&this.props.onChange()}},{key:"render",value:function(){var t=this.props.users;return e.createElement("div",{className:"flex-column"},t.map(function(t){return t&&e.createElement(b.a,{key:"ti:"+t,userId:t})}))}}]),n}(p.Component);g.propTypes={conversationId:p.PropTypes.any,users:p.PropTypes.array.isRequired,onChange:p.PropTypes.func},t.a=Object(f.connect)(function(){var e=Object(m.b)();return function(t,n){return{users:e(t,n)}}})(g)}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),o=n(17),i=function(){return a.a.createElement(o.b,{id:"app.header.title.conversations",description:"Navbar title for the Conversations view",defaultMessage:"Conversations"})}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n.n(r),o=n(17),i=function(){return a.a.createElement(o.b,{id:"app.header.title.conversations",description:"Navbar title for the Conversations view",defaultMessage:"Conversations"})}},function(e,t){e.exports='<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><g fill="#9A9A9A" fill-rule="nonzero"><path d="M3.306 0h-2.2C.496 0 0 .49 0 1.095v6.56C0 8.26.496 8.75 1.106 8.75h2.2c.61 0 1.106-.491 1.106-1.095v-6.56C4.412.49 3.915 0 3.306 0zm-2.2 7.875a.22.22 0 0 1-.222-.22v-6.56c0-.121.1-.22.222-.22h2.2c.122 0 .222.099.222.22v6.56c0 .122-.1.22-.222.22h-2.2z"></path><path d="M12.176 0H6.63c-.283 0-.565.064-.818.185L4.273.92a.429.429 0 0 0-.205.587.467.467 0 0 0 .614.196l1.54-.737a.951.951 0 0 1 .409-.092h5.545c.167 0 .322.086.406.225l.516.865c.646 1.08.987 2.31.987 3.554v1.48c0 .483-.41.876-.916.876H9.725a.925.925 0 0 0-.756.384.84.84 0 0 0-.091.813c.42 1.003.632 2.06.632 3.14v.508c0 .223-.19.405-.424.405h-.284a.423.423 0 0 1-.408-.294l-.179-.6A9.838 9.838 0 0 0 6.32 8.723a2.39 2.39 0 0 0-1.843-.847H3.105a.448.448 0 0 0-.458.438c0 .241.205.437.458.437h1.372c.442 0 .853.19 1.13.52a8.98 8.98 0 0 1 1.728 3.202l.18.6c.163.546.692.928 1.287.928h.284c.739 0 1.339-.574 1.339-1.28v-.507a8.94 8.94 0 0 0-.698-3.466l3.442.003C14.179 8.75 15 7.965 15 7V5.518a7.78 7.78 0 0 0-1.108-3.989l-.516-.864a1.398 1.398 0 0 0-1.2-.666z"></path></g></svg>'},function(e,t){e.exports='<svg width="15" height="14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><g fill="#9A9A9A" fill-rule="nonzero"><path d="M3.306 14h-2.2C.496 14 0 13.51 0 12.905v-6.56C0 5.74.496 5.25 1.106 5.25h2.2c.61 0 1.106.491 1.106 1.095v6.56c0 .604-.497 1.095-1.106 1.095zm-2.2-7.875a.22.22 0 0 0-.222.22v6.56c0 .121.1.22.222.22h2.2a.221.221 0 0 0 .222-.22v-6.56a.22.22 0 0 0-.222-.22h-2.2z"></path><path d="M12.176 14H6.63c-.283 0-.565-.064-.818-.185l-1.54-.736a.429.429 0 0 1-.205-.588.467.467 0 0 1 .614-.195l1.54.737c.127.06.268.092.409.092h5.545a.473.473 0 0 0 .406-.225l.516-.865c.646-1.08.987-2.31.987-3.554v-1.48c0-.483-.41-.876-.916-.876H9.725a.925.925 0 0 1-.756-.384.84.84 0 0 1-.091-.813c.42-1.003.632-2.06.632-3.14V1.28a.415.415 0 0 0-.424-.405h-.284a.423.423 0 0 0-.408.294l-.179.6A9.838 9.838 0 0 1 6.32 5.277a2.39 2.39 0 0 1-1.843.847H3.105a.448.448 0 0 1-.458-.438c0-.241.205-.437.458-.437h1.372c.442 0 .853-.19 1.13-.52a8.98 8.98 0 0 0 1.728-3.202l.18-.6C7.678.382 8.207 0 8.802 0h.284c.739 0 1.339.574 1.339 1.28v.507a8.94 8.94 0 0 1-.698 3.466l3.442-.003C14.179 5.25 15 6.035 15 7v1.481a7.78 7.78 0 0 1-1.108 3.989l-.516.864c-.246.41-.706.666-1.2.666z"></path></g></svg>'},function(e,t,n){e.exports={Rating:"_21i6UqYcDluUdT_JQp4YOh"}},function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n.n(p),m=n(16),b=n(21),g=n(189),h=n(439),v=n.n(h),E=n(41),y=n.n(E),O=n(383),C=n(204),T=n(30),M=n(767),I=n(766),P=n.n(I),A=n(765),S=n.n(A),D=function(e){function t(e){i()(this,t);var n=l()(this,(t.__proto__||a()(t)).call(this,e));return n.getButtonColor=function(e,t){var r=n.props,a=r.disabled,o=r.hasWidgetHalfHeight,i=r.activeColor;return a?"inherit":e?o?"rgba(255, 255, 255, 1.00)":i:t?o?"rgba(255, 255, 255, 0.75)":v()(i).alpha(.75).toString():o?"rgba(255, 255, 255, 0.60)":"rgb(154,154,154)"},n.getButtonBackground=function(e,t){var r=n.props,a=r.disabled,o=r.hasWidgetHalfHeight,i=r.activeColor;return a?"inherit":e?o?"rgba(255, 255, 255, 0.20)":v()(i).alpha(.1).toString():t?o?"rgba(255, 255, 255, 0.10)":v()(i).alpha(.05).toString():void 0},n.state={isThumbsUpHovered:!1,isThumbsDownHovered:!1},n}return _()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.conversationRating,r=t.onThumbsUp,a=t.onThumbsDown,o=(t.activeColor,t.disabled),i=this.state,s=i.isThumbsUpHovered,c=i.isThumbsDownHovered;return f.a.createElement("div",{className:"rate-buttons"},f.a.createElement("button",{className:"rate-button",style:{color:this.getButtonColor("THUMBS_UP"===n,s),background:this.getButtonBackground("THUMBS_UP"===n,s)},onClick:r,disabled:o,onMouseEnter:function(){return e.setState({isThumbsUpHovered:!0})},onMouseLeave:function(){return e.setState({isThumbsUpHovered:!1})},onFocus:function(){return e.setState({isThumbsUpHovered:!0})},onBlur:function(){return e.setState({isThumbsUpHovered:!1})},tabIndex:"1000","aria-label":"Give a positive conversation rating"},f.a.createElement(y.a,{className:"rate-icon thumbs-up",src:P.a})),f.a.createElement("button",{className:"rate-button",style:{color:this.getButtonColor("THUMBS_DOWN"===n,c),background:this.getButtonBackground("THUMBS_DOWN"===n,c)},onClick:a,disabled:o,onMouseEnter:function(){return e.setState({isThumbsDownHovered:!0})},onMouseLeave:function(){return e.setState({isThumbsDownHovered:!1})},onFocus:function(){return e.setState({isThumbsDownHovered:!0})},onBlur:function(){return e.setState({isThumbsDownHovered:!1})},tabIndex:"1000","aria-label":"Give a negative conversation rating"},f.a.createElement(y.a,{className:"rate-icon thumbs-down",src:S.a})))}}]),t}(p.Component);D.PropTypes={onThumbsUp:p.PropTypes.func.isRequired,onThumbsDown:p.PropTypes.func.isRequired,conversationRating:p.PropTypes.string,activeColor:p.PropTypes.string,disabled:p.PropTypes.bool,hasWidgetHalfHeight:p.PropTypes.bool};var k=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.onRatingClick=function(e){var t=r.props,n=t.conversationRating,a=t.rateConversation;n!==e&&a(e)},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.conversationRating,r=t.activeColor,a=t.disabled,o=t.hasWidgetHalfHeight;return f.a.createElement("div",{className:M.Rating},f.a.createElement(D,{activeColor:r,conversationRating:n,onThumbsUp:function(){return!a&&e.onRatingClick("THUMBS_UP")},onThumbsDown:function(){return!a&&e.onRatingClick("THUMBS_DOWN")},hasWidgetHalfHeight:o}))}}]),t}(p.Component);k.PropTypes={rateConversation:p.PropTypes.func.isRequired,conversationRating:p.PropTypes.string,activeColor:p.PropTypes.string,disabled:p.PropTypes.bool};t.a=Object(g.compose)(Object(m.connect)(function(e,t){var n=Object(T.g)(e);return{conversationId:n,conversationRating:Object(C.a)(e,{conversationId:n})}},function(e){return{actions:Object(b.bindActionCreators)({rateConversation:O.a},e)}}),Object(g.branch)(function(e){return!e.conversationId},g.renderNothing),Object(g.withProps)(function(e){return{rateConversation:function(t){e.actions.rateConversation({conversationId:e.conversationId,rating:t})},activeColor:e.hasWidgetHalfHeight?"rgba(255,255,255,1.00)":e.activeColor}}))(k)},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(16),u=n(253),l=n(86),d=n(104),_=n(4),p=n(22),f=9e5,m=72e5,b={availability:s.PropTypes.oneOf([l.b.AVAILABLE,l.b.OFFLINE,l.b.ON_CALL]),lastActivityAt:s.PropTypes.number,foregroundColor:s.PropTypes.string};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e<=t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e>=t}function v(t){var n=t.lastActivityAt,r=t.availability,a=t.foregroundColor;return r===l.b.OFFLINE||h(n)?e.createElement(u.b,{foregroundColor:a}):g(n)?e.createElement(u.c,{foregroundColor:a}):e.createElement(u.a,{time:n,foregroundColor:a})}function E(t){var n=t.lastActivityAt,r=t.availability,a=t.foregroundColor;return r===l.b.ON_CALL||g(n)?e.createElement(u.c,{foregroundColor:a}):h(n)?e.createElement(u.b,{foregroundColor:a}):e.createElement(u.a,{time:n,foregroundColor:a})}function y(t){var n=t.hasCentralizedRouting,r=t.availability,o=t.theme,s=i()(t,["hasCentralizedRouting","availability","theme"]);if(!r)return e.createElement("div",null);var c=o.foregroundColor;return n?e.createElement(v,a()({},s,{foregroundColor:c})):e.createElement(E,a()({},s,{foregroundColor:c}))}v.propTypes=b,E.propTypes=b,y.propTypes=a()({},b,{hasCentralizedRouting:s.PropTypes.bool}),t.a=Object(c.connect)(function(e,t){var n=Object(d.b)(e,t);return{availability:n.availability,lastActivityAt:n.lastActivityAt,hasCentralizedRouting:Object(_.A)(e),theme:Object(p.n)(e)}})(y)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(123),o=n(769),i=n(440),s=n.n(i);var c=function(t){var n=t.driftUser,r=t.orgName,i=t.backgroundColor,c=t.shouldRenderAgentStatus,u=n&&(n.avatarUrl||n.bot)&&e.createElement(a.a,{shape:"circle",user:n,color:i});return e.createElement("div",{className:s.a.ConversationTitle},u&&(n.publicProfileUrl?e.createElement("a",{href:n.publicProfileUrl,target:"_blank"},u):u),e.createElement("div",{className:s.a.ConversationInfo},e.createElement("div",{className:s.a.AgentName},function(e,t){if(e){if(e.name)return e.name;if(t)return t+" Team Member"}return t}(n,r)),c&&!(n&&n.bot)&&e.createElement(o.a,{agentId:n.id})))};c.propTypes={driftUser:r.PropTypes.object,orgName:r.PropTypes.string.isRequired,backgroundColor:r.PropTypes.string,isOnline:r.PropTypes.bool,shouldRenderAgentStatus:r.PropTypes.bool},c.defaultProps={shouldRenderAgentStatus:!1},t.a=c}).call(this,n(0))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10),babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),react_redux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(16),redux__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(21),recompose_compose__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(26),recompose_compose__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(recompose_compose__WEBPACK_IMPORTED_MODULE_8__),recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(103),recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9__),recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(121),recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10__),recompose_branch__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(50),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(recompose_branch__WEBPACK_IMPORTED_MODULE_11__),classnames__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(9),classnames__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_12__),utils_Logger__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(36),_SVGButton__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(442),_ConversationTitle__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(770),Widget_components_Rating__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(768),_modules_DriftUser__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(210),_messages__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(764),Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(30),modules_UI__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(29),Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(15),Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(22),Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(44),utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(34),Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(27),_style_styl__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(198),_style_styl__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_style_styl__WEBPACK_IMPORTED_MODULE_26__),_React=React,Component=_React.Component,dom=_React.DOM,component=_React.createElement,PropTypes=_React.PropTypes,ConversationListButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Go to your list of past conversations",className:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.HeaderActionButton,svgString:__webpack_require__(452),onClick:t})},ComposeButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Start a new conversation",className:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.HeaderActionButton,onClick:t,svgString:__webpack_require__(555)})},CloseButton=function(e){var t=e.onClick;return component(_SVGButton__WEBPACK_IMPORTED_MODULE_14__.a,{"aria-label":"Close the Chat Widget",className:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.HeaderActionButton,onClick:t,svgString:__webpack_require__(332)})},ExperimentalHeader=function(_Component){function ExperimentalHeader(){var _ref4,_this;babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default()(this,ExperimentalHeader);var _this,thisFn=function(){return _this}.toString(),thisName=thisFn.slice(thisFn.indexOf("return")+6+1,thisFn.indexOf(";")).trim();eval(thisName+" = this;"),_this.handleComposeButtonClick=_this.handleComposeButtonClick.bind(_this),_this.handleListButtonClick=_this.handleListButtonClick.bind(_this);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,(_ref4=ExperimentalHeader.__proto__||babel_runtime_core_js_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_1___default()(ExperimentalHeader)).call.apply(_ref4,[this].concat(args)))}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(ExperimentalHeader,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default()(ExperimentalHeader,[{key:"componentWillMount",value:function(){var e=this.props,t=e.lastDriftUser,n=e.shouldRenderAgentStatus,r=null!=t?t.id:void 0;if(null!=r&&n)return this.props.actions.fetchAgentStatus(r)}},{key:"componentWillReceiveProps",value:function(e){var t=e.lastDriftUser,n=e.shouldRenderAgentStatus,r=null!=t?t.id:void 0,a=(null!=this.props.lastDriftUser?this.props.lastDriftUser.id:void 0)!==r;if(null!=r&&a&&n)return this.props.actions.fetchAgentStatus(r)}},{key:"getConversationTitle",value:function(){var e=this.props,t=e.organizationName,n=e.backgroundColor,r=e.lastDriftUser,a=e.isOnline,o=e.shouldRenderAgentStatus,i=(e.currentSidebarView,e.lastAgentResponseAt);return React.createElement(_ConversationTitle__WEBPACK_IMPORTED_MODULE_15__.a,{driftUser:i?r:void 0,orgName:t,backgroundColor:n,isOnline:a,shouldRenderAgentStatus:o})}},{key:"handleComposeButtonClick",value:function(){return this.props.actions.goToNewConversation({autoFocus:!0})}},{key:"handleListButtonClick",value:function(){return this.props.actions.goToConversationList()}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.hasWidgetHalfHeight,r=e.activeColor,a=n?"#"+t.backgroundColor:"#ffffff",o=n?"#"+t.foregroundColor:"#9A9A9A",i=n?"rgba(255,255,255,0.2)":"#eeeeee";return React.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()({"widget-header-mobile":Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()},t.widgetHalfHeight?_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.MessengerHeaderHalfHeight:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.MessengerHeader),style:{backgroundColor:a,color:o}},React.createElement("div",{className:"HEADER-A"},["CONVERSATION","NEW_CONVERSATION","NEW_CONVERSATION_AWAY","NEW_CONVERSATION_CAMPAIGN"].includes(this.props.currentSidebarView)?[React.createElement("div",{key:"title",className:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.HeaderTitle},this.props.organizationName),(this.props.allowNewConversations||this.props.numConversations>1)&&React.createElement(ConversationListButton,{key:"list-button",onClick:this.handleListButtonClick})]:[React.createElement("div",{key:"title",className:_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.HeaderTitle},React.createElement(_messages__WEBPACK_IMPORTED_MODULE_18__.a,null)),this.props.allowNewConversations&&React.createElement(ComposeButton,{key:"compose-button",onClick:this.handleComposeButtonClick})],this.props.allowSidebarClose&&React.createElement(CloseButton,{onClick:this.props.onCloseButtonClicked})),"CONVERSATION"===this.props.currentSidebarView&&React.createElement("div",{className:"HEADER-B",style:{borderTopColor:i}},React.createElement("div",null,this.getConversationTitle()),React.createElement("div",null,React.createElement(Widget_components_Rating__WEBPACK_IMPORTED_MODULE_16__.a,{activeColor:r,hasWidgetHalfHeight:n}))))}}],[{key:"initClass",value:function(){this.propTypes={onCloseButtonClicked:PropTypes.func.isRequired,lastDriftUser:PropTypes.object,shouldRenderAgentStatus:PropTypes.bool.isRequired,theme:PropTypes.shape({backgroundColor:PropTypes.string,foregroundColor:PropTypes.string,textColor:PropTypes.string,activeColor:PropTypes.string,widgetBackgroundColor:PropTypes.string,widgetHalfHeight:PropTypes.bool})}}}]),ExperimentalHeader}(Component);ExperimentalHeader.initClass();var FloatingHeader=function(e){return React.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_12___default()(_style_styl__WEBPACK_IMPORTED_MODULE_26___default.a.FloatingHeader,babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({hypergrowthTheme:e.isHypergrowthTheme,mobile:Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()},e.continuousBackgroundGradient,e.isEmbeddedMessenger&&e.isHypergrowthTheme&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()))})},makeMapStateToProps=function(){var e=Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.k)(),t=Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.m)();return function(n,r){var a=Object(Widget_selectors_bootstrap__WEBPACK_IMPORTED_MODULE_21__.h)(n),o=e(n,r),i=t(n,r);return{currentSidebarView:n.UI.currentSidebarView,numConversations:Object(Widget_selectors_messages__WEBPACK_IMPORTED_MODULE_19__.b)(n).size,allowNewConversations:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__.c)(n),allowSidebarClose:Object(Widget_modules_Bootstrap_selectors__WEBPACK_IMPORTED_MODULE_22__.d)(n),organizationName:n.Bootstrap.embedConfiguration.organizationName,lastDriftUser:o,lastAgentResponseAt:i,isOnline:a,shouldRenderAgentStatus:!(null!=o?o.bot:void 0)&&i>0,isHypergrowthTheme:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__.j)(n),continuousBackgroundGradient:Object(Widget_modules_UI_selectors__WEBPACK_IMPORTED_MODULE_25__.c)(n)}}},mapDispatchToProps=function(e){return{actions:Object(redux__WEBPACK_IMPORTED_MODULE_7__.bindActionCreators)({goToConversationList:modules_UI__WEBPACK_IMPORTED_MODULE_20__.goToConversationList,goToNewConversation:modules_UI__WEBPACK_IMPORTED_MODULE_20__.goToNewConversation,fetchAgentStatus:_modules_DriftUser__WEBPACK_IMPORTED_MODULE_17__.b},e)}};__webpack_exports__.a=recompose_compose__WEBPACK_IMPORTED_MODULE_8___default()(Object(react_redux__WEBPACK_IMPORTED_MODULE_6__.connect)(makeMapStateToProps,mapDispatchToProps),Object(Widget_containers_withTheme__WEBPACK_IMPORTED_MODULE_23__.a)(["backgroundColor","activeColor"]),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default()(function(e){return e.isEmbeddedMessenger&&!Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()&&!e.isHypergrowthTheme},recompose_renderNothing__WEBPACK_IMPORTED_MODULE_9___default.a),recompose_branch__WEBPACK_IMPORTED_MODULE_11___default()(function(e){return e.isEmbeddedMessenger&&(Object(utils_UserAgentHelpers__WEBPACK_IMPORTED_MODULE_24__.d)()||e.isHypergrowthTheme)},recompose_renderComponent__WEBPACK_IMPORTED_MODULE_10___default()(FloatingHeader)))(ExperimentalHeader)}).call(this,__webpack_require__(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(16),u=n(254),l=n(86),d=n(104),_=n(4),p=n(22),f=9e5,m=72e5,b={availability:s.PropTypes.oneOf([l.b.AVAILABLE,l.b.OFFLINE,l.b.ON_CALL]),lastActivityAt:s.PropTypes.number,foregroundColor:s.PropTypes.string};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e<=t}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now())-e>=t}function v(t){var n=t.lastActivityAt,r=t.availability,a=t.foregroundColor;return r===l.b.OFFLINE||h(n)?e.createElement(u.b,{foregroundColor:a}):g(n)?e.createElement(u.c,{foregroundColor:a}):e.createElement(u.a,{time:n,foregroundColor:a})}function E(t){var n=t.lastActivityAt,r=t.availability,a=t.foregroundColor;return r===l.b.ON_CALL||g(n)?e.createElement(u.c,{foregroundColor:a}):h(n)?e.createElement(u.b,{foregroundColor:a}):e.createElement(u.a,{time:n,foregroundColor:a})}function y(t){var n=t.hasCentralizedRouting,r=t.availability,o=t.theme,s=i()(t,["hasCentralizedRouting","availability","theme"]);if(!r)return e.createElement("div",null);var c=o.foregroundColor;return n?e.createElement(v,a()({},s,{foregroundColor:c})):e.createElement(E,a()({},s,{foregroundColor:c}))}v.propTypes=b,E.propTypes=b,y.propTypes=a()({},b,{hasCentralizedRouting:s.PropTypes.bool}),t.a=Object(c.connect)(function(e,t){var n=Object(d.b)(e,t);return{availability:n.availability,lastActivityAt:n.lastActivityAt,hasCentralizedRouting:Object(_.A)(e),theme:Object(p.n)(e)}})(y)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(123),o=n(772),i=n(443),s=n.n(i);var c=function(t){var n=t.driftUser,r=t.orgName,i=t.backgroundColor,c=t.shouldRenderAgentStatus,u=n&&(n.avatarUrl||n.bot)&&e.createElement(a.a,{shape:"circle",user:n,color:i});return e.createElement("div",{className:s.a.ConversationTitle},u&&(n.publicProfileUrl?e.createElement("a",{href:n.publicProfileUrl,target:"_blank"},u):u),e.createElement("div",{className:s.a.ConversationInfo},e.createElement("div",{className:s.a.AgentName},function(e,t){if(e){if(e.name)return e.name;if(t)return t+" Team Member"}return t}(n,r)),c&&!(n&&n.bot)&&e.createElement(o.a,{agentId:n.id})))};c.propTypes={driftUser:r.PropTypes.object,orgName:r.PropTypes.string.isRequired,backgroundColor:r.PropTypes.string,isOnline:r.PropTypes.bool,shouldRenderAgentStatus:r.PropTypes.bool},c.defaultProps={shouldRenderAgentStatus:!1},t.a=c}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(44),m=(n(141),n(34)),b=n(9),g=n.n(b),h=n(446),v=n.n(h),E=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={hovered:!1},r.handleClick=function(){var e=r.props,t=e.value,n=e.label,a=e.onClick;a&&a({value:t,label:n})},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},r.defaultStyles=function(){var e=r.props,t=e.backgroundColor,n=e.textColor,a=r.state.hovered;return{color:a?n:t,border:"1px solid "+t,backgroundColor:a?t:n}},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.label,r=t.isEmbeddedMessenger;this.state.hovered;return e.createElement("button",{className:g()(v.a.Button,{floating:r}),style:r?{}:this.defaultStyles(),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,tabIndex:"1"},n)}}]),n}(p.Component);t.a=Object(f.a)(["backgroundColor","textColor"])(function(t){var n=t.buttons,r=t.onClick,a=t.backgroundColor,o=t.textColor,i=t.isEmbeddedMessenger;return e.createElement("div",{className:g()(v.a.ButtonGroup,{floating:i,mobile:Object(m.d)()})},e.createElement("div",{className:v.a.ButtonGroupButtons},n.map(function(t){return e.createElement(E,{key:t.get("value"),value:t.get("value"),label:t.get("label"),backgroundColor:a,textColor:o,onClick:r,isEmbeddedMessenger:i})})))})}).call(this,n(0))},function(e,t,n){"use strict";function r(e){if(!e)return!0;var t=(new DOMParser).parseFromString(e,"text/html");return!(t&&t.body&&t.body.innerText&&t.body.innerText.trim())}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(7),i=n.n(o),s=n(10),c=n.n(s),u=n(12),l=n.n(u),d=n(11),_=n.n(d),p=n(6),f=n.n(p),m=n(13),b=n.n(m),g=n(0),h=n(16),v=n(26),E=n.n(v),y=n(50),O=n.n(y),C=n(183),T=n.n(C),M=n(21),I=n(9),P=n.n(I),A=n(2),S=n(155),D=n(33),k=n(775),w=n(44),j=n(184),R=n(4),B=n(31),N=n(182),U=n(213),L=n(27),W=n(297),x=n.n(W),H=function(t){function n(){var e,t,r,a;l()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=f()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(i))),r.markAsRead=function(){var e=r.props.message;!e.get("local")&&e.get("id")&&r.props.actions.markAsRead({messageId:e.get("id")})},a=t,f()(r,a)}return b()(n,t),_()(n,[{key:"componentDidMount",value:function(){this.markAsRead(),this.props.hrefs.isEmpty()||this.props.actions.fetchLinksForMessage(this.props.message.get("id"))}},{key:"componentDidUpdate",value:function(e){e.message.get("local")&&!this.props.message.get("local")&&this.markAsRead(),Object(A.is)(e.hrefs,this.props.hrefs)||this.props.actions.fetchLinksForMessage(this.props.message.get("id"))}},{key:"render",value:function(){var t=this.props,n=t.message,r=t.color,a=t.position,o=t.backgroundColor,s=t.isEmbeddedMessenger,c=t.renderButtons,u=t.cards,l=n.get("body");if(Object(S.a)(l)&&Object(k.a)(l))return null;var d=s&&c&&c(n);return e.createElement(j.a,{backgroundColor:o,color:r,position:a,isStartConversationPrompt:this.props.isStartConversationPrompt,createdAt:n.get("createdAt"),isEmbeddedMessenger:s,className:P()(i()({},x.a.fullWidth,!!d))},Object(S.a)(l)?e.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l,s&&Object(D.a)(u)&&u.length>0&&e.createElement("div",{className:"inline-cards-section"},u.map(function(t){return e.createElement("div",{className:"inline-card-container"},t)})),d&&e.createElement("div",{className:"inline-response-buttons-section"},d))}}]),n}(g.Component);H.propTypes=a()({},j.a.propTypes,{message:g.PropTypes.instanceOf(A.Map).isRequired,actions:g.PropTypes.shape({markAsRead:g.PropTypes.func.isRequired}).isRequired});var K=E()(Object(w.a)(["backgroundColor","textColor"]),T()("textColor","color"));t.a=E()(Object(h.connect)(function(){return function(e,t){var n=t.message,r=Object(R.i)(e),a=n.get("authorId")===r.id&&n.get("authorType")===r.type;return{message:n,hrefs:Object(N.getHrefsByMessageId)(e).get(n.get("id"),Object(A.List)()),isFromViewer:a,position:a?"right":"left",isEmbeddedMessenger:Object(L.g)(e)}}},function(e){return{actions:Object(M.bindActionCreators)({markAsRead:B.p,fetchLinksForMessage:U.fetchLinksForMessage},e)}}),O()(function(e){return e.isFromViewer},K))(H)}).call(this,n(0))},function(e,t,n){"use strict";var r=n(7),a=n.n(r),o=n(0),i=n.n(o),s=n(17),c=n(26),u=n.n(c),l=n(238),d=n.n(l),_=n(83),p=n.n(_),f=n(16),m=n(9),b=n.n(m),g=n(21),h=n(31),v=n(38),E=n(447),y=n.n(E),O=function(){return i.a.createElement("svg",{className:y.a.DottedLine,x:"0px",y:"0px",width:"400px",height:"10",viewBox:"0 0 400 1"},i.a.createElement("line",{x1:"0",y1:"0.5",x2:"400",y2:"0.5"}))};t.a=u()(p()(function(e){var t=e.messages,n=e.isEmbeddedMessenger;return{message:t.first(),isEmbeddedMessenger:n}}),Object(f.connect)(null,function(e){return Object(g.bindActionCreators)({markAsRead:h.p},e)}),d()({componentDidMount:function(){var e=this.props.message;!e.get("local")&&e.get("id")&&this.props.markAsRead({messageId:e.get("id")})}}))(function(e){var t=e.isEmbeddedMessenger,n=e.continuousBackgroundGradient;return i.a.createElement("div",{className:b()(y.a.SchedulingFlowHeading,{floating:t})},i.a.createElement(O,null),i.a.createElement("p",{className:b()(y.a.SchedulingFlowHeadingCopy,a()({},n,t))},i.a.createElement(s.b,v.a.scheduleAMeeting)))})},function(e,t){e.exports='<svg width="54" height="50" xmlns="http://www.w3.org/2000/svg"><defs><filter x="-38.7%" y="-38.2%" width="177.4%" height="176.4%" filterUnits="objectBoundingBox" id="a"><feGaussianBlur stdDeviation="3.984" in="SourceGraphic"></feGaussianBlur></filter></defs><g fill="none" fill-rule="evenodd"><path d="M26.154 3.991h2.36c1.312 0 2.374 1.085 2.374 2.425v5.091H0V6.417C0 5.076 1.067 3.99 2.38 3.99h2.356V1.683c0-.68.543-1.236 1.209-1.236.665 0 1.21.556 1.21 1.236v2.308h16.581V1.683c0-.68.544-1.236 1.21-1.236.664 0 1.209.556 1.209 1.236v2.308zm4.734 11.368v13.938c0 1.34-1.061 2.424-2.373 2.424H2.38C1.067 31.721 0 30.637 0 29.297V11.508h30.865l.023 3.851z" fill="#B4C3D8" filter="url(#a)" transform="translate(11 9)"></path><path d="M41.888 23.59v13.938c0 1.34-1.061 2.424-2.373 2.424H13.38c-1.312 0-2.379-1.084-2.379-2.424V19.74h30.865l.023 3.851z" fill="#FFF"></path><path d="M28.325 31.66l.013-7.318a1 1 0 0 0-1.002-1.001l-1.08.001a1 1 0 0 0-.999.999l-.013 7.317a1 1 0 0 0 1.002 1.002l1.081-.002a1 1 0 0 0 .998-.998zM28.331 35.664l.001-.66a1 1 0 0 0-1.002-1.002l-1.08.002a1 1 0 0 0-.999.998v.66a1 1 0 0 0 1 1.003l1.082-.002a1 1 0 0 0 .998-.999z" fill="#394F5A"></path><path d="M41.888 17.806v2.29H11v-5.092c0-1.34 1.067-2.424 2.379-2.424H39.514c1.312 0 2.374 1.084 2.374 2.424v2.802z" fill="#B5D2E1"></path><path d="M17.042 16.326c-.665 0-1.209-.557-1.209-1.237v-4.853c0-.68.544-1.236 1.21-1.236.664 0 1.209.556 1.209 1.236v4.853c0 .68-.545 1.237-1.21 1.237M35.935 16.326c-.665 0-1.21-.557-1.21-1.237v-4.853c0-.68.545-1.236 1.21-1.236.665 0 1.21.556 1.21 1.236v4.853c0 .68-.545 1.237-1.21 1.237" fill="#FFF"></path><path d="M27 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM3 24a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM53 18a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" stroke="#B5D2E1" stroke-width="1.68" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2 8.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M43 3.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M49 31.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0" fill="#B5D2E1"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid" viewBox="0 0 24 24"><path d="M22 24H2c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h4V1c0-.55.45-1 1-1s1 .45 1 1v1h8V1c0-.55.45-1 1-1s1 .45 1 1v1h4c1.1 0 2 .9 2 2v18c0 1.1-.9 2-2 2zM18 4v1c0 .55-.45 1-1 1s-1-.45-1-1V4H8v1c0 .55-.45 1-1 1s-1-.45-1-1V4H2v18h20V4h-4zm-6.4 13.65c-.18.22-.45.34-.73.35h-.02c-.28 0-.54-.1-.73-.3l-2.85-3.03c-.38-.4-.36-1.03.04-1.4.43-.4 1.06-.37 1.44.03l2.08 2.2 4.44-5.15c.36-.42 1-.47 1.4-.1.43.35.48.98.12 1.4l-5.16 6z" class="icon-calendar-check"></path></svg>'},function(e,t){e.exports='<svg width="16" height="26" viewBox="0 0 16 26" xmlns="http://www.w3.org/2000/svg"><path d="M1.575 11.4c-.874.872-.88 2.286-.015 3.168l9.67 9.844c.87.886 2.295.9 3.182.028.886-.87.9-2.295.028-3.182l-8.1-8.286 8.085-8.045c.88-.878.88-2.302.002-3.182-.878-.88-2.302-.88-3.182-.002L1.575 11.4z" fill-rule="evenodd"></path></svg>'},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(1),i=n.n(o),s=n(23),c=n.n(s),u=n(10),l=n.n(u),d=n(12),_=n.n(d),p=n(11),f=n.n(p),m=n(6),b=n.n(m),g=n(13),h=n.n(g),v=n(0),E=n(16),y=n(17),O=n(9),C=n.n(O),T=n(41),M=n.n(T),I=n(2),P=n(131),A=n.n(P),S=n(50),D=n.n(S),k=n(26),w=n.n(k),j=n(523),R=n.n(j),B=n(336),N=n.n(B),U=n(183),L=n.n(U),W=n(83),x=n.n(W),H=n(522),K=n.n(H),F=n(334),q=n.n(F),z=n(147),G=n.n(z),V=n(238),Y=n.n(V),Z=n(136),J=n(27),Q=n(28),X=n(44),$=n(75),ee=n(38),te=n(191),ne=n(123),re=n(194),ae=n(780),oe=n.n(ae),ie=n(779),se=n.n(ie),ce=n(778),ue=n.n(ce),le=n(43),de=n.n(le),_e=function(t){var n=t.timeZone;return re.a[n]?e.createElement("span",null,re.a[n].label):e.createElement("span",null,n)},pe=w()(K.a,G()(function(e){var t=e.value;return{value:A()(t)}}),D()(function(e){return e.timeZone},G()(function(e){var t=e.value,n=e.timeZone;return{value:t.tz(n)}})),D()(function(e){return e.format},G()(function(e){var t=e.value,n=e.format;return{value:t.format(n)}})))(function(t){var n=t.value;return e.createElement("span",null,n)}),fe=function(t){var n=t.className,r=t.children;return e.createElement("div",{className:C()(de.a.Container,n)},r)},me=function(t){function n(){return _()(this,n),b()(this,(n.__proto__||l()(n)).apply(this,arguments))}return h()(n,t),f()(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.buttonElement.focus()}},{key:"render",value:function(){var t=this,n=this.props,r=(n.focusOnMount,n.children),a=c()(n,["focusOnMount","children"]);return e.createElement("button",i()({},a,{ref:function(e){t.buttonElement=e}}),r)}}]),n}(v.Component),be=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return e.isEmbeddedMessenger},G()(function(){return{activeColor:"rgba(34,34,34,0.80)"}}),Object(X.a)(["activeColor"])),x()(function(e){var t=e.activeColor,n=e.style,r=void 0===n?{}:n,a=c()(e,["activeColor","style"]);return i()({},a,{style:i()({},r,{color:t,backgroundColor:t})})}))(function(t){var n=t.className,r=t.children,a=c()(t,["className","children"]);return e.createElement("button",i()({},a,{className:C()(de.a.BaseButton,n),type:"button",tabIndex:"1"}),e.createElement("span",{className:de.a.BaseButtonLabel},r))}),ge=function(t){var n=t.children,r=c()(t,["children"]);return e.createElement(be,i()({},r,{className:de.a.ErrorRetryButton}),n)},he=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return!e.isEmbeddedMessenger},w()(Object(X.a)(["backgroundColor"]),L()("backgroundColor","color"))))(Z.a),ve=function(){return e.createElement("div",{className:de.a.LoadingMessage},e.createElement(he,{size:"large",color:"rgba(34,34,34,0.80)"}))},Ee=function(t){var n=t.onRetry,r=t.errorMessage,a=t.agent;return e.createElement("div",{className:de.a.ErrorMessage},e.createElement(M.a,{src:ue.a}),e.createElement("div",{className:de.a.ErrorMessageCopy},r?e.createElement(y.b,i()({},Object(te.d)(r),{values:{name:a.name}})):e.createElement(y.b,ee.a.scheduleAMeetingError)),e.createElement(ge,{onClick:n},e.createElement(y.b,ee.a.chooseNewTime)))},ye=function(t){var n=t.children;return e.createElement(fe,{className:de.a.OptionLabel},n)},Oe=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return e.isEmbeddedMessenger},G()(function(){return{activeColor:"#0176FF"}}),Object(X.a)(["activeColor"])),x()(function(e){var t=e.activeColor,n=e.style,r=c()(e,["activeColor","style"]);return i()({},r,{style:i()({},n,{color:t})})}))(function(t){var n=t.children,r=t.tabIndex,a=void 0===r?"1":r,o=t.className,s=c()(t,["children","tabIndex","className"]);return e.createElement(me,i()({},s,{type:"button",tabIndex:a,className:C()(de.a.LinkButton,o)}),n)}),Ce=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return e.isEmbeddedMessenger},G()(function(){return{color:"#0176FF"}}),w()(Object(X.a)(["activeColor"]),L()("activeColor","color"))),x()(function(e){var t=e.color,n=e.style,r=void 0===n?{}:n,a=c()(e,["color","style"]);return i()({},a,{style:i()({},r,{color:t})})}))(function(t){return e.createElement(me,i()({},t,{className:de.a.BackButton,type:"button",tabIndex:"1",title:"Back"}),e.createElement("div",null,e.createElement(M.a,{raw:!0,className:de.a.BackButtonIcon,src:oe.a})))}),Te=function(t){var n=t.children;return e.createElement(fe,null,e.createElement("div",{className:de.a.SectionHeader},n))},Me=function(t){var n=t.children;return e.createElement("div",{className:de.a.SectionHeading},n)},Ie=function(t){var n=t.date,r=t.timeZone;return e.createElement(Me,null,e.createElement(pe,{value:n,timeZone:r,format:"dddd LL"}))},Pe=function(t){var n=t.value,r=void 0===n?new Date:n,a=t.checked,o=void 0!==a&&a,s=t.onChange,u=t.timeZone,l=c()(t,["value","checked","onChange","timeZone"]);return e.createElement(Se,i()({},l,{className:de.a.TimeOption,value:r,onChange:s,checked:o}),e.createElement("div",{className:de.a.TimeOptionLabel},e.createElement(pe,{value:r,timeZone:u,format:"LT"})))},Ae=function(t){var n=t.className,r=t.value,a=t.onChange,o=(t.checked,t.tabIndex),s=void 0===o?"1":o,u=t.children,l=c()(t,["className","value","onChange","checked","tabIndex","children"]);return e.createElement(me,i()({},l,{tabIndex:s,className:C()(de.a.BaseOption,n),onClick:function(){return a(r)}}),e.createElement("div",{className:de.a.BaseOptionLabel},u))},Se=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return e.isEmbeddedMessenger},x()(function(e){var t=e.className,n=c()(e,["className"]);return i()({},n,{className:C()(de.a.ThemedBaseOption,t,"floating")})}),w()(Object(X.a)(["activeColor"]),x()(function(e){var t=e.activeColor,n=e.style,r=void 0===n?{}:n,a=c()(e,["activeColor","style"]);return i()({},a,{style:i()({},r,{color:t})})}),x()(function(e){var t=e.className,n=c()(e,["className"]);return i()({},n,{className:C()(de.a.ThemedBaseOption,t)})}))))(Ae),De=function(t){var n=t.value,r=t.onChange,a=t.selected,o=void 0!==a&&a,s=t.timeZone,u=c()(t,["value","onChange","selected","timeZone"]);return e.createElement(Se,i()({},u,{className:de.a.DateOption,value:n,onChange:r,checked:o}),e.createElement("span",{className:de.a.DateOptionWeekday},e.createElement(pe,{value:n,timeZone:s,format:"dddd"})),e.createElement("span",{className:de.a.DateOptionDate},e.createElement(pe,{value:n,timeZone:s,format:"LL"})))},ke=w()(q()({step:3,data:Object(I.OrderedSet)()}),R()("state","setState",{value:0,navigated:!1}),N()({onChange:function(e){return function(t){return function(){e.setState({value:e.state.value+t,navigated:!0})}}}}),G()(function(e){var t=e.step,n=e.data,r=e.state,a=r.value;return{focusFirstItem:r.navigated,slice:n.slice(a*t,(a+1)*t),showPrev:0!==a,showNext:a+1<Math.ceil(n.size/t)}}),Y()({componentWillUpdate:function(e){e.onRequestMoreData&&this.props.value<e.value&&!e.data.isEmpty()&&!e.showNext&&e.onRequestMoreData()}}))(function(t){var n=t.slice,r=t.showNext,a=t.showPrev,o=t.onChange,i=t.Builder,s=t.focusFirstItem;return e.createElement("div",null,e.createElement("div",null,e.createElement(i,{data:n,focusFirstItem:s})),e.createElement("div",{className:de.a.PaginationControls},a&&e.createElement(Oe,{"aria-label":"previous",tabIndex:"1",onClick:o(-1)},e.createElement(y.b,ee.a.prev)),e.createElement("div",null),r&&e.createElement(Oe,{tabIndex:"1",value:1,onClick:o(1)},e.createElement(y.b,ee.a.next))))}),we=function(t){var n=t.value,r=t.onChange,a=t.placeholder;return e.createElement("label",{className:de.a.TZSearch},e.createElement("input",{tabIndex:"1",className:de.a.TZSearchInput,type:"text",value:n,onChange:r,placeholder:a,autoComplete:"off"}))},je=function(t){function n(){var e,t,r,a;_()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=b()(this,(e=n.__proto__||l()(n)).call.apply(e,[this].concat(i))),r.state={searchValue:""},r.handleSearchValueChange=function(e){r.setState({searchValue:e.target.value})},a=t,b()(r,a)}return h()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.onChange,r=t.value,a=t.intl,o=this.state.searchValue,i=o.toLowerCase();return e.createElement("div",{className:de.a.FilterableTZList},e.createElement(we,{value:o,onChange:this.handleSearchValueChange,placeholder:a.formatMessage(ee.a.searchTimeZones)}),re.c.map(function(t){var a=t.zones.filter(function(e){return-1!==e.label.toLowerCase().indexOf(i)});if(a.length>0)return e.createElement("div",{key:t.name+"-container"},e.createElement("div",{className:de.a.TZRegion,key:t.name},t.name),a.map(function(t){return e.createElement(Ue,{key:t.value,value:t.value,label:t.label,checked:t.value===r,onChange:n})}))}))}}]),n}(v.Component);je.propTypes={value:v.PropTypes.string,onChange:v.PropTypes.func,intl:y.j.isRequired};var Re=Object(y.i)(je),Be=function(t){var n=t.focusOnMount,r=t.onClick,a=t.timeZone;return e.createElement(Oe,{focusOnMount:n,onClick:r,style:{textAlign:"right"}},e.createElement(_e,{timeZone:a}))},Ne=function(t){var n=t.start,r=void 0===n?new Date:n,a=t.end,o=void 0===a?new Date:a,i=t.timeZone,s=void 0===i?Object(re.b)():i;return e.createElement("div",{className:de.a.AppointmentInfo},e.createElement("div",null,e.createElement(pe,{value:r,timeZone:s,format:"LT"}),"—",e.createElement(pe,{value:o,timeZone:s,format:"LT"})),e.createElement("div",null,e.createElement(pe,{value:r,timeZone:s,format:"dddd, LL"})),e.createElement("div",null,e.createElement(_e,{timeZone:s})))},Ue=function(t){var n,r=t.value,o=t.label,i=t.checked,s=t.onChange;return e.createElement(Ae,{className:C()((n={},a()(n,de.a.TZOption,!0),a()(n,de.a.TZOption__Checked,!!i),n)),value:r,checked:i,onChange:s},o)},Le=function(t){var n=t.agent;return e.createElement("div",{className:de.a.AgentInfo},e.createElement("div",null,e.createElement(ne.a,{user:n})),e.createElement("span",{className:de.a.AgentName},n?n.name:null))},We=Object(y.i)(function(t){var n=t.value,r=t.intl;return e.createElement("span",null,n&&Object(te.b)(n,r))}),xe=function(t){return e.createElement(M.a,i()({},t,{raw:!0,className:de.a.CalendarCheckIcon,src:se.a}))},He=w()(Object(E.connect)(function(e){return{isEmbeddedMessenger:Object(J.g)(e)}}),D()(function(e){return!!e.isEmbeddedMessenger},G()(function(){return{backgroundColor:"#FAFAFA",color:"#000000",borderBottom:"1px solid #EEEEEE"}}),w()(Object(X.a)(["backgroundColor","textColor"]),L()("textColor","color"))))(function(t){var n=t.slotDuration,r=t.color,a=t.backgroundColor,o=t.borderBottom;return e.createElement("div",{className:de.a.CardHeader,style:{backgroundColor:a,color:r,borderBottom:o}},e.createElement("div",{className:de.a.CardHeaderTitle},e.createElement(xe,null),e.createElement(y.b,ee.a.scheduleAMeeting)),e.createElement(We,{value:n}))}),Ke=function(t){function n(){var e,t,r,a;_()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=b()(this,(e=n.__proto__||l()(n)).call.apply(e,[this].concat(i))),r.scrollToTop=function(){r._nodeRef&&(r._nodeRef.scrollTop=0)},r.handleWheel=function(e){e.stopPropagation()},a=t,b()(r,a)}return h()(n,t),f()(n,[{key:"render",value:function(){var t=this,n=this.props.children;return e.createElement("div",{ref:function(e){t._nodeRef=e},className:de.a.CardContent,onWheel:this.handleWheel},n)}}]),n}(v.Component);Ke.propTypes={children:v.PropTypes.node};var Fe=function(t){var n=t.children;return e.createElement("div",{className:de.a.SchedulingFlowCard},n)},qe=function(t){var n=t.children,r=t.onClick;return e.createElement(be,{className:de.a.ConfirmButton,onClick:r},n)},ze=function(t){var n=t.agent,r=t.onChange,a=(t.value,t.dates),o=void 0===a?Object(I.Set)():a,i=t.timeZone,s=t.onTimeZoneButtonClick,c=t.onRequestMoreAvailability,u=t.shouldFocusContent;return e.createElement("div",null,e.createElement(Te,null,e.createElement(Le,{agent:n})),e.createElement(ye,null,e.createElement("span",null,e.createElement(y.b,ee.a.selectADay)),e.createElement("span",null,e.createElement(Be,{focusOnMount:u,timeZone:i,onClick:s}))),e.createElement(ke,{data:o,step:3,onRequestMoreData:c,Builder:function(t){var n=t.timeZone,r=t.onChange;return function(t){var a=t.data,o=t.focusFirstItem;return e.createElement("div",{className:de.a.DateOptionsList},a.map(function(t,a){return e.createElement(De,{focusOnMount:0===a&&o,key:a+"-"+t,value:t,timeZone:n,onChange:r})}))}}({timeZone:i,onChange:r})}))},Ge=function(t){var n=t.date,r=void 0===n?new Date:n,a=t.times,o=void 0===a?Object(I.Set)():a,i=t.timeZone,s=void 0===i?Object(re.b)():i,c=t.onBackButtonClick,u=t.onTimeZoneButtonClick,l=t.onChange,d=t.value;return e.createElement("div",null,e.createElement(Te,null,e.createElement("div",{className:de.a.SectionHeaderMenu},e.createElement(Ce,{focusOnMount:!0,onClick:c})),e.createElement(Ie,{date:r,timeZone:s})),e.createElement(ye,null,e.createElement("span",null,e.createElement(y.b,ee.a.selectATime)),e.createElement("span",null,e.createElement(Be,{timeZone:s,onClick:u}))),e.createElement(ke,{data:o.toList(),step:6,Builder:function(t){var n=t.timeZone,r=t.value,a=t.onChange;return function(t){var o=t.data,i=t.focusFirstItem;return e.createElement("div",{className:de.a.TimeOptionsList},o.map(function(t,o){return e.createElement(Pe,{focusOnMount:0===o&&i,key:o+"-"+t,value:t,timeZone:n,checked:r===t,onChange:a})}))}}({value:d,timeZone:s,onChange:l})}))},Ve=function(t){function n(){return _()(this,n),b()(this,(n.__proto__||l()(n)).apply(this,arguments))}return h()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.value,r=void 0===n?Object(re.b)():n,a=t.onBackButtonClick,o=t.onChange;return e.createElement("div",null,e.createElement(Te,null,e.createElement("div",{className:de.a.SectionHeaderMenu},e.createElement(Ce,{focusOnMount:!0,onClick:a})),e.createElement(Me,null,e.createElement(y.b,ee.a.timeZone))),e.createElement(Re,{value:r,onChange:o}))}}]),n}(v.Component),Ye=function(t){function n(){return _()(this,n),b()(this,(n.__proto__||l()(n)).apply(this,arguments))}return h()(n,t),f()(n,[{key:"render",value:function(){var t=this.props,n=t.agent,r=t.start,a=t.end,o=t.timeZone,i=t.onBackButtonClick,s=t.onSubmit,c=t.isPending,u=void 0!==c&&c,l=t.isSuccess,d=void 0!==l&&l,_=(t.isError,t.showBranding);return e.createElement("div",null,e.createElement(Te,null,e.createElement("div",{className:de.a.SectionHeaderMenu},!d&&e.createElement(Ce,{focusOnMount:!0,onClick:i,disabled:u})),e.createElement(Le,{agent:n})),e.createElement(fe,null,e.createElement(Ne,{start:r,end:a,timeZone:o})),!d&&e.createElement(fe,null,e.createElement(qe,{disabled:u,onClick:s},e.createElement(y.b,ee.a.schedule))),d&&_&&e.createElement(fe,null,e.createElement($.a,{className:"flex-center scheduling-card-context",message:ee.a.meetingPoweredBy,utmContent:Q.i.SCHEDULING_CARD})))}}]),n}(v.Component),Ze=function(t){function n(){var e,t,r,a;_()(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=b()(this,(e=n.__proto__||l()(n)).call.apply(e,[this].concat(i))),r.state={hasNavigated:!1},a=t,b()(r,a)}return h()(n,t),f()(n,[{key:"componentDidUpdate",value:function(e,t){e.step!==this.props.step&&this._contentRef.scrollToTop()}},{key:"componentWillReceiveProps",value:function(e){e.step===this.props.step||this.state.hasNavigated||this.setState({hasNavigated:!0})}},{key:"render",value:function(){var t=this,n=this.props,r=n.agent,a=n.step,o=n.availableDates,i=n.availabilitySlots,s=n.slotDuration,c=n.selectedDate,u=n.selectedSlot,l=n.selectedTimeZoneName,d=n.showBranding,_=(n.shouldFocusContent,n.onDateChange),p=n.onTimeChange,f=n.onTimeZoneChange,m=n.onBackButtonClick,b=n.onTimeZoneButtonClick,g=n.onSubmit,h=n.onRequestMoreAvailability,v=n.submitSuccess,E=n.isPending,y=n.error,O=n.errorMessage,C=n.onErrorRetryRequest,T=void 0;if(E)T=e.createElement(ve,null);else if(y)T=e.createElement(Ee,{agent:r,onRetry:C,errorMessage:O});else switch(a){case"DATE_STEP":T=e.createElement(ze,{shouldFocusContent:this.state.hasNavigated,agent:r,onChange:_,dates:o,timeZone:l,onTimeZoneButtonClick:b,onRequestMoreAvailability:h});break;case"TIME_STEP":T=e.createElement(Ge,{date:c,times:i,timeZone:l,onChange:p,onTimeZoneButtonClick:b,onBackButtonClick:m});break;case"TZ_STEP":T=e.createElement(Ve,{value:l,onChange:f,onBackButtonClick:m});break;case"SUBMIT_STEP":T=e.createElement(Ye,{agent:r,start:u,end:u+Object(te.f)(s),timeZone:l,onBackButtonClick:m,onSubmit:g,submitPending:E,isSuccess:v,showBranding:d});break;default:throw new Error('Unrecognized step "'+a+'"')}return e.createElement(Fe,null,e.createElement(He,{slotDuration:s}),e.createElement(Ke,{ref:function(e){t._contentRef=e}},T))}}]),n}(v.Component);Ze.propTypes={agent:v.PropTypes.object,step:v.PropTypes.oneOf(["DATE_STEP","TIME_STEP","TZ_STEP","SUBMIT_STEP"]),shouldFocusContent:v.PropTypes.bool,availableDates:v.PropTypes.object,availabilitySlots:v.PropTypes.object,submitPending:v.PropTypes.bool,hasSubmitted:v.PropTypes.bool,onStepChange:v.PropTypes.func,onBackButtonClick:v.PropTypes.func,onErrorRetryRequest:v.PropTypes.func,onRequestMoreAvailability:v.PropTypes.func,onDateChange:v.PropTypes.func,onTimeChange:v.PropTypes.func,onTimeZoneChange:v.PropTypes.func,onSubmit:v.PropTypes.func},Ze.defaultProps={agent:null,availableDates:Object(I.Set)(),appointmentSlots:Object(I.Set)(),step:"DATE_STEP",submitPending:!1,hasSubmitted:!1},t.a=Ze}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(16),m=n(21),b=n(2),g=n(26),h=n.n(g),v=n(103),E=n.n(v),y=n(50),O=n.n(y),C=n(83),T=n.n(C),M=n(131),I=n.n(M),P=(n(4),n(28)),A=n(51),S=n(31),D=n(781),k=n(84),w=n(90),j=n(301),R=n(194),B=function(e){return e.appointment&&e.appointment.availabilitySlot?"SUBMIT_STEP":"DATE_STEP"},N=function(t){function n(e){i()(this,n);var t=l()(this,(n.__proto__||a()(n)).call(this,e));U.call(t);var r=e.appointment&&e.appointment.endUserTimeZone||e.defaultTimeZoneName;return t.state={currentStep:B(e),history:Object(b.Stack)(),selectedTimeZoneName:r,selectedDate:null,selectedSlot:e.appointment&&e.appointment.availabilitySlot||null,availabilitySlotsByDate:t.computeAvailabilitySlotsByDate(e.availabilityInfo.slots,r)},t}return _()(n,t),c()(n,[{key:"computeAvailabilitySlotsByDate",value:function(e,t){return e.groupBy(function(e){return I.a.tz(e,t).startOf("day").valueOf()})}},{key:"computeAvailability",value:function(e){var t=this;this.setState(function(n){return{availabilitySlotsByDate:t.computeAvailabilitySlotsByDate(e,n.selectedTimeZoneName)}})}},{key:"computeSelectedDate",value:function(e,t,n){var r=I.a.tz.zone(t).utcOffset(e),a=I.a.tz.zone(n).utcOffset(e);return I()(e).add(a-r,"minutes")}},{key:"componentDidMount",value:function(){this.props.actions.trackImpression({view:P.i.SCHEDULING_CARD}),this.props.appointment||this.props.actions.fetchAgentAvailability(this.props.agentId,{meetingType:this.props.meetingType}),this.props.actions.markAsRead({messageId:this.props.messageId})}},{key:"componentWillReceiveProps",value:function(e){e.availabilityInfo.slots.equals(this.props.availabilityInfo.slots)||this.computeAvailability(e.availabilityInfo.slots)}},{key:"render",value:function(){var t=this.props,n=t.agent,r=t.availabilityInfo,a=t.availabilityFetchStatus,o=t.scheduleAppointmentFetchStatus,i=t.appointment,s=t.showBranding,c=t.shouldFocusContent,u=this.state,l=u.currentStep,d=u.selectedDate,_=u.selectedSlot,p=u.selectedTimeZoneName,f=u.availabilitySlotsByDate,m=i&&i.availabilitySlot,g=i&&i.slotDuration||r.slotDuration,h=f.keySeq().toList(),v=f.get(d,Object(b.Set)()),E=!m&&(f.isEmpty()&&a.pending||o.pending),y=!m&&(a.error||o.error),O=y&&o.message;return e.createElement(D.a,{agent:n,step:l,shouldFocusContent:c,selectedDate:d,selectedSlot:_,selectedTimeZoneName:p,slotDuration:g,availableDates:h,availabilitySlots:v,onDateChange:this.handleDateChange,onTimeChange:this.handleTimeChange,onTimeZoneChange:this.handleTimeZoneChange,onTimeZoneButtonClick:this.handleTimeZoneButtonClick,onBackButtonClick:this.handleBackButtonClick,onErrorRetryRequest:this.handleErrorRetryRequest,onSubmit:this.handleSubmit,onRequestMoreAvailability:this.handleRequestMoreAvailability,isPending:E,submitSuccess:m,error:y,errorMessage:O,showBranding:s})}}]),n}(p.Component);N.propTypes={agentId:p.PropTypes.number,bookingAgentId:p.PropTypes.number,meetingType:p.PropTypes.string,messageId:p.PropTypes.number,conversationId:p.PropTypes.number,showBranding:p.PropTypes.bool,actions:p.PropTypes.object,agent:p.PropTypes.object,appointment:p.PropTypes.object,availabilityInfo:p.PropTypes.object,defaultTimeZoneName:p.PropTypes.string,availabilityFetchStatus:p.PropTypes.object,scheduleAppointmentFetchStatus:p.PropTypes.object},N.defaultProps={availabilityInfo:new w.a,defaultTimeZoneName:Object(R.b)()};var U=function(){var e=this;this.handleTimeZoneChange=function(t){var n=e.computeAvailabilitySlotsByDate(e.props.availabilityInfo.slots,t);e.setState(function(r){var a=e.computeSelectedDate(r.selectedDate,r.selectedTimeZoneName,t),o=n.get(a,Object(b.Set)());return{selectedTimeZoneName:t,availabilitySlotsByDate:n,selectedDate:o.isEmpty()?null:a,currentStep:o.isEmpty()?"DATE_STEP":r.history.peek(),history:r.history.pop()}})},this.handleTimeChange=function(t){var n=parseInt(t,10);e.setState(function(e){return{selectedSlot:n,currentStep:"SUBMIT_STEP",history:e.history.push(e.currentStep)}})},this.handleDateChange=function(t){var n=parseInt(t,10);e.setState(function(e){return{selectedDate:n,currentStep:"TIME_STEP",history:e.history.push(e.currentStep)}})},this.handleSubmit=function(){e.props.actions.scheduleAppointment({conversationId:e.props.conversationId,agentId:e.props.agentId,bookingAgentId:e.props.bookingAgentId,availabilitySlot:e.state.selectedSlot,slotDuration:e.props.availabilityInfo.slotDuration,agentTimeZone:e.props.availabilityInfo.agentTimeZone,endUserTimeZone:e.state.selectedTimeZoneName,meetingType:e.props.meetingType})},this.handleTimeZoneButtonClick=function(){e.setState(function(e){return{currentStep:"TZ_STEP",history:e.history.push(e.currentStep)}})},this.handleBackButtonClick=function(){e.setState(function(e){return{currentStep:e.history.peek(),history:e.history.pop()}})},this.handleErrorRetryRequest=function(){e.props.availabilityFetchStatus.error?e.props.actions.fetchAgentAvailability(e.props.agentId,{meetingType:e.props.meetingType}):e.props.scheduleAppointmentFetchStatus.error&&(e.props.actions.scheduleAppointmentReset({agentId:e.props.agentId}),e.setState(function(e){return{currentStep:"DATE_STEP",history:e.history.push(e.currentStep)}}))},this.handleRequestMoreAvailability=function(){var t=e.props,n=t.availabilityFetchStatus,r=t.meetingType,a=t.agentId,o=t.availabilityInfo;n.pending||e.props.actions.fetchAgentAvailability(a,{meetingType:r,start:o.nextRequestStartFrom})}},L=h()(Object(f.connect)(function(){var e=Object(j.e)(),t=Object(j.a)(),n=Object(j.b)(),r=Object(j.d)();return function(a,o){return{shouldRenderSchedulingCard:e(a,o),agentId:t(a,o),bookingAgentId:n(a,o),meetingType:r(a,o)}}}),O()(function(e){return!e.shouldRenderSchedulingCard},E.a,Object(f.connect)(j.c,function(e,t){return{actions:Object(m.bindActionCreators)({markAsRead:S.p,fetchAgentAvailability:k.a,scheduleAppointment:k.d,trackImpression:A.e,scheduleAppointmentReset:k.f},e)}})),T()(function(e){return e}));t.a=L(N)}).call(this,n(0))},function(e,t,n){e.exports={LinkCard:"BZrglS3c9vP7JRKEo7Cpe"}},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(2),m=n(9),b=n.n(m),g=n(26),h=n.n(g),v=n(44),E=n(139),y=n.n(E),O=n(783),C=n.n(O),T=["GIPHY"],M=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={expanded:!1,hideThumbnail:!1},r.handleExpandClick=function(e){e.preventDefault(),r.setState({expanded:!0}),r.titleElement.focus()},r.handleImageError=function(){r.setState({hideThumbnail:!0})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"renderBody",value:function(){var t=this.props.card,n=this.state.hideThumbnail,r=t.data.getPrimaryRel();if("player"===r)return e.createElement("div",{style:{overflow:"hidden"},dangerouslySetInnerHTML:{__html:t.data.html}});if("summary"===r){var a=t.data.links.get("thumbnail",Object(f.List)()).first();if(a&&!n){var o=a.getIn(["media","width"])/a.getIn(["media","height"])>1.05?"thumbnail-landscape":"thumbnail-square";return e.createElement("div",{className:"flex-center "+o},e.createElement("a",{tabIndex:"1",href:t.data.url,target:"_blank"},e.createElement("img",{src:a.get("href"),onError:this.handleImageError})))}}}},{key:"renderDescription",value:function(){var t=this.props.card.data.meta.description,n=t.length>200;return this.state.expanded||!n?e.createElement(y.a,{properties:{target:"_blank",rel:"noopener noreferrer nofollower"}},t):e.createElement("span",null,t.substring(0,200),"... ",e.createElement("button",{tabIndex:"1",onClick:this.handleExpandClick},"read more"))}},{key:"render",value:function(){var t=this,n=this.props,r=n.card,a=n.activeColor,o=r.data.getPrimaryRel(),i=r.data.links.get("icon",Object(f.List)()).filter(function(e){return e.getIn(["media","width"],0)>=16}).sortBy(function(e){return e.getIn(["media","width"],0)}).first();return e.createElement("div",{className:b()(C.a.LinkCard,o)},this.renderBody(),!T.includes(r.data.meta.site)&&e.createElement("div",{className:"info"},e.createElement("div",{className:"title",style:{color:a}},e.createElement("a",{ref:function(e){t.titleElement=e},tabIndex:"1",href:r.data.url,target:"_blank"},r.data.meta.title)),r.data.meta.description&&e.createElement("div",{className:"description"},this.renderDescription()),r.data.meta.site&&e.createElement("div",{className:"site"},i&&e.createElement("div",{style:{backgroundImage:"url("+i.get("href")+")",backgroundSize:"contain",backgroundRepeat:"none",width:"16px",height:"16px",marginRight:"5px"}}),r.data.meta.site)))}}]),n}(p.Component);M.propTypes={card:p.PropTypes.object.isRequired,activeColor:p.PropTypes.string},t.a=h()(Object(v.a)(["activeColor"]))(M)}).call(this,n(0))},function(e,t,n){e.exports={RotatingAvatar:"_2Vlp7p2d9AyXpeqr17k0LG"}},function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n.n(p),m=n(2),b=n(123),g=n(785),h=n.n(g),v=function(e){function t(){var e,n,r,o;i()(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=r=l()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(c))),r.state={tick:0},r.handleTick=function(){r.setState(function(e){return{tick:e.tick+1}})},o=n,l()(r,o)}return _()(t,e),c()(t,[{key:"componentDidMount",value:function(){window&&(this.intervalId=window.setInterval(this.handleTick,this.props.delay))}},{key:"componentWillUnmount",value:function(){window&&window.clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props.users,t=e.get(this.state.tick%e.size);return f.a.createElement("div",{className:h.a.RotatingAvatar},f.a.createElement(b.a,{user:m.Map.isMap(t)?t.toObject():t}))}}]),t}(p.Component);v.propTypes={users:p.PropTypes.object,delay:p.PropTypes.number},v.defaultProps={users:Object(m.List)(),delay:2e3},t.a=v},function(e,t,n){"use strict";var r=n(23),a=n.n(r),o=n(1),i=n.n(o),s=n(21),c=n(404),u=n(17),l=n(214),d=n(26),_=n.n(d),p=n(83),f=n.n(p),m=n(335),b=n.n(m),g=n(38),h=n(44),v=n(384),E=n(137),y=n(31),O=n(54),C=n(4);var T=_()(u.i,f()(function(e){var t=e.intl,n=a()(e,["intl"]);return i()({},n,{requiredFieldErrorCopy:t.formatMessage(g.a.requiredField),invalidEmailErrorCopy:t.formatMessage(g.a.invalidEmail)})}));var M=Object(c.reduxForm)({form:"identifyLead",fields:["email"],validate:function(e,t){return{email:function(e,t){return e?Object(l.isEmail)(e)?void 0:t.invalidEmailErrorCopy:t.requiredFieldErrorCopy}(e.email,t)}}},function(e){return{anonymousId:e.Bootstrap.anonymousId,orgId:e.Bootstrap.orgId,integrations:e.Integration,messageContext:Object(C.s)(e)}},function(e){return Object(s.bindActionCreators)({identifyLead:E.d,requestCreateConversationEvent:y.v},e)},function(e,t,n){var r=e.anonymousId,a=e.orgId,o=e.integrations,s=e.messageContext,c=n.conversationId,u=t.identifyLead,l=t.requestCreateConversationEvent;return i()({},n,e,t,{onSubmit:function(e){u(a,r,e.email),l({type:O.c,conversationId:c,conversationEventExtra:{email:e.email,leadCapture:{email:e.email,integrations:o,context:s}}})}})});t.a=_()(Object(h.a)(["activeColor","backgroundColor","foregroundColor"]),b()({foregroundColor:"color"}),T,M)(v.a)},,function(e,t,n){"use strict";(function(e){var r=n(23),a=n.n(r),o=n(0),i=n(16),s=n(26),c=n.n(s),u=n(335),l=n.n(u),d=n(542),_=n(53),p=n(44),f=function(e){return{name:e,type:"LEAD",socialProfile:{}}},m=function(t){var n=t.backgroundColor,r=t.color,o=t.emailCaptureMessage,i=t.hasIdentified,s=t.sender,c=t.createdAt,u=t.conversationId,l=a()(t,["backgroundColor","color","emailCaptureMessage","hasIdentified","sender","createdAt","conversationId"]);return e.createElement("div",l,e.createElement(d.a,{sender:s,emailCaptureMessage:o,createdAt:c}),e.createElement(d.b,{backgroundColor:n,color:r,hasIdentified:i,conversationId:u}))};m.propTypes={backgroundColor:o.PropTypes.string.isRequired,color:o.PropTypes.string.isRequired,emailCaptureMessage:o.PropTypes.string,hasIdentified:o.PropTypes.bool.isRequired,sender:o.PropTypes.object.isRequired,createdAt:o.PropTypes.number.isRequired,conversationId:o.PropTypes.any.isRequired},t.a=c()(Object(p.a)(["activeColor","textColor"]),l()({activeColor:"backgroundColor",textColor:"color"}),Object(i.connect)(function(e){var t=e.Bootstrap.embedConfiguration,n=t.theme,r=t.organizationName;return{emailCaptureMessage:n.emailCaptureMessage||void 0,hasIdentified:e.Event.hasIdentified,sender:Object(_.g)(e)||f(r)}},function(){return{}}))(m)}).call(this,n(0))},function(e,t,n){e.exports={AttachmentUploadProgress:"_33TDt3NvX83jBkNZLft_M6"}},,function(e,t,n){e.exports={SendButton:"qrX9HNxW57u0nYVlv67Fb"}},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(41),m=n.n(f),b=n(17),g=n(141),h=n(242),v=n(792),E=n.n(v),y=n(526),O=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.state={hover:!1},r.handleMouseEnter=function(){r.setState({hover:!0})},r.handleMouseLeave=function(){r.setState({hover:!1})},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.isAway,r=t.onClick;return e.createElement("button",{className:E.a.SendButton,style:{color:this.color},onClick:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,tabIndex:"1000"},e.createElement(m.a,{className:"flex",src:y}),e.createElement("span",null,n?e.createElement(b.b,h.b.composerLeaveMessage):e.createElement(b.b,h.b.composerSendMessage)))}},{key:"color",get:function(){var e=this.props.color;if(e)return this.state.hover?Object(g.a)(e,.2):e}}]),n}(p.Component);O.propTypes={color:p.PropTypes.string.isRequired,isAway:p.PropTypes.bool,onClick:p.PropTypes.func},O.defaultProps={isAway:!1},t.a=O}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(16),m=n(21),b=n(9),g=n.n(b),h=n(17),v=n(136),E=n(67),y=n(4),O=n(38),C=function(t){var n=t.className,r=t.style,a=t.children;return e.createElement("div",{className:g()(n,"flex"),style:r},a)},T=function(t){var n=t.className,r=t.style;return e.createElement(C,{className:n,style:r},e.createElement(h.b,O.a.connected))},M=function(t){var n=t.className,r=t.style,a=t.dotSize;return e.createElement(C,{className:n,style:r},e.createElement(h.b,O.a.connecting),e.createElement(v.a,{size:a,color:"#ccc",style:{marginLeft:"3px"}}))},I=function(t){var n=t.className,r=t.style,a=t.onRetryClick;return e.createElement(C,{className:n,style:r},e.createElement(h.b,O.a.connectionFailed),e.createElement("a",{style:{marginLeft:"4px"},onClick:a},e.createElement(h.b,O.a.connectionRetry)))},P=function(t){function n(){var e,t,r,o;i()(this,n);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return t=r=l()(this,(e=n.__proto__||a()(n)).call.apply(e,[this].concat(c))),r.handleRetryClick=function(){r.props.actions.bootstrapEndUser()},o=t,l()(r,o)}return _()(n,t),c()(n,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.style,a=t.status,o=t.dotSize;return"success"===a?e.createElement(T,{className:n,style:r}):"pending"===a?e.createElement(M,{className:n,style:r,dotSize:o}):e.createElement(I,{className:n,style:r,onRetryClick:this.handleRetryClick})}}]),n}(p.Component);P.propTypes={className:p.PropTypes.string,style:p.PropTypes.object,status:p.PropTypes.oneOf(["pending","failure","success"]).isRequired,dotSize:p.PropTypes.oneOf(["extra-small","small","medium"]),actions:p.PropTypes.shape({bootstrapEndUser:p.PropTypes.func.isRequired})},P.defaultProps={dotSize:"extra-small"};t.a=Object(f.connect)(function(e){return{status:Object(y.h)(e)}},function(e){return{actions:Object(m.bindActionCreators)({bootstrapEndUser:E.a},e)}})(P)}).call(this,n(0))},function(e,t,n){e.exports={EmojiPicker:"_6UgR56zBr73EKEfK2r-A9"}},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n(1),a=n.n(r),o=n(59),i=n.n(o),s=n(154),c=n.n(s),u=n(10),l=n.n(u),d=n(12),_=n.n(d),p=n(11),f=n.n(p),m=n(6),b=n.n(m),g=n(13),h=n.n(g),v=n(0),E=n.n(v),y=function(e){function t(){_()(this,t);var e=b()(this,(t.__proto__||l()(t)).apply(this,arguments));return e.state={isLoaded:!1},e}return h()(t,e),f()(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.load()}},{key:"componentDidUpdate",value:function(e){if(this.props.modules===e.modules)return null;this.load()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"load",value:function(){var e=this;this.setState({isLoaded:!1});var t=this.props.modules,n=c()(t);i.a.all(n.map(function(e){return t[e]()})).then(function(e){return n.reduce(function(t,n,r){return t[n]=e[r],t},{})}).then(function(t){if(!e._isMounted)return null;e.setState({modules:t,isLoaded:!0})})}},{key:"render",value:function(){return this.state.isLoaded?E.a.Children.only(this.props.children(this.state.modules)):null}}]),t}(E.a.Component);y.propTypes={children:E.a.PropTypes.func.isRequired};var O=function(e,t){return function(n){return E.a.createElement(y,{modules:t},function(t){return E.a.createElement(e,a()({},t,n))})}}},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(23),i=n.n(o),s=n(0),c=n(796),u=n(795),l=n.n(u),d=function(t){var n=t.Picker,r=t.onSelect,o=i()(t,["Picker","onSelect"]);return e.createElement("div",{className:l.a.EmojiPicker},e.createElement(n,a()({color:"#333333",onClick:r,emojiSize:20,sheetSize:20,title:""},o)))};d.propTypes={onSelect:s.PropTypes.func},t.a=Object(c.a)(d,{Picker:function(){return n.e(0).then(function(){var e=n(1542);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})}).then(function(e){return e.Picker})}})}).call(this,n(0))},function(e,t,n){e.exports={Drawer:"_32On7MvQDqcYybZOg6WO19"}},function(e,t,n){"use strict";(function(e){var r=n(0),a=n(798),o=n.n(a),i=function(t){var n=t.isOpen,r=void 0!==n&&n,a=t.children;return e.createElement("div",{className:o.a.Drawer},r?a:null)};i.propTypes={isOpen:r.PropTypes.bool,children:r.PropTypes.node},t.a=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(0),i=n(9),s=n.n(i),c=n(41),u=n.n(c),l=n(308),d=n.n(l),_=n(1197),p=function(t){var n=t.color,r=t.floating,a=t.onClick,o=t.disabled;return e.createElement("button",{className:s()(d.a.Attachment,{floating:r}),style:{color:n},onClick:function(e){return!o&&a&&a(e)},disabled:o,tabIndex:"1000","aria-label":"Send an attachment"},e.createElement(u.a,{className:"flex",src:_}))},f=function(t){var n=t.color,r=t.floating,a=t.onClick,o=t.disabled,i=t.width,c=void 0===i?18:i,u=t.height,l=void 0===u?18:u;return e.createElement("button",{"aria-label":"Add an Emoji to your conversation",className:s()(d.a.EmojiIcon,{floating:r}),style:{color:n},onClick:function(e){return!o&&a&&a(e)},disabled:o,tabIndex:"1000"},e.createElement("svg",{preserveAspectRatio:"xMidYMid",viewBox:"0 0 24 24",style:{width:c,height:l}},e.createElement("path",{d:"M12 24C5.38 24 0 18.62 0 12S5.38 0 12 0s12 5.38 12 12-5.38 12-12 12zm0-22C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm0 18c-2.9 0-5.56-1.75-6.9-4.57-.24-.5-.03-1.1.47-1.33.5-.24 1.1-.03 1.33.47C7.9 16.67 9.86 18 12 18c2.15 0 4.1-1.3 5.1-3.43.23-.5.83-.7 1.33-.47.5.23.7.83.47 1.33C17.58 18.25 14.93 20 12 20zm4-8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm-8 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})))},m=function(t){var n=t.isActive,r=void 0!==n&&n,o=t.children;return e.createElement("li",{className:s()(d.a.ComposerMenuItem,a()({},d.a.ComposerMenuItemActive,r))},o)},b=function(t){var n=t.color,r=t.floating,a=t.allowAttachments,o=t.allowEmoji,i=t.onAttachmentClick,s=t.onEmojiClick,c=t.emojiDrawerActive,u=t.disabled;return e.createElement("ul",{className:d.a.ComposerMenu},a&&e.createElement(m,null,e.createElement(p,{color:n,onClick:i,disabled:u,floating:r})),o&&e.createElement(m,{isActive:c},e.createElement(f,{color:n,onClick:s,disabled:u,floating:r})))};b.propTypes={color:o.PropTypes.string.isRequired,floating:o.PropTypes.bool,allowAttachments:o.PropTypes.bool,allowEmoji:o.PropTypes.bool,onAttachmentClick:o.PropTypes.func,onEmojiClick:o.PropTypes.func,emojiDrawerActive:o.PropTypes.bool},t.a=b}).call(this,n(0))},function(e,t,n){"use strict";var r=n(139);r.linkify.add("ftp:",null),t.a=function(e){if(""===e)return"";var t=0,n=[];(r.linkify.match(e)||[]).forEach(function(r){r.index>t&&n.push(document.createTextNode(e.substring(t,r.index)));var a=document.createElement("a");a.setAttribute("href",r.url),a.setAttribute("target","_blank"),a.textContent=r.text,n.push(a),t=r.lastIndex}),t<e.length&&n.push(document.createTextNode(e.substring(t)));var a=document.createElement("span");return n.forEach(function(e){a.appendChild(e)}),a.outerHTML}},,,function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(71),g=n(16),h=n(21),v=n(2),E=n(9),y=n.n(E),O=n(216),C=n.n(O),T=n(34),M=n(406),I=n(109),P=n.n(I),A=n(339),S=n(122),D=n(789),k=n(403),w=n(402),j=n(42),R=n(45),B=n(762),N=n(760),U=n(693),L=n(758),W=n(4),x=n(15),H=n(30),K=n(88),F=n(757),q=n(282),z=n(247),G=n(51),V=n(28),Y=n(27),Z=n(755),J=n.n(Z),Q=26214400,X=100,$=250,ee=54e5,te=function(t){function n(t){c()(this,n);var r=_()(this,(n.__proto__||i()(n)).call(this,t));return r.handleTypingIndicatorsChange=function(){r.isScrolledToBottom&&r.scrollToBottom()},r.checkIfScrolledToBottom=function(){var e=Object(b.findDOMNode)(r.messagesNode);return!!e&&e.scrollTop+e.offsetHeight>e.scrollHeight-X},r.scrollToBottom=function(){var e=Object(b.findDOMNode)(r.messagesNode);e&&(e.scrollTop=e.scrollHeight)},r.handleWheel=function(e){var t=Object(b.findDOMNode)(r.messagesNode);t&&(e.deltaY<0&&0===t.scrollTop&&e.preventDefault(),e.deltaY>0&&t.clientHeight+t.scrollTop+e.deltaY>=t.scrollHeight&&(t.scrollTop=t.scrollHeight,e.preventDefault()))},r.handleComposerChange=Object(A.a)(function(e){e?r.props.actions.endUserTyping({conversationId:r.props.conversationId}):r.props.actions.endUserTypingFinished({conversationId:r.props.conversationId})},$),r.getDrifttUserForMessage=function(e){if(e.get("authorType")===R.a.USER)return r.props.driftUsersById[e.get("authorId")]},r.getAttachmentsForMessage=function(e){return e.get("attachments").map(function(e){return r.props.attachmentsById[e]}).filter(function(e){return e}).toJS()},r.sendMessage=function(e,t){return r.props.actions.createMessage({conversationId:r.props.conversationId,body:e,attachments:t})},r.onComposerSubmit=function(e){r.sendMessage(e),r.handleComposerChange.cancel(),r.props.actions.endUserTypingFinished({conversationId:r.props.conversationId})},r.onUploadAttachment=function(e){var t=r.props.conversationId;if(e&&!(e.length<1)){var n=function(e){e&&e.payload&&e.payload.id&&r.sendMessage("",[e.payload.id])};e.map(function(e){return e.size>Q?r.props.actions.attachmentTooLarge():function(e){return r.props.actions.uploadAttachment(t,e)}(e).then(n)})}},r.renderMessages=function(){var t=r.props.groupedMessages.map(function(e){return Object(v.Map)({key:"mg:"+(e.first().getIn(["attributes","widgetGuid"])||e.first().get("id")),firstCreatedAt:e.first().get("createdAt"),lastCreatedAt:e.last().get("createdAt"),messages:e})});if(r.shouldRenderIdentifyCard()){var n=t.findIndex(function(e){var t=e.get("messages").first().get("authorType");return t===R.a.END_USER||t===R.a.LEAD});if(-1!==n){var a=t.get(n);if(a.get("messages").count()>1){var o=a.get("messages").first(),i=a.get("messages").rest();t=t.splice(n,1,Object(v.Map)({key:"mg:"+(o.getIn(["attributes","widgetGuid"])||o.get("id")),firstCreatedAt:o.get("createdAt"),lastCreatedAt:o.get("createdAt"),messages:v.List.of(o)}),Object(v.Map)({key:"mg:"+(o.getIn(["attributes","widgetGuid"])||o.get("id"))+"-emailcapture",firstCreatedAt:o.get("createdAt"),lastCreatedAt:o.get("createdAt"),messages:v.List.of(r.renderIdentifyCard()),raw:!0}),Object(v.Map)({key:"mg:"+(i.first().getIn(["attributes","widgetGuid"])||i.first().get("id")),firstCreatedAt:i.first().get("createdAt"),lastCreatedAt:i.last().get("createdAt"),messages:i}))}else{var s=a.get("messages").first();t=t.insert(n+1,Object(v.Map)({key:"mg:"+(s.getIn(["attributes","widgetGuid"])||s.get("id"))+"-emailcapture",firstCreatedAt:s.get("createdAt"),lastCreatedAt:s.get("createdAt"),messages:v.List.of(r.renderIdentifyCard()),raw:!0}))}}}var c=r.props.messages.some(function(e){return e.getIn(["attributes","conversationStartedByEndUser"])});return t.reduce(function(n,a,o,i){if(a.get("raw"))return n.concat(a.get("messages"));var s=void 0,u=o>0&&i.getIn([o-1,"lastCreatedAt"])||Date.now(),l=a.get("firstCreatedAt");Math.abs(u-l)>ee&&(s=e.createElement("div",{className:J.a.TimestampHeader,key:"db:"+a.get("key",l)},e.createElement(N.a,{value:l,isEmbeddedMessenger:r.props.isEmbeddedMessenger})));var d=c&&0===o,_=e.createElement(k.a,{key:a.get("key"),conversationId:r.props.conversationId,messages:a.get("messages"),isStartConversationPrompt:d,isLastMessageGroup:o===t.size-1,lastAgentResponseAt:r.props.lastAgentResponseAt});return s?n.push(v.List.of(s,_)):n.push(v.List.of(_))},Object(v.List)())},r.handleComposerMeasured=function(e){var t=e.height;r.setState({composerHeight:t})},r.state={composerHeight:null},r}return f()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.scrollToBottom(),this.isScrolledToBottom=!0,this.props.actions.trackImpression({view:V.i.CONVERSATION_COMPOSER})}},{key:"componentWillReceiveProps",value:function(){this.isScrolledToBottom=this.checkIfScrolledToBottom()}},{key:"componentDidUpdate",value:function(e,t){this.isScrolledToBottom&&this.scrollToBottom()}},{key:"shouldRenderIdentifyCard",value:function(){return this.props.shouldShowIdentifyCard&&!this.getConversationFetchIsPending()&&this.props.messages.size>0&&!this.props.messages.first().get("local",!1)}},{key:"renderIdentifyCard",value:function(){var t=this.props,n=t.conversationId,r=t.messages;return e.createElement(D.a,{key:"IdentifyCard-"+n,conversationId:n,createdAt:r.first().get("createdAt")})}},{key:"getConversationFetchIsPending",value:function(){var e=this.props,t=e.conversation,n=e.conversationIsFetched;return!(t.get("local",!1)||n)}},{key:"render",value:function(){var t=this,n=this.props,r=n.conversation,o=n.conversationId,i=n.showBranding,s=n.organizationName,c=n.isAway,u=n.offlineMessageCopy,l=n.conversationLastDriftUser,d=n.connectionStatus,_=n.lastAgentResponseAt,p=n.isButtonOnlyQuestion,f=n.theme,m=n.isEmbeddedMessenger,b=n.continuousBackgroundGradient,g=n.isHypergrowthTheme;if(!r)return null;var h=this.getConversationFetchIsPending(),v=!h&&c&&Date.now()-_>3e5;return e.createElement("div",{className:y()("Conversation",a()({floating:m,mobile:Object(T.d)()},b,m))},m&&e.createElement(w.a,{isEmbeddedMessenger:m,theme:f}),e.createElement("div",{className:"messages",style:{backgroundColor:m?"transparent":"#"+f.widgetBackgroundColor},ref:function(e){t.messagesNode=e},onWheel:this.handleWheel},e.createElement("div",{className:"messages-content-wrapper",style:{marginTop:m&&g&&!Object(T.d)()?135:void 0,marginBottom:m&&!Object(T.d)()&&this.state.composerHeight?this.state.composerHeight-10:void 0}},h?e.createElement("div",{className:"flex-center",style:{height:"100%"}},e.createElement(M.a,null)):e.createElement(P.a,{transitionName:"transition-fade",transitionEnterTimeout:200,transitionLeaveTimeout:200},this.renderMessages(),e.createElement(U.a,null)),v&&e.createElement(L.a,null),e.createElement(B.a,{conversationId:o,onChange:this.handleTypingIndicatorsChange}))),e.createElement(C.a,{onMeasure:this.handleComposerMeasured,whitelist:["width","height"]},e.createElement(S.a,{onSubmit:this.onComposerSubmit,onChange:this.handleComposerChange,onUploadAttachment:this.onUploadAttachment,conversation:r,conversationLastDriftUser:l,showBranding:i,organizationName:s,isAway:c,offlineMessageCopy:u,connectionStatus:d,autoFocus:!Object(T.b)(),disabled:h||p,disabledPrompt:p,utmContent:V.i.CONVERSATION_COMPOSER})))}}]),n}(m.Component);te.propTypes={conversationId:m.PropTypes.any.isRequired,conversation:m.PropTypes.object.isRequired,conversationLastDriftUser:m.PropTypes.object,showBranding:m.PropTypes.bool.isRequired,organizationName:m.PropTypes.string.isRequired,isAway:m.PropTypes.bool.isRequired,offlineMessageCopy:m.PropTypes.string,messages:m.PropTypes.instanceOf(v.OrderedSet).isRequired,groupedMessages:m.PropTypes.instanceOf(v.List),driftUsersById:m.PropTypes.object.isRequired,attachmentsById:m.PropTypes.object.isRequired,shouldShowIdentifyCard:m.PropTypes.bool.isRequired,connectionStatus:m.PropTypes.string.isRequired,conversationIsFetched:m.PropTypes.bool.isRequired,lastAgentResponseAt:m.PropTypes.number.isRequired,isButtonOnlyQuestion:m.PropTypes.bool.isRequired,actions:m.PropTypes.shape({uploadAttachment:m.PropTypes.func.isRequired,createMessage:m.PropTypes.func.isRequired,endUserTyping:m.PropTypes.func.isRequired,endUserTypingFinished:m.PropTypes.func.isRequired}),theme:m.PropTypes.shape({backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string,textColor:m.PropTypes.string,activeColor:m.PropTypes.string,widgetBackgroundColor:m.PropTypes.string,widgetHalfHeight:m.PropTypes.bool})},te.defaultProps={groupedMessages:Object(v.List)()};t.a=Object(g.connect)(function(){var e=Object(F.a)(),t=Object(H.q)(),n=Object(H.i)(),r=Object(H.k)(),a=Object(H.j)(),o=Object(H.l)(),i=Object(H.m)(),s=Object(K.k)();return function(c,u){var l=n(c,u);if(!l)return{};var d=t(c,u),_=Object(W.j)(c),p=c.Attachment.attachmentsById;return{conversation:l,conversationId:l.get("id"),conversationLastDriftUser:r(c,u),showBranding:c.Bootstrap.embedConfiguration.showBranding,organizationName:c.Bootstrap.embedConfiguration.organizationName,isAway:!Object(x.h)(c),messages:d,driftUsersById:_,attachmentsById:p,shouldShowIdentifyCard:e(c,u),connectionStatus:Object(W.h)(c),conversationIsFetched:a(c,u),groupedMessages:o(c,u),lastAgentResponseAt:i(c,u),isButtonOnlyQuestion:s(c,u),isEmbeddedMessenger:Object(Y.g)(c,u),continuousBackgroundGradient:Object(Y.c)(c),isHypergrowthTheme:Object(Y.j)(c)}}},function(e){return{actions:Object(h.bindActionCreators)({uploadAttachment:q.c,attachmentTooLarge:q.a,createMessage:j.d,endUserTyping:z.a,endUserTypingFinished:z.b,trackImpression:G.e},e)}})(te)}).call(this,n(0))},function(e,t,n){e.exports=n.p+"static/images/7d9823479ae657b2c34fc2abd5417a78.svg"},,,,function(e,t,n){e.exports={Badge:"_23adWK3Uprf4Ktba9B88ed"}},,,function(e,t,n){"use strict";var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n.n(p),m=n(17),b=n(40),g=n.n(b),h=n(123),v=n(407),E=n(1223),y=Object(m.h)({personalPronoun:{id:"app.user.personalPronoun",description:"Second-person personal pronoun for the current user",defaultMessage:"You"}}),O=function(e){var t=e.sender,n=e.organizationName;if(!t)return f.a.createElement("div",{className:E.ConversationListItem__name},n);var r=t.name||t.email||f.a.createElement(m.b,y.personalPronoun);return f.a.createElement("div",{className:E.ConversationListItem__name},r)};O.propTypes={sender:p.PropTypes.shape({name:p.PropTypes.string,type:p.PropTypes.string,email:p.PropTypes.string}),organizationName:p.PropTypes.string};var C=function(e){var t=e.timestamp,n=void 0;if(t){var r=g()(t),a=g()(),o=g()().subtract(1,"day");n=r.isSame(a,"day")?f.a.createElement(m.e,{value:r}):r.isSame(o,"day")?f.a.createElement(m.d,{value:o,units:"day"}):f.a.createElement(m.a,{value:r})}return f.a.createElement("div",{className:E.ConversationListItem__timestamp,title:t},n)};C.propTypes={timestamp:p.PropTypes.number};var T=function(e){function t(){return i()(this,t),l()(this,(t.__proto__||a()(t)).apply(this,arguments))}return _()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.isFirstConversation&&this.listItem.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.lastMessage,r=t.lastMessageSender,a=t.unreadMessageCount,o=t.organizationName,i=t.backgroundColor,s=t.onClick;return f.a.createElement("button",{ref:function(t){e.listItem=t},className:E.ConversationListItem,onClick:s,tabIndex:"1"},f.a.createElement("div",{className:E.ConversationListItem__media},f.a.createElement(h.a,{user:r,color:i,size:"large",shape:"circle"}),f.a.createElement("div",{className:E.UnreadCountBadgeContainer},f.a.createElement(v.a,{count:a}))),f.a.createElement("div",{className:E.ConversationListItem__content},f.a.createElement("div",{className:E.ConversationListItem__metadata+" flex"},f.a.createElement(O,{sender:r,organizationName:o}),f.a.createElement(C,{timestamp:n.get("createdAt")})),f.a.createElement("div",{className:E.ConversationListItem__preview},n.getIn(["attributes","preview"]))))}}]),t}(p.Component);T.propTypes={lastMessage:p.PropTypes.object,lastMessageSender:p.PropTypes.object,unreadMessageCount:p.PropTypes.number,organizationName:p.PropTypes.string,backgroundColor:p.PropTypes.string,isFirstConversation:p.PropTypes.bool,onClick:p.PropTypes.func},t.a=T},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(16),g=n(26),h=n.n(g),v=n(812),E=n(30),y=n(44),O=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.onClick=function(){r.props.onClick&&r.props.onClick(r.props.conversationId)},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"render",value:function(){return e.createElement(v.a,a()({},this.props,{onClick:this.onClick}))}}]),n}(m.Component);O.propTypes={conversationId:m.PropTypes.node,lastMessage:m.PropTypes.object,lastMessageSender:m.PropTypes.object,unreadMessageCount:m.PropTypes.number,organizationName:m.PropTypes.string,onClick:m.PropTypes.func};t.a=h()(Object(y.a)(["backgroundColor"]),Object(b.connect)(function(){var e=Object(E.n)(),t=Object(E.o)(e),n=Object(E.r)();return function(r,a){return{lastMessage:e(r,a),lastMessageSender:t(r,a),unreadMessageCount:n(r,a),organizationName:r.Bootstrap.embedConfiguration.organizationName}}}))(O)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(7),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(9),g=n.n(b),h=n(813),v=n(75),E=n(208),y=n(805),O=n.n(y),C=n(1217),T=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.state={listOverflowing:!1},r.handleWheel=function(e){var t=r.elem;t&&(e.deltaY<0&&0===t.scrollTop&&e.preventDefault(),e.deltaY>0&&t.clientHeight+t.scrollTop+e.deltaY>=t.scrollHeight&&(t.scrollTop=t.scrollHeight,e.preventDefault()))},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"componentDidMount",value:function(){this.checkListOverflow()}},{key:"checkListOverflow",value:function(){var e=this.elem;this.setState({listOverflowing:e.offsetHeight<e.scrollHeight})}},{key:"renderList",value:function(){var t=this,n=this.props,r=n.theme,o=n.conversations,i=n.onConversationClick;return e.createElement("div",{className:g()(C.ConversationList,a()({},C.ConversationListHalfHeight,r.widgetHalfHeight)),style:{backgroundColor:"#"+r.widgetBackgroundColor},ref:function(e){t.elem=e},onWheel:this.handleWheel},o.map(function(t,n){return e.createElement(h.a,{key:t.get("id"),conversationId:t.get("id"),onClick:i,isFirstConversation:0===n})}))}},{key:"renderEmpty",value:function(){var t=this.props,n=t.onNewConversationClick,r=t.theme,a=t.organizationName;return e.createElement("div",{className:C.ConversationListEmpty},e.createElement("img",{src:O.a}),e.createElement("p",null,"You don’t have any conversations with ",a," yet!"),e.createElement(E.a,{onClick:n,style:{backgroundColor:"#"+r.backgroundColor,color:"#"+r.textColor,borderColor:"#"+r.backgroundColor}},"Start a Conversation"))}},{key:"render",value:function(){var t=this.props,n=t.view,r=t.conversations,a=t.showBranding,o=this.state.listOverflowing;return e.createElement("div",{className:C.ConversationListContainer},r.isEmpty()?this.renderEmpty():this.renderList(),a&&e.createElement("div",{className:g()(C.ConversationListBranding,{"show-shadow":o})},e.createElement(v.a,{utmContent:n})))}}]),n}(m.Component);T.propTypes={conversations:m.PropTypes.object.isRequired,onConversationClick:m.PropTypes.func,showBranding:m.PropTypes.bool.isRequired,theme:m.PropTypes.shape({backgroundColor:m.PropTypes.string,foregroundColor:m.PropTypes.string,textColor:m.PropTypes.string,activeColor:m.PropTypes.string,widgetBackgroundColor:m.PropTypes.string,widgetHalfHeight:m.PropTypes.bool})},t.a=T}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(10),i=n.n(o),s=n(12),c=n.n(s),u=n(11),l=n.n(u),d=n(6),_=n.n(d),p=n(13),f=n.n(p),m=n(0),b=n(16),g=n(21),h=n(814),v=n(42),E=n(29),y=n(30),O=n(22),C=n(28),T=n(51),M=function(t){function n(){var e,t,r,a;c()(this,n);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return t=r=_()(this,(e=n.__proto__||i()(n)).call.apply(e,[this].concat(s))),r.handleConversationClick=function(e){r.props.actions.goToConversation(e)},r.handleNewConversationClick=function(){r.props.actions.goToNewConversation({autoFocus:!0})},a=t,_()(r,a)}return f()(n,t),l()(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.view;e.actions.trackImpression({view:t})}},{key:"render",value:function(){return e.createElement(h.a,a()({onConversationClick:this.handleConversationClick,onNewConversationClick:this.handleNewConversationClick},this.props))}}]),n}(m.Component);M.propTypes={conversations:m.PropTypes.object,actions:m.PropTypes.shape({goToConversation:m.PropTypes.func.isRequired}).isRequired};t.a=Object(b.connect)(function(e){var t=Object(y.b)(e);return{conversations:t,showBranding:Object(O.m)(e),view:t.isEmpty()?C.i.CONVERSATION_LIST_EMPTY:C.i.CONVERSATION_LIST}},function(e){return{actions:Object(g.bindActionCreators)({goToConversation:v.f,goToNewConversation:E.goToNewConversation,trackImpression:T.e},e)}})(M)}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var n=[400,500,600];t.a=function(){return e.createElement("div",{style:{position:"fixed",left:-1e4,visibility:"hidden"}},n.map(function(t){return e.createElement("span",{key:t,style:{fontWeight:t}})}))}}).call(this,n(0))},,,,,,,function(e,t,n){"use strict";var r=n(171),a=n.n(r);t.a=a()({RANDOM:null,CUSTOM:null})},function(e,t){},,,,function(e,t,n){e.exports=n.p+"static/images/5b2e73908697ec9884c23551d0822dd1.gif"},,,,,,function(e,t,n){"use strict";(function(e){var r=n(10),a=n.n(r),o=n(12),i=n.n(o),s=n(11),c=n.n(s),u=n(6),l=n.n(u),d=n(13),_=n.n(d),p=n(0),f=n(16),m=n(20),b=(n(835),n(699)),g=n(707),h=n(29),v=n(85),E=n(700),y=n(530),O=n(3),C=function(t){function n(e){i()(this,n);var t=l()(this,(n.__proto__||a()(n)).call(this,e));t.handleMessage=function(e){e.source===window.parent&&t.store.dispatch({type:O.V,payload:e.data})},t.handleVisibilityChange=function(){t.store.dispatch(Object(y.a)("visible"===document.visibilityState))},t.store=Object(E.a)(e.initialState),t.store.dispatch(Object(y.a)("visible"===document.visibilityState)),e.showWidget&&t.store.dispatch(Object(h.showWidget)()),e.welcomeMessageDismissed&&t.store.dispatch(Object(v.hideOnStartup)());var r=Object(m.a)(e.initialState,"Bootstrap.embedConfiguration.team");return r&&t.store.dispatch({type:O.H,payload:r}),t}return _()(n,t),c()(n,[{key:"componentDidMount",value:function(){window.addEventListener&&(window.addEventListener("message",this.handleMessage,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"componentWillUnmount",value:function(){this.store=void 0,window.removeEventListener&&(window.removeEventListener("message",this.handleMessage,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"render",value:function(){return e.createElement(f.Provider,{store:this.store},e.createElement(g.a,null,e.createElement(b.a,null)))}}]),n}(p.Component);C.propTypes={initialState:p.PropTypes.object,showWidget:p.PropTypes.bool,welcomeMessageDismissed:p.PropTypes.bool},t.a=C}).call(this,n(0))},function(e,t,n){"use strict";var r=n(14),a=(n(102),n(4)),o=n(22),i=n(3);r.Observable.prototype.waitForAuth=function(e,t){var n=e.ofType(i.c);return this.mergeMap(function(e){return Object(a.b)(t.getState())?r.Observable.of(e):n.map(function(){return e})})},r.Observable.prototype.waitForBootstrap=function(e,t){var n=e.ofType(i.B);return this.mergeMap(function(e){return Object(o.o)(t.getState())?r.Observable.of(e):n.map(function(){return e})})}},,function(e,t,n){},,,,,,,,,,function(e,t,n){e.exports=n.p+"static/audio/52284660f7abf8538f64d3f7b857f505.mp3"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<svg width="25" height="26" viewBox="0 0 25 26" xmlns="http://www.w3.org/2000/svg"><path d="M23.54 26h-5.174a1.048 1.048 0 0 1-1.035-1.06V1.59c0-.586.464-1.062 1.036-1.062h5.173c.57 0 1.034.476 1.034 1.062v23.35c0 .585-.463 1.06-1.035 1.06zM22.504 2.65H19.4v21.227h3.105V2.65zM15.262 26H10.09a1.048 1.048 0 0 1-1.036-1.06V14.324c0-.585.463-1.06 1.035-1.06h5.172c.572 0 1.035.475 1.035 1.06V24.94c0 .585-.463 1.06-1.035 1.06zm-1.034-10.613h-3.104v8.49h3.104v-8.49zM6.985 26H1.812a1.048 1.048 0 0 1-1.034-1.06V9.02c0-.587.462-1.062 1.034-1.062h5.173c.572 0 1.035.475 1.035 1.06v15.92c0 .587-.463 1.062-1.035 1.062zM5.95 10.08H2.848v13.797H5.95V10.08z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="26" height="25" viewBox="0 0 26 25" xmlns="http://www.w3.org/2000/svg"><path d="M23.987 24.98H1.514a1.03 1.03 0 0 1-1.022-1.04V1.06C.492.484.95.02 1.514.02h22.473a1.03 1.03 0 0 1 1.02 1.04v22.88a1.03 1.03 0 0 1-1.02 1.04zM22.965 2.1H2.535v20.8h20.43V2.1zM7.26 11.687l4.343 3.538 6.508-7.57a1.01 1.01 0 0 1 1.443-.1c.424.38.466 1.036.095 1.47l-7.15 8.32a1.01 1.01 0 0 1-1.407.127l-5.107-4.16a1.054 1.054 0 0 1-.16-1.463 1.01 1.01 0 0 1 1.436-.162z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.748 18.23H5.873l-3.78 4.808a1.016 1.016 0 0 1-1.135.333 1.04 1.04 0 0 1-.684-.98V4.662c0-2.27 1.813-4.116 4.043-4.116h16.43c2.23 0 4.043 1.846 4.043 4.116v9.45c0 2.27-1.813 4.116-4.042 4.116zm2-13.567c0-1.122-.898-2.036-2-2.036H4.318c-1.104 0-2 .914-2 2.036v14.761l2.266-2.885c.012-.016.03-.022.043-.037.048-.055.104-.095.162-.138.05-.04.097-.08.154-.106.055-.028.114-.04.173-.057.07-.02.14-.04.212-.043.017 0 .033-.01.052-.01h15.366c1.102 0 2-.915 2-2.037v-9.45zM18.66 8.868H6.404a1.03 1.03 0 0 1-1.02-1.04c0-.574.456-1.04 1.02-1.04H18.66a1.03 1.03 0 0 1 1.023 1.04 1.03 1.03 0 0 1-1.022 1.04zM6.404 9.908h8.172a1.03 1.03 0 0 1 1.022 1.04 1.03 1.03 0 0 1-1.022 1.04H6.403a1.03 1.03 0 0 1-1.02-1.04c0-.574.456-1.04 1.02-1.04z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M23.295 24.412a.987.987 0 0 1-1.123-.43L19.9 20.358H9.527c-1.392 0-2.523-1.153-2.523-2.57V16.3c0-.563.448-1.02 1-1.02.553 0 1 .457 1 1.02v1.485c0 .295.235.533.523.533h10.92c.036 0 .067.018.103.022a.96.96 0 0 1 .527.224.984.984 0 0 1 .14.15c.023.026.054.043.073.075l.725 1.154V9.7a.528.528 0 0 0-.523-.532h-1.48c-.55 0-1-.457-1-1.02 0-.56.45-1.018 1-1.018h1.48c1.392 0 2.524 1.152 2.524 2.57V23.433c0 .452-.293.85-.72.978zM14.49 13.226H4.116L1.844 16.85a.997.997 0 0 1-1.124.43 1.017 1.017 0 0 1-.72-.978V2.57C0 1.152 1.132 0 2.523 0H14.49c1.39 0 2.52 1.152 2.52 2.57v8.085c0 1.418-1.13 2.57-2.52 2.57zm.52-10.656a.528.528 0 0 0-.52-.532H2.522c-.288 0-.522.24-.522.532v10.242l.726-1.153c.02-.032.05-.05.07-.076a.897.897 0 0 1 .296-.256.92.92 0 0 1 .372-.118c.037-.004.068-.022.104-.022h10.92c.288 0 .522-.238.522-.533V2.57z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="24" height="23" viewBox="0 0 24 23" xmlns="http://www.w3.org/2000/svg"><path d="M22.465 22.085c-.53 0-.88-.44-.88-.98v-1.062L6.186 17.136v3.97a.97.97 0 0 1-.958.98.968.968 0 0 1-.96-.98v-4.332l-2.103-.397C1.2 16.195.44 15.265.44 14.26V8.39c0-1.005.76-1.935 1.727-2.117l19.417-3.668v-1.06c0-.54.352-.98.88-.98a.97.97 0 0 1 .96.98v19.56a.97.97 0 0 1-.96.98zm-.88-17.49L2.514 8.197c-.065.012-.16.127-.16.194v5.87c0 .065.095.182.16.193l19.07 3.6V4.596z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M12.788 24.5C6.168 24.5.78 19.117.78 12.5S6.167.5 12.788.5c6.622 0 12.008 5.383 12.008 12s-5.386 12-12.008 12zm9.956-11h-9.542l-6.74 6.74a9.958 9.958 0 0 0 6.326 2.26c5.18 0 9.452-3.953 9.956-9zm-19.962-1c0 2.398.85 4.6 2.264 6.325l6.742-6.74V2.55c-5.05.504-9.006 4.774-9.006 9.95zM13.79 2.55v8.95h8.954c-.47-4.717-4.235-8.48-8.955-8.95z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.354 2.117L11.64 15.775a.977.977 0 0 1-.703.34h-.04a.976.976 0 0 1-.688-.286L5.326 10.95a.975.975 0 1 1 1.38-1.38l4.136 4.133L21.873.847a.977.977 0 0 1 1.48 1.27zm-9.45 2.21H2.136L2.113 21.97l17.675-.002v-11.76c0-.54.333-.92.873-.92s.976.436.976.974v12.682c0 .54-.436.976-.975.976H1.138a.976.976 0 0 1-.977-.976V3.434c0-.54.438-.977.977-.977h12.69c.54 0 .976.437.976.976 0 .538-.36.895-.9.895z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="26" height="23" viewBox="0 0 26 23" xmlns="http://www.w3.org/2000/svg"><path d="M23.348 17.854H10.56l-3.78 4.72a1.02 1.02 0 0 1-1.136.327 1.02 1.02 0 0 1-.683-.962v-4.084H2.92a2.044 2.044 0 0 1-2.043-2.04V2.54C.875 1.416 1.79.5 2.918.5h20.43c1.127 0 2.043.916 2.043 2.042v13.27a2.044 2.044 0 0 1-2.042 2.042zm0-15.312H2.918v13.27h3.064c.564 0 1.022.458 1.022 1.02v2.196l2.267-2.832c.013-.015.03-.02.043-.035.048-.053.105-.093.163-.136.05-.037.098-.077.154-.103.055-.026.114-.038.175-.054.07-.02.138-.038.21-.042.02 0 .034-.01.053-.01h13.28V2.54zM5.982 10.708c0-.563.458-1.02 1.022-1.02h8.172a1.022 1.022 0 0 1 0 2.04H7.004a1.022 1.022 0 0 1-1.022-1.02zm0-3.062c0-.564.458-1.02 1.022-1.02h12.258a1.022 1.022 0 0 1 0 2.04H7.004a1.022 1.022 0 0 1-1.022-1.02z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><path d="M22.814 12.25h-1.362v3.063a1.02 1.02 0 0 1-1.744.72L15.92 12.25H11.92c-.94 0-1.703-.785-1.703-1.75V1.75c0-.965.764-1.75 1.703-1.75h10.896c.938 0 1.702.785 1.702 1.75v8.75c0 .965-.764 1.75-1.702 1.75zm-.34-10.208H12.257v8.166h4.086a1.032 1.032 0 0 1 .723.3l2.342 2.34v-1.62c0-.562.456-1.02 1.02-1.02h2.043V2.042zM8.17 10.208h-6.13v8.167h2.044c.564 0 1.022.457 1.022 1.02v1.62l2.34-2.34a1.022 1.022 0 0 1 .724-.3h4.086V14.29a1.02 1.02 0 0 1 2.043 0v4.377c0 .965-.763 1.75-1.702 1.75H8.595L4.808 24.2a1.022 1.022 0 0 1-1.743-.72v-3.063H1.702c-.938 0-1.702-.785-1.702-1.75v-8.75c0-.965.764-1.75 1.702-1.75h6.47a1.022 1.022 0 0 1 0 2.04z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="26" height="21" viewBox="0 0 26 21" xmlns="http://www.w3.org/2000/svg"><path d="M25.11 9.16a4.084 4.084 0 0 1-4.087 4.075v4.076a1.017 1.017 0 0 1-1.02 1.018 1.03 1.03 0 0 1-.508-.133l-6.915-3.94H6.722v5.092a1.02 1.02 0 0 1-1.02 1.02 1.02 1.02 0 0 1-1.023-1.02v-5.093H2.635a2.042 2.042 0 0 1-2.043-2.037V6.104c0-1.123.916-2.038 2.043-2.038h9.944l6.915-3.94a1.02 1.02 0 0 1 1.528.884v4.075A4.086 4.086 0 0 1 25.11 9.16zM4.68 6.104H2.635v6.113H4.68V6.104zm14.3-3.338L13.358 5.97a.984.984 0 0 1-.543.116c-.03.003-.058.018-.09.018H6.724v6.113h6.128c.022 0 .04.01.06.01.068.005.132.023.2.042.066.016.13.032.192.062.018.01.038.008.056.018l5.622 3.205V2.765zm2.043 4.357v4.075a2.044 2.044 0 0 0 2.043-2.038 2.043 2.043 0 0 0-2.043-2.037z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.964 15.697a4.105 4.105 0 0 0 2.1-2.088c.16-.36.83-.698 1.225-.698h6.003c.297 0 .54.237.73.464.19.226.268.525.215.815-.9 4.867-4.792 8.737-9.69 9.63a.994.994 0 0 1-1.18-.976l.002-6.24c0-.392.233-.748.594-.907zm9.33-4.772h-6.005c-.396 0-1.067-.158-1.227-.517a4.068 4.068 0 0 0-3.71-2.414c-2.226 0-4.037 1.802-4.037 4.015a4.04 4.04 0 0 0 2.428 3.687c.36.16.54.794.54 1.188v5.96c0 .294-.078.574-.306.763a1 1 0 0 1-.82.212C4.43 22.774.272 17.806.272 12.01.272 5.386 5.692 0 12.354 0c5.833 0 10.83 4.132 11.884 9.827a.994.994 0 0 1-.215.815c-.19.226-.433.283-.73.283z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="18" viewBox="0 0 25 18" xmlns="http://www.w3.org/2000/svg"><path d="M7.61 17.4c.78.825 2.09.836 2.882.02L23.645 3.88a1.99 1.99 0 0 0-.042-2.818 1.994 1.994 0 0 0-2.818.042L9.07 13.134 4.135 7.9a1.994 1.994 0 0 0-2.817-.086 1.99 1.99 0 0 0-.086 2.816l6.377 6.77z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="23" viewBox="0 0 25 23" xmlns="http://www.w3.org/2000/svg"><path d="M24.892 9.953c0-5.5-5.476-9.953-12.258-9.953C5.854 0 .376 4.452.376 9.953c0 3.318 1.987 6.24 5.05 8.053-.34 2.552-1.815 4.055-1.843 4.084-.142.14-.17.368-.114.567a.524.524 0 0 0 .482.312c2.95 0 5.334-1.93 6.61-3.206.654.086 1.363.142 2.072.142 6.782 0 12.258-4.452 12.258-9.953zm-5.128-.286H7.506a1.022 1.022 0 0 1 0-2.042h12.258a1.022 1.022 0 0 1 0 2.042zm-12.258 2.02h8.172a1.022 1.022 0 0 1 0 2.042H7.506a1.022 1.022 0 0 1 0-2.043z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="23" viewBox="0 0 25 23" xmlns="http://www.w3.org/2000/svg"><path d="M24.516 9.953C24.516 4.453 19.04 0 12.258 0 5.476 0 0 4.452 0 9.953c0 3.318 1.986 6.24 5.05 8.053-.34 2.552-1.815 4.055-1.844 4.084-.14.14-.17.368-.113.567a.524.524 0 0 0 .482.312c2.95 0 5.335-1.93 6.612-3.206.652.086 1.362.142 2.07.142 6.783 0 12.26-4.452 12.26-9.953z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="21" height="18" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg"><path d="M3.096 11.3V6.5c0-.828.656-1.648 1.466-1.83l13.044-2.944A1.248 1.248 0 0 1 18.856.5c.69 0 1.25.562 1.25 1.252v14.996c0 .692-.554 1.252-1.25 1.252a1.253 1.253 0 0 1-1.25-1.226L9.15 14.866l-.377 1.97a.967.967 0 0 1-1.167.765l-3.527-.75c-.543-.114-.983-.663-.985-1.213l-.01-4.34.01.003zM.094 6.008C.094 5.45.538 5 1.094 5c.553 0 1 .457 1 1.008v6.484c0 .557-.443 1.008-1 1.008-.552 0-1-.457-1-1.008V6.008zm4.33 7.784l3.54.81-.23 1.31a.476.476 0 0 1-.578.386l-2.26-.48a.636.636 0 0 1-.49-.61l.018-1.416z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><g fill="#FFF" fill-rule="evenodd"><path d="M13.712.443v6.12a6.07 6.07 0 0 1 4.716 4.725h6.128c-.57-5.715-5.13-10.274-10.844-10.845z"></path><path d="M11.288.443C5.174 1.053.383 6.228.383 12.5c0 6.682 5.435 12.117 12.117 12.117 2.906 0 5.567-1.037 7.657-2.748l-4.33-4.333a5.995 5.995 0 0 1-3.327 1.02A6.066 6.066 0 0 1 6.44 12.5c0-2.926 2.087-5.373 4.848-5.936V.444z"></path><path d="M21.87 20.156a12.05 12.05 0 0 0 2.686-6.444H18.44a6.014 6.014 0 0 1-.897 2.117l4.327 4.325z"></path></g></svg>'},function(e,t){e.exports='<svg width="22" height="23" viewBox="0 0 22 23" xmlns="http://www.w3.org/2000/svg"><path d="M10.792 15.365a1.23 1.23 0 0 0 1.807.014l8.25-8.69c.48-.506.468-1.315-.027-1.807a1.23 1.23 0 0 0-1.768.027l-7.345 7.723L8.612 9.27a1.23 1.23 0 0 0-1.767-.056 1.298 1.298 0 0 0-.053 1.806l4 4.345zM1.45.178C.76.178.2.75.2 1.456v20.19c0 .704.56 1.276 1.25 1.276h19.004c.69 0 1.25-.572 1.25-1.277v-5.878c0-.706-.56-1.278-1.25-1.278s-1.25.57-1.25 1.277v4.6L2.7 20.36l.004-17.626h8.498c.69 0 1.25-.572 1.25-1.278 0-.706-.56-1.278-1.25-1.278H1.45z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="25" height="23" viewBox="0 0 25 23" xmlns="http://www.w3.org/2000/svg"><path d="M20.46 17.73H5.596L1.82 22.545a1.014 1.014 0 0 1-1.136.334A1.04 1.04 0 0 1 0 21.893V4.142C0 1.87 1.812.02 4.04.02h16.42c2.228 0 4.04 1.85 4.04 4.122v9.465c0 2.273-1.812 4.122-4.04 4.122zm-2.085-9.376H6.125c-.564 0-1.02-.467-1.02-1.042S5.56 6.27 6.125 6.27h12.25c.563 0 1.02.467 1.02 1.042s-.457 1.042-1.02 1.042zm-12.25 2.062h8.167c.563 0 1.02.466 1.02 1.04 0 .576-.457 1.043-1.02 1.043H6.125c-.564 0-1.02-.47-1.02-1.044s.456-1.04 1.02-1.04z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M4.583 14.894l-3.256 3.78c-.7.813-1.26.598-1.25-.46a10689.413 10689.413 0 0 1 .035-4.775V4.816a3.89 3.89 0 0 1 3.88-3.89h12.064a3.885 3.885 0 0 1 3.882 3.89v6.185a3.89 3.89 0 0 1-3.882 3.89H4.583z" fill="#FFF" fill-rule="evenodd"></path></svg>'},function(e,t){e.exports='<svg width="26" height="17" viewBox="0 0 55 34" xmlns="http://www.w3.org/2000/svg"><path d="M5.403 26.03A4.508 4.508 0 0 0 5 26.008a5 5 0 0 1-1.734-9.69c.54-.2 26.505-12.064 26.505-12.064 1.514-.69 2.932.08 3.182 1.718l3.596 23.573c.25 1.64-.848 2.677-2.452 2.323 0 0-6.97-1.55-14.115-3.057C18.96 31.83 16.175 34 12.9 34c-4.142 0-7.5-3.47-7.5-7.75 0-.073 0-.146.003-.22zm11.438 2.09L9 26.6s.002.54.005.607a4 4 0 0 0 7.836.914zM40.965 9.253l10-5.5A2 2 0 1 0 49.036.248l-10 5.5a2 2 0 1 0 1.928 3.504zm.987 17.17l10.5 3a2 2 0 1 0 1.1-3.845l-10.5-3a2 2 0 1 0-1.1 3.846zm-.098-8.078l10.5-1.875a2 2 0 0 0-.704-3.94l-10.5 1.876a2 2 0 0 0 .704 3.938z" fill="#FFF" fill-rule="evenodd"></path></svg>'},,function(e,t,n){e.exports=n.p+"static/images/e0c817fa56021fa9432d6ffc9af84754.svg"},function(e,t,n){e.exports=n.p+"static/images/5a5ef07f57e46f3b585f882d75e47040.svg"},,function(e,t,n){},,,function(e,t,n){},,,function(e,t){e.exports='<svg width="40" height="29" viewBox="0 0 40 29" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M.3.5c-.185.182-.3.434-.3.713v26.504c0 .55.452.998 1.01.998h37.98c.56 0 1.01-.447 1.01-.998V1.213c0-.28-.115-.53-.302-.712L20.724 18.528c-.394.374-1.048.38-1.448 0L.3.5z"></path><path d="M3.5 0h33L20.73 14.964c-.403.382-1.06.38-1.46 0L3.5 0z"></path></g></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24"><path d="M22 24H2a2 2 0 0 1-2-2v-6a1 1 0 0 1 2 0v6h20v-6a1 1 0 0 1 2 0v6a2 2 0 0 1-2 2zm-9.29-6.3a1 1 0 0 1-1.41 0l-5-5a1 1 0 1 1 1.41-1.4L11 14.58V1a1 1 0 0 1 2 0v13.58l3.29-3.29a1 1 0 1 1 1.41 1.41l-5 5z"></path></svg>'},,,,function(e,t){e.exports='<svg viewBox="0 0 82 60" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M0 9.35C0 4.2 4.14 0 9.26 0H72.5c5.12 0 9.27 4.2 9.27 9.35v40.53c0 5.17-4.14 9.36-9.26 9.36H9.28c-5.1 0-9.26-4.2-9.26-9.36V9.35zm9.25-4.67h63.27c2.55 0 4.62 2.08 4.62 4.67V49.9c0 2.57-2.07 4.66-4.62 4.66H9.25c-2.55 0-4.62-2.08-4.62-4.67V9.33c0-2.58 2.07-4.67 4.62-4.67z"></path><path d="M34.67 32.86L2.4 10.56c-.9-.62-1.13-1.86-.52-2.76.6-.9 1.98-2 2.88-1.37l32.27 22.3c2.43 1.68 5.57 1.68 8 0L77.3 6.43c.9-.62 1.97.46 2.58 1.37.62.9.4 2.14-.5 2.76L47.1 32.86c-1.88 1.3-4.05 1.96-6.2 1.96-2.18 0-4.35-.65-6.23-1.96z"></path></g></svg>'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<svg width="18" height="17" viewBox="0 0 18 17" xmlns="http://www.w3.org/2000/svg"><path d="M8.455 16.5c-.19 0-.378-.076-.522-.226-.29-.303-.29-.792 0-1.093l7.66-8.013c.57-.597.885-1.392.885-2.236 0-.844-.315-1.638-.886-2.235-1.18-1.233-3.097-1.232-4.275 0L2.433 11.99c-.5.525-.742 1.03-.715 1.502.026.46.303.815.467.985.275.29.573.41.908.364.42-.054.903-.356 1.398-.874l6.973-7.295c.288-.3.755-.3 1.043 0 .29.303.29.793 0 1.093l-6.97 7.296c-.74.773-1.5 1.215-2.26 1.314-.797.104-1.535-.175-2.135-.804-.537-.562-.856-1.267-.896-1.985-.054-.933.332-1.836 1.144-2.686l8.885-9.297c1.754-1.836 4.61-1.836 6.363 0 .85.888 1.318 2.07 1.318 3.328s-.468 2.44-1.318 3.33l-7.66 8.014c-.143.15-.332.226-.52.226z" fill-rule="evenodd"></path></svg>'},,,,,,,,,,,,function(e,t){e.exports='<svg class="spinner" viewBox="0 0 50 50"><circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle></svg>'},,function(e,t,n){},,,,,,function(e,t,n){e.exports={ConversationListContainer:"_2rrEOGdBxK80K18DLhivYl",ConversationList:"_2I2_82eb2Vas3Wt04fA0rd",ConversationListHalfHeight:"bxc0p6AK7As0EQ1xfTHdf",ConversationListEmpty:"_2nH8B3mAPpT9TL3U_bs1Lr",ConversationListBranding:"_1itnVkACH8hJb2XKCA1Eqv"}},,,function(e,t){e.exports='<svg viewBox="0 0 7 13" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M4.127.496C4.51-.12 5.37.356 5.16 1.07L3.89 5.14H6.22c.483 0 .757.616.464 1.044l-4.338 6.34c-.407.595-1.244.082-1.01-.618L2.72 7.656H.778c-.47 0-.748-.59-.48-1.02L4.13.495z" fill="#F6A623"></path><path fill="#FEF79E" d="M4.606.867L.778 7.007h2.807l-1.7 5.126 4.337-6.34H3.16"></path></g></svg>'},,,function(e,t,n){e.exports={ConversationListItem:"_6xzcxI3eyfhrannXMgTze",ConversationListItem__content:"_1n_-0oBCOx-U76ZiFaPpi1",ConversationListItem__preview:"_2L-sgKVa1443FiArEBNJWV",ConversationListItem__media:"_1LeY9mVXL7JZlFfS47Lk_c",ConversationListItem__metadata:"c-Rjowup4BDei1n_iiRrn",ConversationListItem__name:"_1S_4DRrCwt_9ALEPi_crj_",ConversationListItem__timestamp:"_3t2edw3XhIvYtZ3YLppLnP",UnreadCountBadgeContainer:"_3VwiPmVztDDqnQRoP96kxj"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e){var t=n(433),r=n.n(t),a=n(59),o=n.n(a),i=n(106),s=n.n(i),c=n(71),u=n.n(c),l=n(149),d=n(172),_=n(69),p=n(65),f=n(834),m=n(36),b=n(701),g=n(67),h=n(127),v=n(173),E=n(529),y=n(15),O=n(53);n(1442).polyfill(),n(1441);var C=null;var T=function(e){C=new E.a({orgId:Object(y.k)(e),inboxId:Object(O.d)(e),userId:Object(y.g)(e),anonymousId:Object(y.a)(e)})},M=function(e){return function(e){var t=e.embedId,n=e.alternateEmbedIds;return!n||Object(l.a)(n)?o.a.resolve(t):Object(h.c)().then(function(e){return 200===e.status?e.json():{}}).then(function(e){var n=e.country,r=Object(_.a)(o,function(e,t){return!!Object(d.a)(e,n)&&t}),a=Object(p.a)(r,function(e){return!!e}),o=n&&a.length&&a[0];return o||t}).catch(function(){return t})}({embedId:e.embedId,alternateEmbedIds:e.alternateEmbedIds}).then(function(e){return Object(g.b)(e).promise}).then(function(e){window.parent.postMessage({type:"iframeConfigV1",payload:{embed:e}},"*")})},I=function(t){var a=t.debugEnabled,i=t.showWidgetOnBoot,c=t.welcomeMessageDismissed,l=t.initialState,d=t.eventQueue,_=void 0===d?[]:d;window.__DRIFTT_DEBUG__=a,n(837),Object(b.a)(),C=new E.a({orgId:Object(y.k)(l),inboxId:Object(O.d)(l),userId:Object(y.g)(l),anonymousId:Object(y.a)(l),isDebug:a});var p=_.map(function(e){var t=r()(e),n=t[0],a=t.slice(1);return P.apply(void 0,[n].concat(s()(a)))}),g=function(){var t=document.getElementById("root");u.a.render(e.createElement(f.a,{initialState:l,showWidget:i,welcomeMessageDismissed:c}),t)};o.a.all(p).then(function(){g()}).catch(function(e){m.a.warn("Event API request failed",e),g()})},P=function(e){for(var t,n,r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];switch(C||m.a.warn.apply(m.a,["Widget event API has not been initialized yet",e].concat(a)),e){case"identify":return(t=C).identify.apply(t,a);case"track":return(n=C).track.apply(n,a);default:return o.a.resolve()}};window.addEventListener("message",function(e){if(e.source===window.parent){var t=e.data;switch(t.type){case"widgetConfigV1":M(t.payload);break;case"iframeInit":case"widgetInitV1":I(t.payload);break;case v.d:T(t.payload);break;case"widgetEventV1":P.apply(void 0,s()(t.payload))}}},!1),window.parent.postMessage({type:"iframeReady"},"*")}.call(this,n(0))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(1539),n(1532),n(1510),n(1489),n(1486),n(1484),n(1481)},function(e,t,n){n(1540),e.exports=n(1479)}]);